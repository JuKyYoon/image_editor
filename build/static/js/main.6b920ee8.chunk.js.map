{"version":3,"sources":["components/Error.js","locale/i18n.js","components/ui/Loading.js","components/Project.js","components/New_project.js","components/const/consts.js","css/img/imgerror.svg","components/helper/GetImage.js","components/ImageList.js","components/Upload_file.js","components/ImageModal.js","components/helper/UnspalshAPI.js","components/LoadImage.js","components/Withdrawal.js","components/Main.js","components/Save.js","components/action/Action.js","components/action/Rotation.js","components/filters/glfx/ink.js","components/filters/glfx/vignette.js","components/filters/glfx/zoomblur.js","components/filters/glfx/vibrance.js","components/filters/glfx/hueSaturation.js","components/filters/glfx/denoise.js","components/filters/glfx/hexagonalPixelate.js","components/filters/glfx/tiltshift.js","components/action/Filter.js","components/action/ObjectAction.js","components/action/Delete.js","components/helper/ConverRGB.js","components/action/Shape.js","components/helper/originImage.js","components/action/Image.js","components/action/Crop.js","components/action/Flip.js","components/action/Text.js","components/action/Fill.js","components/action/Icon.js","components/action/Line.js","components/action/Clip.js","components/action/Draw.js","components/helper/Brush.js","components/extension/Extension.js","components/extension/Grid.js","components/extension/Util.js","components/extension/Snap.js","components/extension/Pipette.js","components/extension/Layers.js","components/ui/SideNav.js","components/helper/SwitchTools.js","components/ui/Filter.js","components/ui/ImageMini.js","components/ui/Image.js","components/ui/Tools.js","components/ui/Icon.js","components/ui/Text.js","components/ui/Object.js","components/ui/Rotation.js","components/ui/Shape.js","components/ui/Draw.js","css/img/brush/pencilBrush.png","css/img/brush/circleBrush.png","css/img/brush/patternBrush.png","css/img/brush/sprayPatternBrush.png","css/img/brush/vLinePatternBrush.png","css/img/brush/hLinePatternBrush.png","css/img/brush/squarePatternBrush.png","css/img/brush/diamondPatternBrush.png","components/ui/Canvas.js","components/ui/History.js","components/ui/Effect.js","components/ImageEditor.js","components/ImageFilter.js","components/helper/generate3dPhoto.js","components/Home.js","components/HelperPages.js","components/Helper.js","components/SignIn.js","components/SignUp.js","components/Change_password.js","components/Find_password.js","Route.js","index.js","components/helper/Resize.js"],"names":["Error","id","className","React","Component","resource","en","translation","ko","i18n","use","LanguageDetector","initReactI18next","init","resources","lng","localStorage","getItem","fallbackLng","useLocalStorage","localStorageExpirationTime","debug","interpolation","escapeValue","Loading","open","this","props","i18next","t","withTranslation","Project","getProjects","setState","loading","fetch","method","headers","body","JSON","stringify","search","input","current","value","limit","offset","sort","state","then","res","json","data","success","result","length","scroll","projects","concat","update","project_length","msg","alert","window","location","replace","catch","handleSubmit","event","preventDefault","handleSearchChange","change_state","target","name","initCanvas","canvas","fabric","Canvas","fromJsontoPng","idx","loadFromJSON","document","getElementById","src","toDataURL","format","clear","deleteProject","getAttribute","isNaN","prj_idx","index","findIndex","element","Number","splice","bool","deleteAllProjects","console","log","err","checkDelete","confirm","projectSort","option","Promise","resolve","reject","parseInt","last","loginCheck","createRef","onClick","onSubmit","ref","type","delete","style","overflow","height","dataLength","next","hasMore","loader","scrollableTarget","map","prj","to","pathname","save","project_data","project_idx","width","alt","openProject","title","Date","create_date","getMonth","getDate","getFullYear","getHours","getMinutes","New_project","renderLink","handleChange","sizeCheck","debounce","addTemplate","localTemplate","push","setItem","forceUpdate","deleteTemplate","deleteAllTemplate","showTemplate","canvasList","parse","templateList","i","htmlFor","onChange","min","max","iconList","arrow","icon_cancel1","icon_cancel2","thunder","icon_arrow","icon_arrow_2","icon_arrow_3","icon_arrow_4","icon_star","icon_star_2","icon_polygon","icon_location","icon_heart","icon_heart2","icon_bubble","icon_cloud","icon_camera","icon_instagram","icon_man","icon_facebook","icon_apple","icon_question","icon_exclamation","icon_thumbs_up","icon_magnifier","icon_twitter","icon_fish","icon_undo","icon_time1","icon_tree1","icon_minus_circle","icon_folder1","icon_folder2","icon_wifi","icon_paper_plane1","icon_paper_plane2","icon_check1","icon_yen_sign","icon_dollar_sign","icon_umbrella","icon_video","icon_youtube","icon_cursor1","icon_windows","icon_paw","fontList","filterList","ObjectIcon","randomWord","textIcon","linkIcon","RotationIcon","corsLink","process","getSearchImage","image_count","url","URL","params","client_id","count","query","Object","keys","forEach","key","searchParams","append","ImageList","submitSearch","getImage","searchChange","showImage","imagelist","listitem","image","user","links","html","dl","download_location","urls","thumb","onClickThumb","full","raw","regular","small","full-width","user_link","full_width","getImageSize","onClickImg","onImgUrlChange","imageNotFound","imageFound","img","thumb_img","Image","onload","imageSize","x","y","Math","round","onerror","imageSizeVersion","scrollBot","scrollTop","scrollHeight","randomCountChange","random_count","images","floor","random","imgerror","error","toUpperCase","children","Upload_file","openURL","urlState","isUrlEnable","fileChange","accept","display","urlImageChange","placeholder","autoComplete","color","ImageModal","close","up","createApi","accessKey","LoadImage","unsplash","photos","trackDownload","downloadLocation","submit","imgRatio","ratio","originWidth","originHeight","filter","imgWidth","imgHeight","imageModal","imgObj","crossOrigin","tempCanvas","createElement","tempCtx","getContext","naturalHeight","naturalWidth","drawImage","dataURL","file","files","createObjectURL","handleImageSizeChange","closeImageModal","showPreviewImg","href","rel","step","1","imgUrl","2","tab","Withdrawal","inputHandler","e","withdrawalHandler","password","maxLength","Main","changeTab","loginSuccess","login_state","loginFail","getCheck","info","user_id","logoutClickHandler","withdrawalModalHandler","withdrawalModal","changeToKorean","changeLanguage","changeToEnglish","0","3","login","Save","changeFormat","$","val","saveHandler","user_name","getCheckSave","updateHandler","isSaved","handleTitleChange","pattern","match","saveState","imageHandler","loginstat","defaultChecked","disabled","Action","App","app","_name","getActiveObject","getCanvas","getImageEditor","getBackgroundImage","getGrid","grid","setGrid","getGridOn","getClipboard","clip","setClipboard","addKeyDownEvent","removeKeyDownEvent","action","updateObject","loadingFinish","loadingStart","resetCanvas","_onCanvasMove","_offCanvasMove","_onCanvasZoom","_offCanvasZoom","updateLockScale","getLockScale","Rotation","angle","obj","set","renderAll","ResizeHelper","exchangeBackgroundSize","filters","createClass","util","Ink","BaseFilter","fragmentSource","mainParameter","ink_matrix","ink","applyTo2d","options","canvasEl","len","imageData","isNeutralState","getUniformLocations","gl","program","uInk","getUniformLocation","texSize","sendUniformData","uniformLocations","uniform1f","pow","uniform2fv","fromObject","Vignette","vignette_matrix","size","amount","ZoomBlur","zoomblur_matrix","center_x","center_y","strength","center","Vibrance","hueSaturation","hueSaturation_matrix","hue","saturation","Denoise","denoise_matrix","exponent","HexagonalPixelate","hexagonal_matrix","scale","scele","TiltShift","tiltshift_matrix","blurRadius","gradientRadius","start","end","delta","retrieveShader","programCache","hasOwnProperty","createProgram","context","applyToWebGL","shader","pass","originalTexture","bindTexture","TEXTURE_2D","sourceTexture","useProgram","sendAttributeData","attributeLocations","aPosition","viewport","destinationWidth","destinationHeight","drawArrays","TRIANGLE_STRIP","Filter","previewFilter","clone","cloned","Invert","applyFilter","checked","Brownie","Technicolor","Polaroid","BlackWhite","Vintage","Sepia","Kodachrome","Convolute","matrix","Grayscale","mode","gray_mode","Brightness","brightness","Contrast","contrast","Pixelate","blocksize","Blur","blur","Noise","noise","Saturation","HueRotation","rotation","RemoveColor","distance","BlendColor","alpha","Gamma","gamma","parseFloat","r","g","b","startX","startY","endX","endY","dx","dy","d","sqrt","opacity","applyFilters","filterBackend","WebglFilterBackend","isWebglSupported","textureSize","ObjectAction","setShadow","Shadow","offsetX","offsetY","fill","removeShadow","setStroke","stroke","strokeColor","strokeWidth","lockScaleRatio","scaleY","scaleX","scaleXChange","scaleYChange","makeGroup","toGroup","unGroup","toActiveSelection","sendBackwards","sendToBack","bringForward","bringToFront","moveSelected","direction","activeObject","left","top","setCoords","Delete","deleteObject","isEditing","remove","_objects","discardActiveObject","deleteAllObject","getObjects","convertRGB","a","HEXtoRGBA","hexcolor","substring","Shape","setEndAngle","endAngle","PI","shape","noScaleCache","strokeUniform","setStrokeColor","_bindShapeEvent","on","scaling","resize","addShape","shapeType","defaultCursor","addEventListener","addShapeEvent","myFigure","tagName","disableObj","lockMovementY","lockMovementX","pointer","getPointer","Triangle","originX","originY","isRegular","cornerStrokeColor","borderColor","add","setActiveObject","Rect","Ellipse","rx","ry","Circle","radius","selection","shapeCreateResizeEvent","shapeEndResizeEvent","removeEventListener","off","adjustOriginToCenter","abs","originImage","addImageEvent","loadImage","testUrl","addImage","setTimeout","fromURL","_element","saveImage","quality","setAttribute","click","Crop","cropzoneOption","label","cropObj","_cropzone","Cropzone","addEvent","requestRenderAll","cropObjstop","deleteEvent","cropObjend","test_canvas","preserveObjectStacking","imageSmoothingEnabled","group","Group","_restoreObjectsState","item","cropRect","oCoords","tl","imageName","dispose","resizeCropzone","removeCropzone","offCanvasMove","offCanvasZoom","cropCanvasEvent","movingCropzone","cropCanvas","vpt","viewportTransform","getZoom","cornerColor","cornerSize","transparentCorners","setControlsVisibility","mtr","cropEndCanvas","backgroundImage","setHeight","setWidth","calcOffset","adjustBackgroundImage","cropStopCanvas","fillOuterBox","ctx","fillStyle","beginPath","moveTo","lineTo","closePath","bl","br","tr","restore","setCropCanvasSize","cropCanvasSize","object","initialize","virtualModeColor","setToVirtualMode","callSuper","isInVirtualMode","backgroundColor","_render","Flip","flip","flipX","flipY","Text","addTextEvent","text","Textbox","fontSize","addTextOpt","fontFamily","font","lockScalingY","textBackgroundColor","mt","mb","addText","textObj","fontWeight","fontStyle","underline","textAlign","Fill","rgb","changeOpacity","Icon","addIcon","icon","_createIcon","canvas_area","onmousedown","_addIcon","_iconCreateResizeEvent","_iconCreateEndEvent","loadSvgIcon","path","Path","Line","addLineResize","line","x2","y2","addLineEvent","right","hasBorders","cornerStyle","ml","mr","addLineEndEvent","addLine","Clip","copyObject","pasteObject","clipboard","clonedObj","evented","forEachObject","Draw","setBrush","brush","vLinePatternBrush","PatternBrush","getPatternSrc","patternCanvas","strokeStyle","lineWidth","hLinePatternBrush","squarePatternBrush","squareWidth","fillRect","diamondPatternBrush","rect","canvasWidth","getBoundingRect","render","PencilBrush","CircleBrush","SprayBrush","brushList","getBrush","checkBrush","undefined","openDrawing","linewidth","isDrawingMode","freeDrawingCursor","freeDrawingBrush","closeDrawing","changeDrawingWidth","changeDrawingColor","String","source","call","changeDrawingBrush","_stopEvent","drawPolygonWithClick","pointer_list","circle_group","lines","drawPolygonMouseDownEvent","drawPolygonMouseMoveEvent","makePolygon","button","p","cir","selectable","drawPolygonWithDrag","dragPolygonStart","draggingPolygon","dragPolygonEnd","throttle","deleteCircle","pos","polygon","Polygon","slice","storkeWidth","objectCaching","Extension","Grid","makeGrid","grids","gridoption","addWithUpdate","showGrid","hideGrid","Util","newCanvas","changeBackgroundColor","printObject","first","entries","objstack","convertSvg","loadSVGFromURL","objects","groupSVGElements","toSVG","convertObjSvg","convertObjScale","Snap","snapMovingEvent","movementX","movementY","getPointByOrigin","onClickSnap","snapObjectMovingEvent","target_top","aCoords","target_bottom","target_left","target_right","obj_top","obj_bottom","obj_right","obj_left","onClickObjectSnap","Pipette","enablePipette","setColor","pipetteEvent","disablePipette","getImageData","devicePixelRatio","Layers","showLayers","objs","canvas_list","c","getHeight","getWidth","clickLayer","buttonLayer","stylelang","UI","SwitchTools","args","toArray","getElementsByClassName","el","documentUpdate","switchTools","imageSelection","list","change_filters","Array","from","indexOf","list2","list2_onoff","adjustmenu","toLowerCase","is","filterObject","filterObjectforValue","filterValueObject","removecolor","blendcolor","handleFilterChange","filterOption","rangeFilterObject","handleRemoveColorChange","handleBlendColorChange","handleMultipleFilterChange","handleBlendModeChange","handleGammaChange","setRemoveColor","setBlendColor","changeMenu","filtermenu","changeRange","openrange","rangeStyle","pixelate","huerotation","vignette","zoomblur","vibrance","denoise","grayscale","tiltshift","hexagonalpixelate","CSSTransition","in","timeout","classNames","unmountOnExit","viewBox","huesaturation","nextProps","prevState","ret","ImageMini","openModal","full_img","closeModal","handleCropImage","cropOption","cropObject","imgURL","importImage","urlOpen","displayURL","libOpen","lib","displaylib","cropStopObject","crop","cropEndObject","imgStatus","Tools","handleInfo","objectInfo","getCanvasInfo","getCanvasBackinfo","openSaveModal","padding","toFixed","canvasView","zoom","searchIcon","handleColorChange","handleOpacityChange","change","handlePipette","pipette","textSelection","handlefontSizeChange","textOption","textObject","fontListUp","handlefontlistClicked","showfont","handlefontSizeButton","level","onFontSizemousedownEvent","isPressed","handlefontSizeInterval","onFontSizemouseupEvent","textAction","textActionColor","bgcolor","handleBGColorChange","hexbgcolor","handleBGOpacityChange","handlefontfamilybutton","onShowFontEvent","fontlist","choose","xmlns","handleScaleXChange","handleScaleYChange","flipObject","handleAngleChange","setObjectAngle","rotateObject","rotateObjectAngle","setAngle","changeAngle","angleValue","version","handleEndAngleChange","handleShapeSelect","spoid","makePolygonWithClick","makePolygonWithDrag","handleDrawingWidth","handleDrawingBrush","brush_now","showbrush","brushListUp","handlebrushbutton","canvasUpdate","gridOn","snapOn","objectSnapOn","handleCropCanvasSizeChange","displayCropCanvas","offdisplayCropCanvas","openHiddenMenu","closeHiddenMenu","setProperty","clearBackgroundColor","exportCanvas","localImportCanvas","onClickGrid","History","showUndoStack","showCurrentState","shadow","handleShadowChange","toggleShadow","handleStrokeWidthChange","handleStrokeColorChange","hexstrokeColor","handleStrokeOpacityChange","ImageEditor","_onKeydownEvent","ctrlKey","keyCode","metaKey","_clipboard","undo","_onShiftKeydownEvent","shift","_onShiftKeyUpEvent","_onMouseDownEvent","_onMouseUpEvent","_createDomEvent","checkCanvasSize","_canvasMoveStartEvent","altKey","isDragging","lastPosX","clientX","lastPosY","clientY","_canvas","_canvasMovingEvent","_canvasMoveEndEvent","setViewportTransform","_canvasZoomEvent","deltaY","zoomToPoint","stopPropagation","canvasZoom","canvasZoomIn","_createCanvasEvent","lock","_movedObjectSave","_deleteCanvasEvent","_deleteDomevent","setZoom","dotoggle","stateStack","stackMaxSize","currentState","toDatalessJSON","backFilter","_backgroundImage","redoStack","applyState","pop","redo","stack","newState","resetState","state_id","firstState","_imageSelection","_textboxSelection","_createAction","_register","getName","_activeObject","getCanvasSize","lockScale","openSave","closeSaveModal","downloadImage","cropObjMouseDown","cropImg","toJSON","Blob","makeImportCanvas","uniformScaling","fireRightClick","importCanvas","reader","FileReader","readAsText","activePopupTab","resizeScale","getCanvasBackgroundInfo","getMousePointInfo","showPointer","getCanvasEventInfo","__eventListeners","onclickUndoStack","origin","dest","onclickRedoStack","number","showRedoStack","clickHandler","returnToHome","wheelDelta","canvasZoomOut","buttonCanvasZoom","zoomScale","scaleZoom","maxHeight","clientHeight","maxWidth","clientWidth","history","_canvasImageUrl","_canvasSize","_backgroundImageRatio","_openProject","_project_data","startPoint","kostyle","enstyle","prototype","historyBorder","layerBorder","infoBorder","language","popupTab","4","5","6","7","8","9","10","boutnds","tabIndex","when","message","ImageFilter","imgSubmit","sourceImg","mapSubmit","mapImg","generate","ph","deleteChild","$target","querySelector","PIXI","stage","appendChild","view","depthMap","displacementFilter","DisplacementFilter","addChild","onmousemove","generate3dPhoto","hasChildNodes","removeChild","firstChild","Home","GetStarted","component","GoHelper","exact","sub","SignIn","loginHandler","loginClickHandler","aria-hidden","data-validate","SignUp","swtichSubmit","pattern_pass","passwordConfirm","answer","findHighlightTag","activeElement","id_highlight","password_hightlight","validateInput","registerHandler","registerDupHandler","validatePassword","lowerCaseLetters","numbers","classList","registerClickHandler","idDupCheck","question","id_style","duptag","border","vlaue","defaultValue","Change_password","new_password","confirm_password","password_highlight","current_password","change_passwordHandler","change_passwordClickHandler","Find_password","findHandler","findClickHandler","isLogin","response","PublicRoute","restricted","rest","useAsync","promiseFn","isLoading","PrivateRoute","ReactDOM","Helper","FindPassword","ChangePassword","adjustOriginByStartPoint","centerPoint","originPositions","sx","sy","px","py","cos","sin","getPositionsOfRotatedOrigin","hasControls","module","exports","shapeScalingResizeEvent"],"mappings":"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CA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,+BACE,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,yCAGJ,qBAAKA,UAAU,cAAf,mCCoCF,IAAK,WACH,OD5BF,gCACE,qBAAKA,UAAU,aAAf,SACE,gFAEF,0BAASA,UAAU,iBAAnB,UACE,mGACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,+BACE,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,gDAGJ,qBAAKA,UAAU,cAAf,mCCpDF,IAAK,cACH,OD4DF,gCACE,qBAAKA,UAAU,aAAf,SACE,mEAEF,0BAASA,UAAU,iBAAnB,UACE,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,2DACA,+BACE,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,+CAGJ,qBAAKA,UAAU,cAAf,mCC/FF,QACE,OAAO,6GAIE4B,qBAAkB6oC,IC1E3BM,I,oEACJ,WAAYtpC,GAAQ,IAAD,8BACjB,cAAMA,IAMRupC,aAAe,SAAC/1B,GAAO,IAAD,EACEA,EAAE3Q,OAAjBC,EADa,EACbA,KAAM7B,EADO,EACPA,MACb,EAAKX,SAAL,eAAgBwC,EAAO7B,KATN,EAWnBuoC,kBAAoB,SA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","file":"static/js/main.6b920ee8.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../css/Error.scss'\r\n\r\nclass Error extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"main\">      \r\n        <p id=\"number\">\r\n          4<i className=\"fas fa-spinner fa-spin\"></i>4\r\n        </p>\r\n       \r\n        <p id=\"not_found\">\r\n          Not Found\r\n          <br/>\r\n          <i className=\"fas fa-sad-tear\"></i>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Error;\r\n","import i18n from \"i18next\"\r\nimport {initReactI18next} from \"react-i18next\";\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport translationEn from './en/english'\r\nimport translationKo from './ko/korean'\r\nconst resource =  {\r\n    en: {\r\n        translation: translationEn\r\n    },\r\n    ko: {\r\n        translation: translationKo\r\n    }\r\n};\r\n\r\ni18n\r\n    .use(LanguageDetector)\r\n    .use(initReactI18next)  // passes i18n down to react-i18next\r\n    .init({\r\n        resources: resource,\r\n        lng: localStorage.getItem(\"i18nextLng\") || \"en\",\r\n        fallbackLng: 'en',\r\n        useLocalStorage: true,\r\n        localStorageExpirationTime: 86400000,\r\n        // ns: ['translation'],\r\n        // defaultNS: \"translation\",\r\n        debug: false,\r\n        // debug: true,\r\n        // keySeparator: false, // we do not use keys in form messages.welcome\r\n        interpolation: {\r\n            escapeValue: false // react already safes from xss\r\n        }\r\n    });\r\n\r\nexport default i18n;","import React, { Component } from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../../css/Loading.scss'\r\n\r\nclass Loading extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n  componentDidMount(){\r\n    // console.log('loading........................', new Date().getTime());\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    // console.log('loading update?........................', new Date().getTime());\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    // console.log('finish.........................', new Date().getTime());\r\n  }\r\n  render(){\r\n    const { open } = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t{open === true ?\r\n\t\t\t\t  <div className = \"modal\">\r\n\t\t\t\t\t\t<div className = \"loadingModal\">\r\n              <div className = \"loadingModal-content\">\r\n                <i className=\"fas fa-spinner fa-spin\"></i>\r\n                <p className = \"loading-text\">{i18next.t('ui/loading.Loading')}</p>\r\n              </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> : null }\r\n\t\t\t</div>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Loading);","import React, { Component } from 'react';\r\nimport {fabric} from 'fabric';\r\nimport { Link } from 'react-router-dom';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Loading from './ui/Loading';\r\nimport '../css/Project.scss';\r\n\r\nclass Project extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projects : [],\r\n      project_length : 20,\r\n      scroll: true,\r\n      sort : 0,\r\n      loading : false\r\n    }\r\n    this.canvas = null;\r\n    this.limit = 20;\r\n    this.offset = 0;\r\n    this.update = false;\r\n    this.input = React.createRef();\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.initCanvas();\r\n  }\r\n\r\n  getProjects = () => {\r\n    if(this.props.id === '') { return; }\r\n    this.setState({loading : true})\r\n    fetch('/content/get', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        id : this.props.id, \r\n        search : this.input.current.value,\r\n        limit : this.limit,\r\n        offset : this.offset,\r\n        sort : this.state.sort\r\n      })\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      this.setState({loading : false})\r\n      if(data.success){\r\n        if(data.result.length === 0) {\r\n          this.setState({scroll: false});\r\n          return;\r\n        }\r\n        let projects = this.state.projects.concat(data.result);\r\n        if(this.update) {\r\n          projects = data.result;\r\n          this.update = false;\r\n        }\r\n        this.offset = projects.length;\r\n        this.setState({projects : projects, project_length: projects.length, scroll: data.result.length === this.limit});\r\n      }\r\n      else{\r\n        if(data.msg === \"not login\") {\r\n          alert(i18next.t(\"login_expired\"));\r\n          window.location.replace('/');\r\n          return;\r\n        }\r\n        alert(i18next.t('Project.Error'));\r\n      }\r\n    })\r\n    .catch(() => {\r\n      alert(i18next.t('Project.Error'));\r\n      this.setState({loading : false})\r\n    })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.offset = 0;\r\n    this.update = true;\r\n    this.getProjects();\r\n  }\r\n\r\n  handleSearchChange = (event) => {\r\n    let change_state = {};\r\n    change_state[event.target.name] = event.target.value;\r\n    this.setState(change_state);\r\n  }\r\n\r\n  initCanvas = () => {\r\n    this.canvas = new fabric.Canvas('c');\r\n    this.getProjects();\r\n  }\r\n\r\n  fromJsontoPng = (json, idx) => {\r\n    this.canvas.loadFromJSON(json, () => {\r\n      if(document.getElementById(idx)){\r\n        document.getElementById(idx).src = this.canvas.toDataURL({format : 'png'});\r\n        this.canvas.clear();\r\n      }\r\n    })\r\n    return this.canvas.toDataURL({format : 'png'});\r\n  }\r\n\r\n  deleteProject = (event) => {\r\n    let idx = event.target.getAttribute('idx');\r\n    if(this.props.id === '' || isNaN(idx)) { return; }\r\n\r\n    fetch('/content/delete', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({id : this.props.id, prj_idx : idx})\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.success){\r\n        let index = this.state.projects.findIndex((element) => {\r\n          if(Number(element.idx) === Number(idx)) {return 1;}\r\n          else {return 0;}\r\n        });\r\n        this.state.projects.splice(index, 1);\r\n        let bool = this.state.projects.length === 0 ? false : true;\r\n        this.setState({project_length: this.state.projects.length, scroll: bool});\r\n      }\r\n      else{\r\n        if(data.msg === \"not login\") {\r\n          alert(i18next.t(\"login_expired\"));\r\n          window.location.replace('/');\r\n          return;\r\n        }\r\n        alert(i18next.t('Project.Error'));\r\n      }\r\n    })\r\n    .catch(() => {\r\n      alert(i18next.t('Project.Error'));\r\n    })\r\n  }\r\n\r\n  deleteAllProjects = () => {\r\n    if(this.props.id === '') { return; }\r\n    fetch('/content/deleteall', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({id : this.props.id})\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n      if(data.success){\r\n        this.setState({projects: [], project_length: 0, scroll:false});\r\n      }\r\n      else{\r\n        if(data.msg === \"not login\") {\r\n          alert(i18next.t(\"login_expired\"));\r\n          window.location.replace('/');\r\n          return;\r\n        }\r\n        alert(i18next.t('Project.Error'));\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      alert(\"i18next.t('Project.Error')\");\r\n    })\r\n  }\r\n\r\n  checkDelete = (event) => {\r\n\r\n    let option = event.target.getAttribute('delete');\r\n    let delete_check;\r\n\r\n    if( option === 'all'){\r\n      delete_check= window.confirm(i18next.t('Project.Deleteallcheck'));\r\n      if(delete_check){\r\n        this.deleteAllProjects();\r\n      }\r\n      // else{\r\n      //   alert(i18next.t('Project.Cancel'))\r\n      // }\r\n    }\r\n    else{\r\n      delete_check= window.confirm(i18next.t('Project.Deletecheck'));\r\n      if(delete_check){\r\n        this.deleteProject(event);\r\n      }\r\n      // else{\r\n      //   alert(i18next.t('Project.Cancel'))\r\n      // }\r\n    }\r\n  }\r\n\r\n  projectSort = (event) => {\r\n    let option = event.target.getAttribute('option');\r\n    if(this.state.sort === Number(option)) return;\r\n    new Promise((resolve, reject) => {\r\n      this.update = true;\r\n      if(option >=0 && option <= 3){\r\n        this.setState({sort : parseInt(option), last : '', projects : []});\r\n        this.offset = 0;\r\n        resolve();\r\n      }\r\n      else{\r\n        reject();\r\n      }\r\n    })\r\n    .then(() => this.getProjects())\r\n    .catch((err) => { alert(err); })\r\n  }\r\n\r\n  loginCheck = () => {\r\n    fetch('/auth/check', {\r\n      method: 'GET',\r\n      headers : { 'Cache-control' : 'no-cache' }\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.msg === \"not login\") {\r\n        alert(i18next.t(\"login_expired\"));\r\n        window.location.replace('/');\r\n        return;\r\n      }\r\n    })\r\n    .catch(() => {\r\n      alert(i18next.t('Project.Error'));\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"project-main\">\r\n        {/* <p>{this.state.last.title} {this.state.last.create_date}</p> */}\r\n        <div className=\"project-header\">{i18next.t('Project.Project')}</div>\r\n        <div className=\"project-button-box\">\r\n            <div className=\"sort-button-box\">\r\n                <button className = \"proejct-sort-button\" option = \"0\" onClick= {this.projectSort}> {i18next.t('Project.Title')} ↑ </button>\r\n                <button className = \"proejct-sort-button\" option = \"1\" onClick= {this.projectSort}> {i18next.t('Project.Title')} ↓ </button>\r\n                <button className = \"proejct-sort-button\" option = \"2\" onClick= {this.projectSort}> {i18next.t('Project.Date')} ↑ </button>\r\n                <button className = \"proejct-sort-button\" option = \"3\" onClick= {this.projectSort}> {i18next.t('Project.Date')} ↓ </button>\r\n            </div>\r\n            <div className=\"project-search\">\r\n                <div className=\"project-search-form\">\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <label className=\"search-title\">{i18next.t('Project.Title')} </label>\r\n                        <input className=\"search\" name=\"search\" ref={this.input}  />\r\n                        <input type=\"submit\" value=\"Search\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <button id=\"delete-all\" delete = \"all\" onClick={this.checkDelete}> {i18next.t('Project.Delete all')}</button>\r\n        </div>\r\n        <div id=\"project-list\" style={{overflow:\"auto\", height:500}}>\r\n          <InfiniteScroll \r\n            dataLength={this.state.project_length}\r\n            next={this.getProjects}\r\n            hasMore={this.state.scroll}\r\n            loader={<h4>Loading...</h4>}\r\n            scrollableTarget=\"project-list\">\r\n            {this.state.projects.map((prj) =>\r\n              <div className=\"project-div\" key={prj.idx}>\r\n                <button idx= {prj.idx} delete=\"one\" onClick={this.checkDelete}>X</button>\r\n                <div className=\"project-img\">\r\n                  <Link onClick={this.loginCheck}\r\n                  to={{\r\n                    pathname: '/edit',\r\n                    save : true,\r\n                    project_data : prj.project_data,\r\n                    project_idx : prj.idx,\r\n                    state: {\r\n                      width: 500,\r\n                      height: 400,\r\n                    }\r\n                  }}><img className=\"project-thumb\" id={prj.idx} src = {this.fromJsontoPng(prj.project_data, prj.idx)} width=\"auto\" height=\"200px\" alt=\"none\" onClick = {this.openProject}/>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"project-title\">\r\n                  <p>{prj.title}</p>\r\n                  <p> {\r\n                  `${new Date(prj.create_date).getMonth()+1}/${new Date(prj.create_date).getDate()}/${new Date(prj.create_date).getFullYear()} \r\n                  ${new Date(prj.create_date).getHours()}:\r\n                  ${new Date(prj.create_date).getMinutes()}`\r\n                  } </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </InfiniteScroll>\r\n        </div>\r\n        <Loading open = {this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Project);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../css/New_project.scss';\r\nimport debounce from 'lodash/debounce';\r\n\r\nclass New_project extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {width: 500, height: 500, input : false}\r\n    this.localTemplate = JSON.parse(localStorage.getItem('canvas-template')) || []\r\n  }\r\n\r\n  renderLink = (width, height) => {\r\n    if (width === 0 || height === 0) {\r\n      return <p>no link</p>\r\n    }\r\n    return <div className=\"link-container\">\r\n      <Link className=\"edit-link\" to={{\r\n      pathname: '/edit',\r\n      state: {\r\n        width: width,\r\n        height: height,\r\n      }\r\n      }}>\r\n        <div className=\"new-link\"><i className=\"far fa-image\"></i></div> \r\n      </Link>\r\n      <div className='description'>{width}X{height}</div> \r\n    </div>\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const {name, value} = event.target;\r\n    new Promise((resolve) => {\r\n      this.setState({[name]: value});\r\n      resolve()\r\n    })\r\n    .then(() => {\r\n      // this.sizeCheck();\r\n    })\r\n  }\r\n\r\n  sizeCheck = debounce(() => {\r\n    if(this.state.width < 10){\r\n      this.setState({width : 10})\r\n    }\r\n    if(this.state.width > 5000){\r\n      this.setState({width : 5000})\r\n    }\r\n    if(this.state.height < 10){\r\n      this.setState({height : 10})\r\n    }\r\n    if(this.state.height > 5000){\r\n      this.setState({height : 5000})\r\n    }\r\n  }, 1000)\r\n\r\n  addTemplate = () => {\r\n    this.localTemplate.push({width : this.state.width, height : this.state.height})\r\n    localStorage.setItem('canvas-template', JSON.stringify(this.localTemplate));\r\n    // console.log(this.localTemplate)\r\n    this.forceUpdate()\r\n  }\r\n\r\n  deleteTemplate = (event) => {\r\n    let idx = parseInt(event.target.getAttribute('idx'));\r\n    this.localTemplate.splice(idx, 1);\r\n    localStorage.setItem('canvas-template', JSON.stringify(this.localTemplate));\r\n    this.forceUpdate()\r\n    \r\n  }\r\n\r\n  deleteAllTemplate = () => {\r\n    this.localTemplate = []\r\n    localStorage.setItem('canvas-template', JSON.stringify(this.localTemplate));\r\n    this.forceUpdate()\r\n  }\r\n\r\n  showTemplate = () => {\r\n    let canvasList = JSON.parse(localStorage.getItem('canvas-template'))\r\n    let templateList = []\r\n    if(canvasList){\r\n      if(canvasList.length === 0){\r\n        return null;\r\n      }\r\n      // console.log(canvasList)\r\n      for(let i=0; i<canvasList.length; i++){\r\n        templateList.push(\r\n          <li className=\"canvas-list\" key={i}>\r\n            <div>\r\n              <button className=\"template-delete-btn\" onClick={this.deleteTemplate} idx={i}>{i18next.t('New_Project.Delete')}</button>\r\n            </div>\r\n            {this.renderLink(canvasList[i].width, canvasList[i].height)}\r\n          </li>\r\n          )\r\n      }\r\n      return(\r\n        <div>\r\n          <hr/>\r\n          <div className=\"canvas-template-title\">\r\n            {i18next.t('New_Project.LocalTemplate')}\r\n            <button className=\"delete-all-template\" onClick={this.deleteAllTemplate}>{i18next.t('New_Project.DeleteAll')}</button>\r\n          </div>\r\n          <ul className=\"canvas-template-ul\">\r\n            {templateList}\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='New_project'>\r\n        <div className=\"option-title\">{i18next.t('New_Project.Select Size')}</div>\r\n        <div className=\"canvas-list-div\">\r\n          <ul className='canvas-list-ul'>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(150, 150)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(300, 300)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(360, 360)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(512, 512)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(600, 600)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(640, 480)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(800, 480)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(800, 600)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(1080, 720)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(1080, 1080)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(1280, 720)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(1280, 1280)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(1920, 1080)}\r\n            </li>\r\n            <li className=\"canvas-list\">\r\n                {this.renderLink(2048, 2048)}\r\n            </li>\r\n          </ul>\r\n          {this.showTemplate()}\r\n        </div>\r\n        {/* <div className=\"option-title\">{i18next.t('New_Project.Direct Input')}</div> */}\r\n        <div className=\"new-project-input\">\r\n          <div className=\"direct-input-button\">\r\n            <div className=\"input-group\">\r\n              <label htmlFor=\"width\">{i18next.t('New_Project.Width')}</label>\r\n              <input type=\"number\" name=\"width\" value={this.state.width} onChange={this.handleChange} min=\"10\" max=\"5000\"/>\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <label htmlFor=\"height\">{i18next.t('New_Project.Height')}</label>\r\n              <input type=\"number\" name=\"height\" value={this.state.height} onChange={this.handleChange} min=\"10\" max=\"5000\"/>\r\n            </div>\r\n            <div className=\"add-template\">\r\n              <button onClick={this.addTemplate}>{i18next.t('New_Project.AddTemplate')}</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"render-button\">\r\n            {this.renderLink(this.state.width, this.state.height)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(New_project);","export const iconList = {\r\n  arrow: 'M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z',\r\n  // icon_cancel: 'M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 ' +\r\n          // 'L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z',\r\n  icon_cancel1 : 'M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z',\r\n  icon_cancel2 : 'M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 16.094l-4.157-4.104 4.1-4.141-1.849-1.849-4.105 4.159-4.156-4.102-1.833 1.834 4.161 4.12-4.104 4.157 1.834 1.832 4.118-4.159 4.143 4.102 1.848-1.849z',\r\n  thunder :'M795 2528 c-3 -18 -46 -301 -95 -628 -49 -327 -92 -610 -95 -627 l-6 -33 180 -2 179 -3 -214 -604 c-118 -332 -212 -606 -210 -608 2 -2 341 360 753 804 l749 808 -277 5 -277 5 157 400 c86 220 166 426 178 458 l22 57 -519 0 -519 0 -6 -32z',\r\n  icon_arrow : 'M40 12V0l24 24-24 24V36H0V12h40z',\r\n  icon_arrow_2: 'M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ',\r\n  icon_arrow_3: 'M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ',\r\n  icon_arrow_4 : 'M0 3.795l2.995-2.98 11.132 11.185-11.132 11.186-2.995-2.981 8.167-8.205-8.167-8.205zm18.04 8.205l-8.167 8.205 2.995 2.98 11.132-11.185-11.132-11.186-2.995 2.98 8.167 8.206z',\r\n  icon_star: 'M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ',\r\n  icon_star_2: 'M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ',\r\n  icon_polygon: 'M3,31 L19,3 h32 l16,28 l-16,28 H19  z ',\r\n  icon_location: 'M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z',\r\n  icon_heart: 'M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ',\r\n  icon_heart2 : 'M9.719,17.073l-6.562-6.51c-0.27-0.268-0.504-0.567-0.696-0.888C1.385,7.89,1.67,5.613,3.155,4.14c0.864-0.856,2.012-1.329,3.233-1.329c1.924,0,3.115,1.12,3.612,1.752c0.499-0.634,1.689-1.752,3.612-1.752c1.221,0,2.369,0.472,3.233,1.329c1.484,1.473,1.771,3.75,0.693,5.537c-0.19,0.32-0.425,0.618-0.695,0.887l-6.562,6.51C10.125,17.229,9.875,17.229,9.719,17.073 M6.388,3.61C5.379,3.61,4.431,4,3.717,4.707C2.495,5.92,2.259,7.794,3.145,9.265c0.158,0.265,0.351,0.51,0.574,0.731L10,16.228l6.281-6.232c0.224-0.221,0.416-0.466,0.573-0.729c0.887-1.472,0.651-3.346-0.571-4.56C15.57,4,14.621,3.61,13.612,3.61c-1.43,0-2.639,0.786-3.268,1.863c-0.154,0.264-0.536,0.264-0.69,0C9.029,4.397,7.82,3.61,6.388,3.61',\r\n  icon_bubble: 'M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z',\r\n  icon_cloud : 'M25,60 a 20,20 1 0,0 0,40 h 50 a 20,20 1 0,0 0,-40 a 10,10 1 0,0 -15,-10 a 15,15 1 0,0 -35,10  z',\r\n  icon_camera : 'M10,6.536c-2.263,0-4.099,1.836-4.099,4.098S7.737,14.732,10,14.732s4.099-1.836,4.099-4.098S12.263,6.536,10,6.536M10,13.871c-1.784,0-3.235-1.453-3.235-3.237S8.216,7.399,10,7.399c1.784,0,3.235,1.452,3.235,3.235S11.784,13.871,10,13.871M17.118,5.672l-3.237,0.014L12.52,3.697c-0.082-0.105-0.209-0.168-0.343-0.168H7.824c-0.134,0-0.261,0.062-0.343,0.168L6.12,5.686H2.882c-0.951,0-1.726,0.748-1.726,1.699v7.362c0,0.951,0.774,1.725,1.726,1.725h14.236c0.951,0,1.726-0.773,1.726-1.725V7.195C18.844,6.244,18.069,5.672,17.118,5.672 M17.98,14.746c0,0.477-0.386,0.861-0.862,0.861H2.882c-0.477,0-0.863-0.385-0.863-0.861V7.384c0-0.477,0.386-0.85,0.863-0.85l3.451,0.014c0.134,0,0.261-0.062,0.343-0.168l1.361-1.989h3.926l1.361,1.989c0.082,0.105,0.209,0.168,0.343,0.168l3.451-0.014c0.477,0,0.862,0.184,0.862,0.661V14.746z',\r\n  icon_instagram : 'M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z',\r\n  icon_man : 'M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z',\r\n  icon_facebook : 'M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z',\r\n  icon_apple : 'M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3',\r\n  icon_question : \"M 474.50888,718.22841 L 303.49547,718.22841 L 303.49547,695.92707 C 303.49523,657.97599 307.79899,627.16496 316.40677,603.49388 C 325.01405,579.82356 340.04029,558.20693 357.06001,538.64392 C 374.07915,519.08181 399.04735,512.31128 458.51794,463.01307 C 490.20889,437.19104 513.79924,385.86077 513.79969,364.34133 C 516.01201,307.41888 499.85986,284.99913 479.23682,264.37609 C 456.56327,244.69892 418.56655,234.30611 388.2379,234.30611 C 360.45869,234.3068 319.77055,242.39482 300.4713,259.67658 C 274.53313,276.95966 235.23383,333.38269 243.42443,390.22235 L 48.907487,391.92457 C 48.907487,234.71058 78.301186,193.22992 147.9116,128.89425 C 215.30899,74.517607 274.44288,55.625885 391.75917,55.625885 C 481.47708,55.625885 553.65645,73.428695 606.08469,109.03174 C 677.29183,157.15646 728.38574,220.21528 728.38574,339.14455 C 728.38505,383.46536 709.23321,429.93093 685.31314,467.47754 C 666.92367,498.38692 624.93803,533.9299 567.10077,571.89382 C 524.2647,597.66242 500.42881,625.01308 490.06113,643.98842 C 479.6925,662.96445 474.50842,687.71109 474.50888,718.22841 L 474.50888,718.22841 z,M 482.38298 869.80902 A 94.042557 73.021278 0 1 1  294.29787,869.80902 A 94.042557 73.021278 0 1 1  482.38298 869.80902 z\",\r\n  icon_exclamation : \"M 231.05905,439.39622 C 211.3175,436.60615 183.80083,425.38265 172.98982,415.71091 C 152.20015,397.11211 158.93849,374.83735 188.42338,364.69266 C 221.56326,353.29037 276.84636,359.80781 302.55328,378.14763 C 349.39373,411.56454 304.74956,449.81086 231.05905,439.39622 z,M 151.63547,299.45486 C 141.59437,298.1347 137.885,295.51076 133.62826,286.71687 C 122.65178,264.04076 85.443835,195.76074 57.960454,147.8593 C 42.351438,120.65407 21.750175,68.269145 15.818092,52.065445 L 5.0325995,22.6042 C 2.6116298,-1.4232385 135.85828,-1.0516548 223.43582,18.244065 C 225.21368,18.773617 233.58011,95.177766 238.80828,165.6673 L 248.31411,293.83017 L 230.14326,295.90577 C 197.24548,299.66359 164.48682,301.14451 151.63547,299.45486 z\",\r\n  icon_thumbs_up : \"M8.5,133.7V72.9c0-1.6,0.6-3.1,1.8-4.3c1.2-1.2,2.6-1.8,4.3-1.8h27.4c1.6,0,3.1,0.6,4.3,1.8c1.2,1.2,1.8,2.6,1.8,4.3 v60.8c0,1.6-0.6,3.1-1.8,4.3c-1.2,1.2-2.6,1.8-4.3,1.8H14.6c-1.6,0-3.1-0.6-4.3-1.8C9.1,136.8,8.5,135.4,8.5,133.7z, M20.7,121.6 c0,1.7,0.6,3.2,1.8,4.3c1.2,1.2,2.6,1.8,4.3,1.8c1.6,0,3.1-0.6,4.3-1.8c1.2-1.2,1.8-2.6,1.8-4.3c0-1.6-0.6-3.1-1.8-4.3 c-1.2-1.2-2.6-1.8-4.3-1.8c-1.7,0-3.2,0.6-4.3,1.8C21.3,118.5,20.7,119.9,20.7,121.6z, M54.1,133.7V72.8c0-1.6,0.6-3,1.7-4.1 c1.1-1.2,2.5-1.8,4.1-1.9c1.5-0.1,3.9-2,7.2-5.6c3.3-3.6,6.5-7.4,9.6-11.5c4.3-5.5,7.5-9.3,9.6-11.4c1.1-1.1,2.1-2.7,2.9-4.6 c0.8-1.9,1.4-3.4,1.7-4.6c0.3-1.2,0.7-3.1,1.3-5.7c0.4-2.5,0.8-4.4,1.2-5.8c0.3-1.4,1-3,1.9-4.9c0.9-1.9,2-3.5,3.2-4.7 c1.2-1.2,2.6-1.8,4.3-1.8c2.9,0,5.5,0.3,7.8,1c2.3,0.7,4.2,1.5,5.7,2.5c1.5,1,2.8,2.3,3.8,3.8c1,1.6,1.8,3,2.3,4.3 c0.5,1.3,0.9,2.8,1.1,4.7c0.3,1.9,0.4,3.3,0.5,4.3c0,1,0,2.2,0,3.7c0,2.4-0.3,4.8-0.9,7.2c-0.6,2.4-1.2,4.3-1.8,5.7 c-0.6,1.4-1.5,3.2-2.6,5.3c-0.2,0.4-0.5,0.9-0.9,1.7c-0.4,0.8-0.8,1.5-1,2.1c-0.3,0.6-0.5,1.4-0.8,2.3h26.3 c4.9,0,9.2,1.8,12.8,5.4s5.4,7.9,5.4,12.8c0,5.4-1.7,10.2-5.2,14.2c0.9,2.8,1.4,5.2,1.4,7.2c0.2,4.8-1.2,9.2-4.1,13 c1.1,3.5,1.1,7.3,0,11.1c-0.9,3.6-2.7,6.6-5.1,8.9c0.6,7.1-1,12.8-4.7,17.2c-4.1,4.8-10.3,7.3-18.7,7.4h-3.4h-7.2h-1.6 c-4.2,0-8.7-0.5-13.7-1.5c-4.9-1-8.8-1.9-11.5-2.8c-2.8-0.9-6.6-2.1-11.4-3.8c-7.8-2.7-12.8-4.1-15-4.2c-1.6-0.1-3.1-0.7-4.3-1.9 C54.7,136.8,54.1,135.4,54.1,133.7z\",\r\n  icon_magnifier : 'M18.125,15.804l-4.038-4.037c0.675-1.079,1.012-2.308,1.01-3.534C15.089,4.62,12.199,1.75,8.584,1.75C4.815,1.75,1.982,4.726,2,8.286c0.021,3.577,2.908,6.549,6.578,6.549c1.241,0,2.417-0.347,3.44-0.985l4.032,4.026c0.167,0.166,0.43,0.166,0.596,0l1.479-1.478C18.292,16.234,18.292,15.968,18.125,15.804 M8.578,13.99c-3.198,0-5.716-2.593-5.733-5.71c-0.017-3.084,2.438-5.686,5.74-5.686c3.197,0,5.625,2.493,5.64,5.624C14.242,11.548,11.621,13.99,8.578,13.99 M16.349,16.981l-3.637-3.635c0.131-0.11,0.721-0.695,0.876-0.884l3.642,3.639L16.349,16.981z',\r\n  icon_twitter : 'M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266',\r\n  icon_fish : 'M21 11c0-.552-.448-1-1-1s-1 .448-1 1c0 .551.448 1 1 1s1-.449 1-1m3 .486c-1.184 2.03-3.29 4.081-5.66 5.323-1.336-1.272-2.096-2.957-2.103-4.777-.008-1.92.822-3.704 2.297-5.024 2.262.986 4.258 2.606 5.466 4.478m-6.63 5.774c-.613.255-1.236.447-1.861.573-1.121 1.348-2.796 2.167-5.287 2.167-.387 0-.794-.02-1.222-.061.647-.882.939-1.775 1.02-2.653-2.717-1.004-4.676-2.874-6.02-4.287-1.038 1.175-2.432 2-4 2 1.07-1.891 1.111-4.711 0-6.998 1.353.021 3.001.89 4 1.999 1.381-1.2 3.282-2.661 6.008-3.441-.1-.828-.399-1.668-1.008-2.499.429-.04.837-.06 1.225-.06 2.467 0 4.135.801 5.256 2.128.68.107 1.357.272 2.019.495-1.453 1.469-2.271 3.37-2.263 5.413.008 1.969.773 3.799 2.133 5.224',\r\n  icon_undo : 'M12 0c-3.31 0-6.291 1.353-8.459 3.522l-2.48-2.48-1.061 7.341 7.437-.966-2.489-2.488c1.808-1.808 4.299-2.929 7.052-2.929 5.514 0 10 4.486 10 10s-4.486 10-10 10c-3.872 0-7.229-2.216-8.89-5.443l-1.717 1.046c2.012 3.803 6.005 6.397 10.607 6.397 6.627 0 12-5.373 12-12s-5.373-12-12-12z',\r\n  icon_time1 : 'M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1 12v-6h-2v8h7v-2h-5z',\r\n  icon_tree1 : 'M13.001 24h-2v-5h-7.001l4-6h-3l4-6h-2l5.001-7 4.999 7h-2l4 6h-3l4 6h-6.999v5z',\r\n  icon_minus_circle : 'M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7 14h-14v-4h14v4z',\r\n  icon_folder1 : 'M11 5c-1.629 0-2.305-1.058-4-3h-7v20h24v-17h-13z',\r\n  icon_folder2 : 'M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z',\r\n  icon_wifi : 'M0 7.244c3.071-3.24 7.314-5.244 12-5.244 4.687 0 8.929 2.004 12 5.244l-2.039 2.15c-2.549-2.688-6.071-4.352-9.961-4.352s-7.412 1.664-9.961 4.352l-2.039-2.15zm5.72 6.034c1.607-1.696 3.827-2.744 6.28-2.744s4.673 1.048 6.28 2.744l2.093-2.208c-2.143-2.261-5.103-3.659-8.373-3.659s-6.23 1.398-8.373 3.659l2.093 2.208zm3.658 3.859c.671-.708 1.598-1.145 2.622-1.145 1.023 0 1.951.437 2.622 1.145l2.057-2.17c-1.197-1.263-2.851-2.044-4.678-2.044s-3.481.782-4.678 2.044l2.055 2.17zm2.622 1.017c-1.062 0-1.923.861-1.923 1.923s.861 1.923 1.923 1.923 1.923-.861 1.923-1.923-.861-1.923-1.923-1.923z',\r\n  icon_paper_plane1 : 'M24 0l-6 22-8.129-7.239 7.802-8.234-10.458 7.227-7.215-1.754 24-12zm-15 16.668v7.332l3.258-4.431-3.258-2.901z',\r\n  icon_paper_plane2 : 'M0 12l11 3.1 7-8.1-8.156 5.672-4.312-1.202 15.362-7.68-3.974 14.57-3.75-3.339-2.17 2.925v-.769l-2-.56v7.383l4.473-6.031 4.527 4.031 6-22z',\r\n  icon_check1 : 'M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z',\r\n  icon_yen_sign : 'M21 0h-4.125l-4.877 9-4.81-9h-4.188l5.923 11h-3.923v2h5v2h-5v2h5v7h4v-7h5v-2h-5v-2h5v-2h-3.912c1.787-3.288 5.219-9.614 5.912-11z',\r\n  icon_dollar_sign : 'M19 16.166c0-4.289-4.465-5.483-7.887-7.091-2.079-1.079-1.816-3.658 1.162-3.832 1.652-.1 3.351.39 4.886.929l.724-3.295c-1.814-.551-3.437-.803-4.885-.841v-2.036h-2v2.134c-3.89.535-5.968 2.975-5.968 5.7 0 4.876 5.693 5.62 7.556 6.487 2.54 1.136 2.07 3.5-.229 4.021-1.993.451-4.538-.337-6.45-1.079l-.909 3.288c1.787.923 3.931 1.417 6 1.453v1.996h2v-2.105c3.313-.464 6.005-2.293 6-5.729z',\r\n  icon_umbrella : 'M13 2.056v-1.056c0-.552-.448-1-1-1s-1 .448-1 1v1.052c-6.916.522-10.372 5.594-11 9.906 1.864-2.677 6.136-2.677 8 0 1.839-2.641 6.047-2.685 7.917 0 1.864-2.677 6.219-2.677 8.083 0-.625-4.291-4.125-9.333-11-9.902zm0 10.101v8.843c0 1.657-1.343 3-3 3s-3-1.343-3-3v-1h2v1c0 .551.449 1 1 1s1-.449 1-1v-8.866c.68-.226 1.27-.242 2 .023z',\r\n  icon_video : 'M16 16c0 1.104-.896 2-2 2h-12c-1.104 0-2-.896-2-2v-8c0-1.104.896-2 2-2h12c1.104 0 2 .896 2 2v8zm8-10l-6 4.223v3.554l6 4.223v-12z',\r\n  icon_youtube : 'M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z',\r\n  icon_cursor1 : 'M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.281-8.758-5.293 4.581z',\r\n  icon_windows : 'M0 12v-8.646l10-1.355v10.001h-10zm11 0h13v-12l-13 1.807v10.193zm-1 1h-10v7.646l10 1.355v-9.001zm1 0v9.194l13 1.806v-11h-13z',\r\n  icon_paw : 'M11.954 11c3.33 0 7.057 6.123 7.632 8.716.575 2.594-.996 4.729-3.484 4.112-1.092-.271-3.252-1.307-4.102-1.291-.925.016-2.379.836-3.587 1.252-2.657.916-4.717-1.283-4.01-4.073.774-3.051 4.48-8.716 7.551-8.716zm10.793-4.39c1.188.539 1.629 2.82.894 5.27-.704 2.341-2.33 3.806-4.556 2.796-1.931-.877-2.158-3.178-.894-5.27 1.274-2.107 3.367-3.336 4.556-2.796zm-21.968.706c-1.044.729-1.06 2.996.082 5.215 1.092 2.12 2.913 3.236 4.868 1.87 1.696-1.185 1.504-3.433-.082-5.215-1.596-1.793-3.824-2.599-4.868-1.87zm15.643-7.292c1.323.251 2.321 2.428 2.182 5.062-.134 2.517-1.405 4.382-3.882 3.912-2.149-.407-2.938-2.657-2.181-5.061.761-2.421 2.559-4.164 3.881-3.913zm-10.295.058c-1.268.451-1.92 2.756-1.377 5.337.519 2.467 2.062 4.114 4.437 3.269 2.06-.732 2.494-3.077 1.377-5.336-1.125-2.276-3.169-3.721-4.437-3.27z',\r\n\r\n}\r\n\r\n//icon_instagram: https://simpleicons.org/\r\n//icon_camera, man, facebook  : http://svgicons.sparkk.fr/\r\n//icon_apple : \r\n\r\n//free : https://iconmonstr.com/\r\n\r\nexport const fontList = ['Arial', 'Times New Roman', 'Helvetica', 'Courier New', \r\n'Vendana', 'Courier', 'Arial Narrow', 'Candara', 'Geneva', 'Calibri', 'Optima', \r\n'Cambria', 'Garamond', 'Perpetua', 'brush Script MT', 'Lucida Bright',\r\n'Copperplate'];\r\n\r\nexport const filterList = ['Invert', 'Brownie', 'Technicolor', 'Polaroid', 'BlackWhite', 'Vintage', 'Sepia', 'Kodachrome','Convolute', 'Convolute', \r\n'Grayscale', 'Brightness', 'Contrast', 'Pixelate', 'Blur', 'Noise', 'Saturation', 'HueRotation', 'Ink', 'Vignette', 'ZoomBlur', 'Vibrance', 'Denoise', 'RemoveColor', 'BlendColor', 'Gamma', 'hueSaturation'];\r\n\r\n// export const filterList = ['Invert', 'Brownie', 'Technicolor', 'Polaroid', 'BlackWhite', 'Vintage', 'Sepia', 'Kodachrome','Convolute', 'Convolute', \r\n// 'Grayscale', 'Brightness', 'Contrast', 'Pixelate', 'Blur', 'Noise', 'Saturation', 'HueRotation', 'Ink', 'Vignette', 'ZoomBlur', 'Vibrance', 'Denoise', 'RemoveColor', 'BlendColor', 'Gamma', 'hueSaturation', 'TiltShift', 'hexagonalPixelate'];\r\n\r\n\r\nexport const ObjectIcon = {\r\n  bringToFront: \"M 5 2 C 3.346 2 2 3.346 2 5 L 2 21 C 2 22.654 3.346 24 5 24 L 12 24 L 12 35 C 12 36.64497 13.35503 38 15 38 L 26 38 L 26 45 C 26 46.654 27.346 48 29 48 L 45 48 C 46.654 48 48 46.654 48 45 L 48 29 C 48 27.346 46.654 26 45 26 L 38 26 L 38 15 C 38 13.35503 36.64497 12 35 12 L 24 12 L 24 5 C 24 3.346 22.654 2 21 2 L 5 2 z M 15 14 L 35 14 C 35.56503 14 36 14.43497 36 15 L 36 35 C 36 35.56503 35.56503 36 35 36 L 15 36 C 14.43497 36 14 35.56503 14 35 L 14 15 C 14 14.43497 14.43497 14 15 14 z\" ,\r\n  sendToBack: \"M 5 2 C 3.346 2 2 3.346 2 5 L 2 21 C 2 22.654 3.346 24 5 24 L 12 24 L 12 35 C 12 36.64497 13.35503 38 15 38 L 26 38 L 26 45 C 26 46.654 27.346 48 29 48 L 45 48 C 46.654 48 48 46.654 48 45 L 48 29 C 48 27.346 46.654 26 45 26 L 38 26 L 38 15 C 38 13.35503 36.64497 12 35 12 L 24 12 L 24 5 C 24 3.346 22.654 2 21 2 L 5 2 z M 24 14 L 35 14 C 35.56503 14 36 14.43497 36 15 L 36 26 L 29 26 C 27.346 26 26 27.346 26 29 L 26 36 L 15 36 C 14.43497 36 14 35.56503 14 35 L 14 24 L 21 24 C 22.654 24 24 22.654 24 21 L 24 14 z\" ,\r\n  bringForward: \"M 6 3 C 4.3550302 3 3 4.3550302 3 6 L 3 29 C 3 30.64497 4.3550302 32 6 32 L 18 32 L 18 44 C 18 45.654 19.346 47 21 47 L 44 47 C 45.654 47 47 45.654 47 44 L 47 21 C 47 19.346 45.654 18 44 18 L 32 18 L 32 6 C 32 4.3550302 30.64497 3 29 3 L 6 3 z M 6 5 L 29 5 C 29.56503 5 30 5.4349698 30 6 L 30 29 C 30 29.56503 29.56503 30 29 30 L 6 30 C 5.4349698 30 5 29.56503 5 29 L 5 6 C 5 5.4349698 5.4349698 5 6 5 z\" ,\r\n  sendBackwards: \"M 6 3 C 4.3550302 3 3 4.3550302 3 6 L 3 29 C 3 30.64497 4.3550302 32 6 32 L 18 32 L 18 44 C 18 45.654 19.346 47 21 47 L 44 47 C 45.654 47 47 45.654 47 44 L 47 21 C 47 19.346 45.654 18 44 18 L 32 18 L 32 6 C 32 4.3550302 30.64497 3 29 3 L 6 3 z M 6 5 L 29 5 C 29.56503 5 30 5.4349698 30 6 L 30 18 L 21 18 C 19.346 18 18 19.346 18 21 L 18 30 L 6 30 C 5.4349698 30 5 29.56503 5 29 L 5 6 C 5 5.4349698 5.4349698 5 6 5 z\" ,\r\n  flipX: \"M 22.875 5 A 1.0001 1.0001 0 0 0 22.09375 5.5625 L 4.09375 42.5625 A 1.0001 1.0001 0 0 0 5 44 L 23 44 A 1.0001 1.0001 0 0 0 24 43 L 24 6 A 1.0001 1.0001 0 0 0 22.875 5 z M 27.125 5 C 27.014063 4.9872656 26.8955 5.00525 26.78125 5.03125 C 26.32725 5.13625 26 5.534 26 6 L 26 43 C 26 43.553 26.447 44 27 44 L 45 44 C 45.345 44 45.66075 43.82325 45.84375 43.53125 C 46.02675 43.23925 46.05625 42.8725 45.90625 42.5625 L 27.90625 5.5625 C 27.754 5.24825 27.457812 5.0382031 27.125 5 z M 22 10.34375 L 22 42 L 6.59375 42 L 22 10.34375 z\" ,\r\n  flipY: \"M 43.0625 4 C 42.89575 3.991 42.718 4.01875 42.5625 4.09375 L 5.5625 22.09375 C 5.1435 22.29775 4.92725 22.76475 5.03125 23.21875 C 5.13625 23.67175 5.534 24 6 24 L 43 24 C 43.553 24 44 23.552 44 23 L 44 5 C 44 4.655 43.82325 4.33825 43.53125 4.15625 C 43.38575 4.06525 43.22925 4.009 43.0625 4 z M 5.8125 26 A 1.0001 1.0001 0 0 0 5.5625 27.90625 L 42.5625 45.90625 A 1.0001 1.0001 0 0 0 44 45 L 44 27 A 1.0001 1.0001 0 0 0 43 26 L 6 26 A 1.0001 1.0001 0 0 0 5.90625 26 A 1.0001 1.0001 0 0 0 5.8125 26 z M 10.34375 28 L 42 28 L 42 43.40625 L 10.34375 28 z\" ,\r\n  deleteObject: \"M 5 12 C 3.3 12 2 13.3 2 15 L 2 51 C 2 52.7 3.3 54 5 54 L 38.363281 54 C 39.723281 59.724 44.865 64 51 64 C 58.168 64 64 58.168 64 51 C 64 46.41 61.602 42.3765 58 40.0625 L 58 18 L 58 16 L 58 15 C 58 13.3 56.7 12 55 12 L 5 12 z M 5 14 L 55 14 C 55.6 14 56 14.4 56 15 L 56 39.003906 C 54.46 38.359906 52.771 38 51 38 C 50.807 38 50.620687 38.021297 50.429688 38.029297 L 47.099609 34.699219 C 45.999609 33.599219 44.000391 33.599219 42.900391 34.699219 L 34.5 43.099609 L 31.099609 39.699219 C 29.999609 38.499219 28.100391 38.499219 26.900391 39.699219 L 18.599609 48 L 15.042969 48 C 14.417969 48 14 48.4 14 49 C 14 49.6 14.521969 50 15.042969 50 L 38.050781 50 C 38.024781 50.331 38 50.662 38 51 C 38 51.338 38.024781 51.669 38.050781 52 L 5 52 C 4.4 52 4 51.5 4 51 L 4 15 C 4 14.4 4.4 14 5 14 z M 17 16 C 16.4 16 16 16.447 16 17 L 16 19 C 16 19.552 16.4 20 17 20 C 17.6 20 18 19.553 18 19 L 18 17 C 18 16.447 17.6 16 17 16 z M 11.894531 17.335938 C 11.763656 17.353109 11.63 17.397656 11.5 17.472656 C 10.98 17.772656 10.858766 18.360844 11.134766 18.839844 L 12.134766 20.570312 C 12.321766 20.894313 12.655953 21.072266 13.001953 21.072266 C 13.130953 21.095266 13.327 21.0375 13.5 20.9375 C 14.02 20.6375 14.141234 20.049312 13.865234 19.570312 L 12.865234 17.839844 C 12.658234 17.480594 12.287156 17.284422 11.894531 17.335938 z M 22.107422 17.337891 C 21.714797 17.286375 21.341766 17.480594 21.134766 17.839844 L 20.134766 19.572266 C 19.858766 20.050266 19.982953 20.6375 20.501953 20.9375 C 20.674953 21.0375 20.871 21.097219 21 21.074219 C 21.347 21.074219 21.683188 20.891266 21.867188 20.572266 L 22.867188 18.839844 C 23.143187 18.360844 23.021953 17.774609 22.501953 17.474609 C 22.371953 17.399609 22.238297 17.355062 22.107422 17.337891 z M 8.4648438 21.001953 C 8.0836094 20.944203 7.6976562 21.111953 7.4726562 21.501953 C 7.1726562 22.020953 7.3618437 22.590187 7.8398438 22.867188 L 9.5703125 23.867188 C 9.7293125 23.959187 9.8766875 24.042297 10.054688 24.029297 C 10.414687 24.006297 10.7375 23.847953 10.9375 23.501953 C 11.2375 22.981953 11.049312 22.410766 10.570312 22.134766 L 8.8398438 21.134766 C 8.7200938 21.065766 8.5919219 21.021203 8.4648438 21.001953 z M 25.533203 21.001953 C 25.406125 21.021203 25.279906 21.065766 25.160156 21.134766 L 23.427734 22.134766 C 22.949734 22.410766 22.7625 22.98 23.0625 23.5 C 23.2625 23.846 23.585313 24.006297 23.945312 24.029297 C 24.123313 24.042297 24.267734 23.957234 24.427734 23.865234 L 26.160156 22.865234 C 26.639156 22.589234 26.825391 22.02 26.525391 21.5 C 26.300391 21.11 25.914437 20.944203 25.533203 21.001953 z M 17.074219 22.007812 C 14.322219 22.007812 12.082031 24.248 12.082031 27 C 12.082031 29.752 14.322219 31.992188 17.074219 31.992188 C 19.826219 31.992188 22.066406 29.752 22.066406 27 C 22.066406 24.248 19.826219 22.007812 17.074219 22.007812 z M 17.074219 23.992188 C 18.738219 23.992188 20.082031 25.336 20.082031 27 C 20.082031 28.664 18.738219 30.007812 17.074219 30.007812 C 15.410219 30.007812 14.066406 28.664 14.066406 27 C 14.066406 25.336 15.410219 23.992188 17.074219 23.992188 z M 7 26 C 6.448 26 6 26.4 6 27 C 6 27.6 6.447 28 7 28 L 9 28 C 9.553 28 10 27.6 10 27 C 10 26.4 9.553 26 9 26 L 7 26 z M 25 26 C 24.447 26 24 26.4 24 27 C 24 27.6 24.448 28 25 28 L 27 28 C 27.553 28 28 27.6 28 27 C 28 26.4 27.553 26 27 26 L 25 26 z M 9.9453125 30.001953 C 9.818375 30.021203 9.6917656 30.065766 9.5722656 30.134766 L 7.8398438 31.134766 C 7.3608438 31.410766 7.1726562 31.98 7.4726562 32.5 C 7.6726563 32.846 7.9954687 33.006297 8.3554688 33.029297 C 8.5324687 33.042297 8.6798437 32.957234 8.8398438 32.865234 L 10.570312 31.865234 C 11.049312 31.589234 11.2375 31.02 10.9375 30.5 C 10.7125 30.11 10.326125 29.944203 9.9453125 30.001953 z M 24.054688 30.001953 C 23.673453 29.944203 23.2875 30.11 23.0625 30.5 C 22.7625 31.02 22.948734 31.589234 23.427734 31.865234 L 25.160156 32.865234 C 25.320156 32.957234 25.464578 33.042297 25.642578 33.029297 C 26.002578 33.006297 26.325391 32.846 26.525391 32.5 C 26.825391 31.981 26.639156 31.411766 26.160156 31.134766 L 24.427734 30.134766 C 24.307984 30.065766 24.181766 30.021203 24.054688 30.001953 z M 13.105469 32.925781 C 12.712844 32.874266 12.341766 33.068484 12.134766 33.427734 L 11.134766 35.160156 C 10.858766 35.639156 10.98 36.225391 11.5 36.525391 C 11.673 36.625391 11.869047 36.685109 11.998047 36.662109 C 12.345047 36.662109 12.681234 36.479156 12.865234 36.160156 L 13.865234 34.427734 C 14.142234 33.949734 14.02 33.3625 13.5 33.0625 C 13.37 32.9875 13.236344 32.942953 13.105469 32.925781 z M 20.894531 32.925781 C 20.763656 32.942953 20.63 32.9875 20.5 33.0625 C 19.98 33.3625 19.858766 33.948734 20.134766 34.427734 L 21.134766 36.160156 C 21.321766 36.484156 21.655953 36.662109 22.001953 36.662109 C 22.130953 36.685109 22.327 36.625391 22.5 36.525391 C 23.02 36.225391 23.141234 35.639156 22.865234 35.160156 L 21.865234 33.427734 C 21.658234 33.068484 21.287156 32.874266 20.894531 32.925781 z M 17 34 C 16.4 34 16 34.447 16 35 L 16 37 C 16 37.553 16.4 38 17 38 C 17.6 38 18 37.553 18 37 L 18 35 C 18 34.447 17.6 34 17 34 z M 45 35.800781 C 45.25 35.800781 45.499219 35.899609 45.699219 36.099609 L 47.970703 38.371094 C 43.224703 39.510094 39.491281 43.25 38.363281 48 L 32.400391 48 L 44.300781 36.099609 C 44.500781 35.899609 44.75 35.800781 45 35.800781 z M 51 40 C 57.065 40 62 44.935 62 51 C 62 57.065 57.065 62 51 62 C 44.935 62 40 57.065 40 51 C 40 44.935 44.935 40 51 40 z M 29 40.800781 C 29.25 40.800781 29.499219 40.899609 29.699219 41.099609 L 33.099609 44.5 L 29.599609 48 L 21.400391 48 L 28.300781 41.099609 C 28.500781 40.899609 28.75 40.800781 29 40.800781 z M 46.755859 45.755859 C 46.499984 45.755859 46.245781 45.855281 46.050781 46.050781 C 45.659781 46.441781 45.659781 47.074844 46.050781 47.464844 L 49.585938 51 L 46.050781 54.535156 C 45.659781 54.926156 45.659781 55.559219 46.050781 55.949219 C 46.440781 56.340219 47.074844 56.340219 47.464844 55.949219 L 51 52.414062 L 54.535156 55.949219 C 54.926156 56.340219 55.559219 56.340219 55.949219 55.949219 C 56.340219 55.559219 56.340219 54.925156 55.949219 54.535156 L 52.414062 51 L 55.949219 47.464844 C 56.339219 47.074844 56.339219 46.441781 55.949219 46.050781 C 55.559219 45.659781 54.925156 45.659781 54.535156 46.050781 L 51 49.585938 L 47.464844 46.050781 C 47.269344 45.855281 47.011734 45.755859 46.755859 45.755859 z M 7 48 C 6.4 48 6 48.4 6 49 C 6 49.6 6.4 50 7 50 L 11 50 C 11.6 50 12 49.6 12 49 C 12 48.4 11.6 48 11 48 L 7 48 z\" ,\r\n  deleteAllObject: \"M 28.070312 2 C 27.065313 2 26.132219 2.4999375 25.574219 3.3359375 L 22.464844 8 L 11 8 C 9.346 8 8 9.346 8 11 L 8 17 C 8 18.654 9.346 20 11 20 L 11.099609 20 L 14.628906 53.523438 C 14.895906 56.076437 17.034563 58 19.601562 58 L 44.400391 58 C 46.966391 58 49.103094 56.076438 49.371094 53.523438 L 52.900391 20 L 53 20 C 54.654 20 56 18.654 56 17 L 56 11 C 56 9.346 54.654 8 53 8 L 41.535156 8 L 38.425781 3.3359375 C 37.867781 2.4999375 36.934688 2 35.929688 2 L 28.070312 2 z M 28.070312 4 L 35.929688 4 C 36.264688 4 36.575719 4.1673125 36.761719 4.4453125 L 39.132812 8 L 24.867188 8 L 27.238281 4.4453125 C 27.424281 4.1673125 27.735312 4 28.070312 4 z M 11 10 L 21.132812 10 L 42.867188 10 L 53 10 C 53.552 10 54 10.449 54 11 L 54 17 C 54 17.551 53.552 18 53 18 L 52 18 L 12 18 C 11.978 18 11.9595 18.011672 11.9375 18.013672 C 11.9165 18.011672 11.897 18 11.875 18 L 11 18 C 10.448 18 10 17.551 10 17 L 10 11 C 10 10.449 10.448 10 11 10 z M 14 12 C 13.447 12 13 12.448 13 13 L 13 15 C 13 15.552 13.447 16 14 16 C 14.553 16 15 15.552 15 15 L 15 13 C 15 12.448 14.553 12 14 12 z M 19 12 C 18.447 12 18 12.448 18 13 L 18 15 C 18 15.552 18.447 16 19 16 C 19.553 16 20 15.552 20 15 L 20 13 C 20 12.448 19.553 12 19 12 z M 24 12 C 23.447 12 23 12.448 23 13 L 23 15 C 23 15.552 23.447 16 24 16 C 24.553 16 25 15.552 25 15 L 25 13 C 25 12.448 24.553 12 24 12 z M 29 12 C 28.447 12 28 12.448 28 13 L 28 15 C 28 15.552 28.447 16 29 16 C 29.553 16 30 15.552 30 15 L 30 13 C 30 12.448 29.553 12 29 12 z M 35 12 C 34.447 12 34 12.448 34 13 L 34 15 C 34 15.552 34.447 16 35 16 C 35.553 16 36 15.552 36 15 L 36 13 C 36 12.448 35.553 12 35 12 z M 40 12 C 39.447 12 39 12.448 39 13 L 39 15 C 39 15.552 39.447 16 40 16 C 40.553 16 41 15.552 41 15 L 41 13 C 41 12.448 40.553 12 40 12 z M 45 12 C 44.447 12 44 12.448 44 13 L 44 15 C 44 15.552 44.447 16 45 16 C 45.553 16 46 15.552 46 15 L 46 13 C 46 12.448 45.553 12 45 12 z M 50 12 C 49.447 12 49 12.448 49 13 L 49 15 C 49 15.552 49.447 16 50 16 C 50.553 16 51 15.552 51 15 L 51 13 C 51 12.448 50.553 12 50 12 z M 13.109375 20 L 50.890625 20 L 47.382812 53.314453 C 47.221812 54.846453 45.938437 56 44.398438 56 L 19.601562 56 C 18.061563 56 16.778187 54.846453 16.617188 53.314453 L 13.109375 20 z M 23.515625 25 C 23.259875 25 23.004094 25.097469 22.808594 25.292969 C 22.417594 25.683969 22.417594 26.316031 22.808594 26.707031 L 30.585938 34.484375 L 22.808594 42.263672 C 22.417594 42.654672 22.417594 43.286734 22.808594 43.677734 C 23.003594 43.872734 23.259625 43.970703 23.515625 43.970703 C 23.771625 43.970703 24.027656 43.872734 24.222656 43.677734 L 32 35.898438 L 39.777344 43.677734 C 39.972344 43.872734 40.228375 43.970703 40.484375 43.970703 C 40.740375 43.970703 40.996406 43.872734 41.191406 43.677734 C 41.582406 43.286734 41.582406 42.654672 41.191406 42.263672 L 33.414062 34.484375 L 41.191406 26.707031 C 41.582406 26.316031 41.582406 25.683969 41.191406 25.292969 C 40.800406 24.901969 40.168344 24.901969 39.777344 25.292969 L 32 33.070312 L 24.222656 25.292969 C 24.027156 25.097469 23.771375 25 23.515625 25 z M 21 52 C 20.447 52 20 52.448 20 53 C 20 53.552 20.447 54 21 54 L 35 54 C 35.553 54 36 53.552 36 53 C 36 52.448 35.553 52 35 52 L 21 52 z M 39 52 C 38.447 52 38 52.448 38 53 C 38 53.552 38.447 54 39 54 L 43 54 C 43.553 54 44 53.552 44 53 C 44 52.448 43.553 52 43 52 L 39 52 z\" ,\r\n  makeGroup: \"M 3 3 L 3 4 L 3 11 L 6 11 L 6 39 L 3 39 L 3 47 L 11 47 L 11 46 L 11 44 L 39 44 L 39 47 L 47 47 L 47 46 L 47 39 L 44 39 L 44 11 L 47 11 L 47 10 L 47 3 L 39 3 L 39 6 L 11 6 L 11 3 L 3 3 z M 5 5 L 9 5 L 9 9 L 5 9 L 5 5 z M 41 5 L 45 5 L 45 9 L 43 9 L 41 9 L 41 7 L 41 5 z M 11 8 L 39 8 L 39 11 L 42 11 L 42 39 L 39 39 L 39 42 L 11 42 L 11 39 L 8 39 L 8 11 L 11 11 L 11 8 z M 13 13 L 13 14 L 13 29 L 21 29 L 21 37 L 37 37 L 37 21 L 29 21 L 29 13 L 13 13 z M 15 15 L 27 15 L 27 27 L 15 27 L 15 15 z M 29 23 L 35 23 L 35 35 L 23 35 L 23 29 L 29 29 L 29 23 z M 5 41 L 7 41 L 9 41 L 9 43 L 9 45 L 5 45 L 5 41 z M 41 41 L 43 41 L 45 41 L 45 45 L 41 45 L 41 43 L 41 41 z\" ,\r\n  unGroup: \"M 6 6 L 6 12 L 8 12 L 8 29 L 6 29 L 6 35 L 12 35 L 12 33 L 17 33 L 17 38 L 15 38 L 15 44 L 21 44 L 21 42 L 38 42 L 38 44 L 44 44 L 44 38 L 42 38 L 42 21 L 44 21 L 44 15 L 38 15 L 38 17 L 33 17 L 33 12 L 35 12 L 35 6 L 29 6 L 29 8 L 12 8 L 12 6 L 6 6 z M 8 8 L 10 8 L 10 10 L 8 10 L 8 8 z M 31 8 L 33 8 L 33 10 L 31 10 L 31 8 z M 12 10 L 29 10 L 29 12 L 31 12 L 31 29 L 29 29 L 29 31 L 12 31 L 12 29 L 10 29 L 10 12 L 12 12 L 12 10 z M 40 17 L 42 17 L 42 19 L 40 19 L 40 17 z M 33 19 L 38 19 L 38 21 L 40 21 L 40 38 L 38 38 L 38 40 L 21 40 L 21 38 L 19 38 L 19 33 L 29 33 L 29 35 L 35 35 L 35 29 L 33 29 L 33 19 z M 8 31 L 10 31 L 10 33 L 8 33 L 8 31 z M 31 31 L 33 31 L 33 33 L 31 33 L 31 31 z M 17 40 L 19 40 L 19 42 L 17 42 L 17 40 z M 40 40 L 42 40 L 42 42 L 40 42 L 40 40 z\" ,\r\n  checkbox: \"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186\" ,\r\n}\r\n\r\nexport const randomWord = ['river', 'red', 'blue', 'car', 'korea', 'sun', 'whale', 'moon', 'space', 'movie', 'cat', 'sea', 'home', 'city', 'green', 'tree', 'flower']\r\n\r\nexport const textIcon = {\r\n  bold: \"M22.941,18.046c0,1.116-0.234,2.06-0.706,2.828c-0.47,0.772-1.144,1.378-2.022,1.825 c-0.932,0.473-2.003,0.811-3.217,1.008C15.781,23.902,15.352,24,13.708,24H2v-1.784c0.32-0.028,2.031-0.421,2.031-1.953V6.053 C4.031,4.197,2.32,3.979,2,3.929V2h11.953c3.008,0,3.639,0.414,4.973,1.239c1.334,0.829,2,2.048,2,3.66 c0,3.087-2.469,4.929-3.275,5.116v0.294C18.457,12.392,22.941,13.26,22.941,18.046z M15.434,7.824c0-0.911-0.344-1.623-1.031-2.132 c-0.687-0.515-1.488-0.769-2.862-0.769c-0.196,0-0.452,0.007-0.766,0.018c-0.316,0.012-0.588,0.022-0.815,0.029v6.102h0.806 c1.675,0,2.68-0.293,3.476-0.877C15.035,9.612,15.434,8.823,15.434,7.824z M16.248,17.475c0-1.165-0.435-2.061-1.309-2.682 c-0.871-0.623-1.903-0.934-3.539-0.934c-0.188,0-0.438,0.006-0.75,0.018c-0.311,0.014-0.542,0.022-0.691,0.029v7.174 c0,0,1.643,0,2.307,0c1.18,0,2.137-0.314,2.876-0.945C15.879,19.505,16.248,18.617,16.248,17.475z\",\r\n  italic: \"M16.4,24H4.2l0.5-1.9C5,22.1,5.5,22,6,22c0.6,0,0.9-0.1,1.2-0.2c0.4-0.2,0.7-0.4,0.9-0.6c0.2-0.3,0.4-0.6,0.5-1l3.6-14.1 c0.1-0.4,0.1-0.7,0-0.9c-0.1-0.3-0.3-0.5-0.6-0.7c-0.2-0.1-0.6-0.2-1-0.3C10.1,4.1,9.6,4,9.3,4l0.5-2H22l-0.5,2 c-0.3,0-1.1,0.1-1.6,0.1c-0.5,0.1-0.9,0.1-1.2,0.2c-0.4,0.1-0.8,0.3-1,0.6c-0.2,0.3-0.4,0.6-0.4,1l-3.6,14.1c-0.1,0.4-0.1,0.7,0,1 c0.1,0.3,0.3,0.5,0.6,0.6c0.2,0.1,0.5,0.2,1,0.3c0.5,0.1,1.3,0.1,1.6,0.2L16.4,24z\", \r\n  underline: \"M27.408,0.001v0.67H26.9c-0.689,0-1.265,0.141-1.724,0.418c-0.459,0.277-0.793,0.695-0.997,1.252 c-0.156,0.387-0.236,1.082-0.236,2.084v9.34c0,2.892-0.189,4.978-0.57,6.256c-0.381,1.281-1.309,2.459-2.783,3.535 c-1.477,1.076-3.486,1.615-6.039,1.615c-2.127,0-3.771-0.285-4.934-0.854c-1.583-0.773-2.701-1.765-3.354-2.974 c-0.653-1.211-0.979-2.836-0.979-4.879V4.424c0-1.414-0.077-2.293-0.235-2.639C4.893,1.44,4.619,1.166,4.233,0.961 C3.849,0.756,3.132,0.658,2.093,0.67V0h12.693v0.67h-0.635c-0.955,0-1.609,0.1-1.968,0.301c-0.356,0.199-0.61,0.476-0.763,0.824 c-0.149,0.352-0.227,1.227-0.227,2.629v12.043c0,2.199,0.166,3.656,0.499,4.371c0.332,0.713,0.88,1.305,1.642,1.775 c0.762,0.473,1.724,0.709,2.883,0.709c1.33,0,2.466-0.303,3.4-0.898c0.938-0.598,1.639-1.424,2.104-2.475 c0.467-1.055,0.698-2.887,0.698-5.497V4.424c0-1.1-0.114-1.885-0.346-2.356c-0.229-0.472-0.521-0.798-0.869-0.979 c-0.545-0.277-1.312-0.418-2.304-0.418v-0.67H27.408L27.408,0.001z M4.25,29.501h21v-1.828h-21V29.501z\",\r\n  alignLeft: \"M 2 4 L 2 6 L 48 6 L 48 4 L 2 4 z M 2 14 L 2 16 L 34 16 L 34 14 L 2 14 z M 2 24 L 2 26 L 48 26 L 48 24 L 2 24 z M 2 34 L 2 36 L 34 36 L 34 34 L 2 34 z M 2 44 L 2 46 L 48 46 L 48 44 L 2 44 z\",\r\n  alignCenter: \"M 2 4 L 2 6 L 48 6 L 48 4 L 2 4 z M 9 14 L 9 16 L 41 16 L 41 14 L 9 14 z M 2 24 L 2 26 L 48 26 L 48 24 L 2 24 z M 9 34 L 9 36 L 41 36 L 41 34 L 9 34 z M 2 44 L 2 46 L 48 46 L 48 44 L 2 44 z\",\r\n  alignRight: \"M 2 4 L 2 6 L 48 6 L 48 4 L 2 4 z M 16 14 L 16 16 L 48 16 L 48 14 L 16 14 z M 2 24 L 2 26 L 48 26 L 48 24 L 2 24 z M 16 34 L 16 36 L 48 36 L 48 34 L 16 34 z M 2 44 L 2 46 L 48 46 L 48 44 L 2 44 z\",\r\n}\r\n\r\nexport const linkIcon = {\r\n    link: \"M 42.980469 5.9902344 A 1.0001 1.0001 0 0 0 42.869141 6 L 27 6 A 1.0001 1.0001 0 1 0 27 8 L 40.585938 8 L 6.2929688 42.292969 A 1.0001 1.0001 0 1 0 7.7070312 43.707031 L 42 9.4140625 L 42 23 A 1.0001 1.0001 0 1 0 44 23 L 44 7.1269531 A 1.0001 1.0001 0 0 0 44 6.8515625 L 44 6 L 43.146484 6 A 1.0001 1.0001 0 0 0 42.980469 5.9902344 z\"\r\n}\r\n\r\nexport const unSplashAppName = \"Fract\";\r\n\r\nexport const RotationIcon = {\r\n  left : \"M261.397,17.983c-88.909,0-167.372,51.302-203.909,129.073L32.072,94.282L0,109.73l52.783,109.565l109.565-52.786 l-15.451-32.066L89.82,161.934c30.833-65.308,96.818-108.353,171.577-108.353c104.668,0,189.818,85.154,189.818,189.821 s-85.15,189.824-189.818,189.824c-61.631,0-119.663-30.109-155.228-80.539l-29.096,20.521 c42.241,59.87,111.143,95.613,184.324,95.613c124.286,0,225.407-101.122,225.407-225.419S385.684,17.983,261.397,17.983z\",\r\n  right : \"M37.242,2.971c14.689,0,27.651,8.476,33.688,21.325l4.201-8.719l5.298,2.552l-8.721,18.102L53.605,27.51l2.553-5.298 l9.43,4.542C60.494,15.964,49.594,8.853,37.242,8.853C19.95,8.853,5.88,22.921,5.88,40.214s14.07,31.362,31.362,31.362 c10.183,0,19.769-4.975,25.647-13.307l4.805,3.391c-6.979,9.892-18.361,15.797-30.452,15.797C16.707,77.458,0,60.75,0,40.214 S16.707,2.971,37.242,2.971z\"\r\n\r\n}\r\n\r\nexport const corsLink = process.env.REACT_APP_CORS_LINK\r\n// 'https://cors-anywhere.herokuapp.com/'","export default __webpack_public_path__ + \"static/media/imgerror.e672bef4.svg\";","export function getSearchImage (search, image_count) {\r\n  var url = new URL(\"https://api.unsplash.com/photos/random\");\r\n  var params = {\r\n    client_id: process.env.REACT_APP_UNSPLASH_PUBLIC_KEY,\r\n    count: image_count,\r\n    query: search\r\n  }\r\n\r\n  Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\r\n  return fetch(url, {\r\n    method: 'get',\r\n  })\r\n  .then(res => res.json())\r\n}","import React, { Component } from 'react';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {randomWord} from './const/consts';\r\nimport Loading from './ui/Loading';\r\nimport imgerror from '../css/img/imgerror.svg';\r\nimport { getSearchImage } from './helper/GetImage';\r\nimport '../css/ImageList.scss';\r\n\r\nclass ImageList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.scrollBot = React.createRef();\r\n\r\n    this.state = {\r\n      random_count : 10,\r\n      images: [],\r\n      search: randomWord[ Math.floor(Math.random() * (randomWord.length))],\r\n      image_count: 10,\r\n      url: false, // 썸네일 클릭 여부 유무, 즉, imageSizeVersion 함수 실행 여부\r\n      image : {\r\n        full : '',\r\n        raw : '',\r\n        regular : '',\r\n        small : '',\r\n        thumb : imgerror\r\n      },\r\n      imageSize : {\r\n        full : { x:0, y:0},\r\n        raw : { x:0, y:0},\r\n        regular : { x:0, y:0},\r\n        small : { x:0, y:0},\r\n        thumb : { x:0, y:0},\r\n      },\r\n      \r\n      user : '',\r\n      user_link : '',\r\n      download_location : '',\r\n    }\r\n    this.submitSearch = \"\"\r\n  }\r\n\r\n  getImage() {\r\n    getSearchImage(this.state.search, this.state.image_count) \r\n    .then(res => this.setState({ images: res }))\r\n    .catch((error) => {\r\n      console.log(\"error : \", error);\r\n      alert(i18next.t('ImageList.Fail'));\r\n    });\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.submitSearch = this.state.search;\r\n    this.getImage();\r\n  }\r\n\r\n  searchChange = (event) => {\r\n    let change_state = {};\r\n    change_state[event.target.name] = event.target.value;\r\n    this.setState(change_state);\r\n  }\r\n\r\n  showImage = (imagelist) => {\r\n    if(imagelist['errors']){ \r\n      // alert(i18next.t('ImageList.Showimage errors')); \r\n      return(\r\n        <div id=\"image-list\">\r\n          <p className=\"not-found\">Not Found</p>\r\n        </div>\r\n      )\r\n    }\r\n    const listitem = imagelist.map((image) =>\r\n      <div className=\"image-list-box\" key={image.id} >\r\n        <img className=\"image-list-img\" key={image.id} user={image.user.name} links = {image.user.links.html} dl = {image.links.download_location} src={image.urls.thumb} alt=\".\" onClick={ this.onClickThumb } full = {image.urls.full} raw = {image.urls.raw} regular = {image.urls.regular} small = {image.urls.small} full-width = {image.width} />\r\n        <p className=\"image-list-img-p\" >{image.user.name}</p>\r\n        {/* <a href = {image.urls.regular} target=\"_blank\">{image.description}</a> */}\r\n      </div>\r\n      // ursl뒤에 raw, small, regular, full 등의 따라 사이즈 조절\r\n    );\r\n    return (\r\n      <div id=\"image-list\">\r\n        {listitem}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  onClickThumb = (event) => {\r\n    new Promise((resolve) => {\r\n      this.setState({\r\n        url : true,\r\n        user : event.target.getAttribute('user'),\r\n        user_link : event.target.getAttribute('links'),\r\n        download_location : event.target.getAttribute('dl'),\r\n        image : {\r\n          full : event.target.getAttribute('full'),\r\n          raw : event.target.getAttribute('raw'),\r\n          regular : event.target.getAttribute('regular'),\r\n          small : event.target.getAttribute('small'),   \r\n          thumb : event.target.src,\r\n          full_width : event.target.getAttribute(\"full-width\")     \r\n      }})\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.getImageSize();\r\n    })\r\n\r\n  }\r\n\r\n  onClickImg = (event) => {\r\n    console.log('loading start')\r\n    this.props.onImgUrlChange(event.target.getAttribute('url'), {user : this.state.user, user_link : this.state.user_link, dl : this.state.download_location });\r\n    // this.props.onImgUrlChange(event.target.getAttribute('url'), {user : this.state.user, user_link : this.state.user_link, links : {download_location : this.state.download_location} });\r\n\r\n  }\r\n\r\n\timageNotFound = () => {\r\n\r\n  }\r\n  \r\n\timageFound = (img) => {\r\n    console.log()\r\n  }\r\n  \r\n  getImageSize = () => {\r\n    let thumb_img = new Image();\r\n    thumb_img.onload = () => {\r\n      this.setState({\r\n        imageSize : {\r\n          full : { x: this.state.image.full_width, y: Math.round(thumb_img.height * (this.state.image.full_width / thumb_img.width))},\r\n          small : { x : 400, y : Math.round(thumb_img.height * (400 / thumb_img.width)) },\r\n          thumb : { x: thumb_img.width, y: thumb_img.height},\r\n          regular : { x : 1080, y: Math.round(thumb_img.height * (1080 / thumb_img.width)) },\r\n        }\r\n      })\r\n    };\r\n    thumb_img.onerror = this.imageNotFound;\r\n    thumb_img.src = this.state.image.thumb;\r\n  }\r\n\r\n  imageSizeVersion = () => {\r\n    let image = this.state.image;\r\n    if(!image){\r\n      return(\r\n        <div id=\"image-list-size-none\">\r\n          <p>no img</p>\r\n        </div>\r\n      )\r\n    }\r\n    else{\r\n      this.scrollBot.current.scrollTop = this.scrollBot.current.scrollHeight\r\n\r\n      return (\r\n        <div id=\"image-list-size\" >\r\n          <ul>\r\n            <li>\r\n              <img className=\"image-list-img\" src = {image.thumb} url={image.full} alt=\".\" onClick={this.onClickImg}/>\r\n              <div>full: {this.state.imageSize.full.x} X  {this.state.imageSize.full.y}</div>\r\n            </li>\r\n            <li>\r\n              <img className=\"image-list-img\" src = {image.thumb} url={image.regular} alt=\".\" onClick={this.onClickImg} />\r\n              <div>regular: {this.state.imageSize.regular.x} X  {this.state.imageSize.regular.y}</div>\r\n            </li>\r\n            <li>\r\n              <img className=\"image-list-img\" src = {image.thumb} url={image.small} alt=\".\" onClick={this.onClickImg} />\r\n              <div>small: {this.state.imageSize.small.x} X {this.state.imageSize.small.y}</div>\r\n            </li>\r\n            <li>\r\n              <img className=\"image-list-img\" src = {image.thumb} url={image.thumb} alt=\".\" onClick={this.onClickImg} />\r\n              <div>thumb: {this.state.imageSize.thumb.x} X {this.state.imageSize.thumb.y}</div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  randomCountChange = (event) => {\r\n    let change_state = {};\r\n    change_state[event.target.name] = event.target.value;\r\n    this.setState(change_state);\r\n  }\r\n\r\n  scrollTop = () => {\r\n    this.scrollBot.current.scrollTop = 0\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"more-image-main\" ref={this.scrollBot}>\r\n        <button className=\"topscroll-button\" onClick = {this.scrollTop}>↑</button>\r\n        <div className=\"more-image-search\">\r\n          <div className=\"search-image\">\r\n            <div className=\"option-title\">{i18next.t('ImageList.Search random image')}</div>\r\n            <form className=\"search-form\" onSubmit={this.handleSubmit}> \r\n              <div>\r\n                <div className=\"search-group\">\r\n                  <label className =\"random-image-searchtext\" htmlFor=\"search\">{i18next.t('ImageList.Image name')}</label>\r\n                  <input className=\"search-input\" name=\"search\" value={this.state.search} onChange={this.searchChange} />\r\n                </div>\r\n                <div className=\"search-group\">\r\n                  <label className =\"random-image-searchtext\" htmlFor=\"image_count\">{i18next.t('ImageList.Image count')}</label>\r\n                  <input className=\"search-input\" type=\"number\" name=\"image_count\" value={this.state.image_count} onChange={this.searchChange} />\r\n                </div>\r\n              </div>\r\n              <input className=\"search-image-button\" type=\"submit\" value=\"Enter\" />\r\n            </form>\r\n          </div>\r\n        </div>\r\n        {this.submitSearch === \"\" ? null :\r\n          <div className=\"submit-search-div\">\r\n          {this.submitSearch.toUpperCase()}\r\n          </div>\r\n        }\r\n        {this.showImage(this.state.images)}\r\n        {this.state.url ? this.imageSizeVersion() : null}\r\n        {this.props.children}\r\n        <Loading open = {this.props.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withTranslation()(ImageList);","import React, { Component } from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../css/UploadFile.scss';\r\nimport Loading from './ui/Loading';\r\n\r\nclass Upload_file extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isUrlEnable: false,\r\n    };\r\n  }\r\n\r\n  openURL = () => {\r\n    let urlState = this.state.isUrlEnable;\r\n    this.setState({isUrlEnable: !urlState});\r\n    console.log(this.state.isUrlEnable);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main-load-image\">\r\n        <div className='local'>\r\n          <label className='input-file-button' htmlFor='input-file'>{i18next.t('Upload_file.Load local image')}</label>\r\n          <input type='file' id='input-file' onChange={this.props.fileChange} accept='image/*' style={{ display: 'none' }}></input>\r\n        </div>\r\n        <div className='url'>\r\n        <button className=\"url-open-button\" onClick={this.openURL}>{i18next.t('Upload_file.Load URL image')}</button>\r\n        {this.state.isUrlEnable ?\r\n          <form id='imgload' onSubmit={this.props.urlImageChange}>\r\n            <input className=\"input-url\" name='url' value={this.props.url} onChange={this.props.handleChange} placeholder='https://example.com' autoComplete=\"off\"></input>\r\n            <input className=\"url-submit-button\" type='submit' value={i18next.t('Upload_file.Load')}></input>\r\n          </form> :\r\n          null\r\n        }\r\n        </div>\r\n        <div style={{color : 'black'}}>\r\n          {this.props.children}\r\n        </div>\r\n        <Loading open = {this.props.loading}/>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Upload_file);","import React, { Component } from 'react';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../css/ImageModal.scss'\r\n\r\nclass ImageModal extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//   }\r\n\r\n  render(){\r\n    const { open, close } = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n        {open ? \r\n        <div className = \"newimage-modal\">\r\n          <div className = \"image-modal\">\r\n            <div className=\"top-div\">\r\n\t\t\t\t\t\t\t<div className=\"headline\">{i18next.t('ImageModal.New')}</div>\r\n              <button className=\"close\" onClick = {close}><i className=\"fas fa-times\"></i></button>\r\n            </div>\r\n            {this.props.children}\r\n          </div>\r\n        </div> : null }\r\n      </div>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default withTranslation()(ImageModal);","import {createApi}from 'unsplash-js';\r\nconst up = createApi({ accessKey: 'ua3Yx_zNDTdYyxlcX5JaO-KoZs4ri2-xZXZqc7_rcp0' });\r\nexport default up;","import React, { Component } from 'react';\r\nimport ImageList from './ImageList';\r\nimport Uploadfile from './Upload_file';\r\nimport ImageModal from './ImageModal';\r\nimport { Link } from 'react-router-dom';\r\nimport unsplash from './helper/UnspalshAPI';\r\nimport { unSplashAppName } from './const/consts';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { corsLink } from './const/consts';\r\n\r\nclass LoadImage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { width: 5, height: 5, url: \"\", submit: false, imgRatio: 100, imgWidth: 0, imgHeight: 0, imageModal : false, loading : false, unsplash : false, data : null };\r\n    this.url = \"\";\r\n    this.image = null;\r\n    this.filter = true;\r\n\r\n  }\r\n\r\n  onImgUrlChange = (url, data) => {\r\n\t\tnew Promise(resolve => {\r\n\t\t\tthis.setState({url : url, loading : true, unsplash : true, data : data});\r\n      resolve();\r\n\t\t})\r\n\t\t.then( () => {\r\n\t\t\tthis.handleSubmit();\r\n\t\t});\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    if (event) { event.preventDefault(); }\r\n    if ( this.state.unsplash ){\r\n      unsplash.photos.trackDownload({ downloadLocation: this.state.data.dl });\r\n    }\r\n    this.url = this.state.url;\r\n    this.setState({ url: \"\", submit: false, width: 0, height: 0, imgRatio: 100 });\r\n    this.image = new Image();\r\n    this.image.onload = this.imageFound;\r\n    this.image.onerror = this.imageNotFound;\r\n    this.image.src = this.url;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    // document.getElementById(\"imgRatio\").disabled = true;\r\n    let change_state = {};\r\n    change_state[event.target.name] = event.target.value;\r\n    this.url = \"\"\r\n    this.setState({ submit: false, imgRatio: 100 })\r\n    this.setState(change_state);\r\n  }\r\n\r\n  imageNotFound = () => {\r\n    this.image = null;\r\n    this.setState({loading : false});\r\n    alert(i18next.t(\"LoadImage.Invalid Url\"));\r\n  }\r\n\r\n  imageFound = () => {\r\n    // document.getElementById(\"imgRatio\").disabled = false;\r\n    var ratio = 100;\r\n    var originWidth = this.image.width;\r\n    var originHeight = this.image.height; \r\n    if (this.image.width > 2048 || this.image.height > 2048) {\r\n      this.filter = false;\r\n      if (this.image.width > this.image.height) {\r\n        ratio = 2048 / this.image.width\r\n        this.image.width = 2048;\r\n        this.image.height *= ratio\r\n        ratio *= 100;\r\n      }\r\n      else {\r\n        ratio = 2048 / this.image.height\r\n        this.image.height = 2048\r\n        this.image.width *= ratio\r\n        ratio *= 100;\r\n      }\r\n    }\r\n    else{\r\n      this.filter = true;\r\n    }\r\n    this.setState({\r\n      submit: true,\r\n      width: this.image.width,\r\n      height: this.image.height,\r\n      // imgRatio: ratio * 100,\r\n      imgRatio: ratio,\r\n      imgWidth: originWidth,\r\n      imgHeight: originHeight,\r\n      imageModal : true,\r\n      loading : false,\r\n    })\r\n    console.log(\"loading finish\")\r\n\r\n  }\r\n\r\n  urlImageChange = (event) => {\r\n    if (event) { event.preventDefault(); }\r\n    console.log('url img loading start')\r\n\t\tthis.setState({loading : true, unsplash : false });\r\n\r\n    let imgObj = new Image();\r\n\r\n    imgObj.crossOrigin = \"anonymous\";\r\n    imgObj.onload  = () => {\r\n      var tempCanvas = document.createElement('CANVAS');\r\n      var tempCtx = tempCanvas.getContext('2d');\r\n      // tempCtx.drawImage(this, 0, 0);\r\n      tempCanvas.height = imgObj.naturalHeight;\r\n      tempCanvas.width = imgObj.naturalWidth;\r\n      tempCtx.drawImage(imgObj, 0, 0);\r\n      var dataURL = tempCanvas.toDataURL();\r\n      this.setState({url : dataURL, unsplash : false, data : null})\r\n      this.handleSubmit();\r\n    }\r\n\r\n    imgObj.onerror = () => {\r\n      alert(i18next.t(\"LoadImage.Load Error\"));\r\n      this.setState({loading : false});\r\n      console.log('fail');\r\n    }\r\n    console.log(corsLink)\r\n    imgObj.src = corsLink + this.state.url;\r\n  }\r\n\r\n  fileChange = (event) => {\r\n    // new Promise((resolve) => {\r\n    //   let file = event.target.files[0];\r\n    //   this.setState({ url: URL.createObjectURL(file) });\r\n    //   event.target.value = null;\r\n    //   resolve();\r\n    // })\r\n    // .then(() => {\r\n    //   this.handleSubmit();\r\n    // })\r\n    console.log('file loading start')\r\n\t\tthis.setState({loading : true, unsplash : false });\r\n\r\n    let file = event.target.files[0];\r\n    event.target.value = null;\r\n    let imgObj = new Image();\r\n\r\n    imgObj.crossOrigin = \"anonymous\";\r\n    imgObj.onload  = () => {\r\n      var tempCanvas = document.createElement('CANVAS');\r\n      var tempCtx = tempCanvas.getContext('2d');\r\n      // tempCtx.drawImage(this, 0, 0);\r\n      tempCanvas.height = imgObj.naturalHeight;\r\n      tempCanvas.width = imgObj.naturalWidth;\r\n      tempCtx.drawImage(imgObj, 0, 0);\r\n      var dataURL = tempCanvas.toDataURL();\r\n      this.setState({url : dataURL})\r\n      this.handleSubmit();\r\n    }\r\n\r\n    imgObj.onerror = () => {\r\n      alert(i18next.t(\"LoadImage.Load Error\"));\r\n      this.setState({loading : false});\r\n      console.log('fail');\r\n    }\r\n\r\n    imgObj.src = URL.createObjectURL(file);\r\n  }\r\n\r\n  handleImageSizeChange = (event) => {\r\n    new Promise((resolve) => {\r\n      // if (this.state.imgWidth === 2048 || this.state.imgHeight === 2048) {\r\n      //   return;\r\n      // }\r\n      let ratio = event.target.value;\r\n      let width = Math.round(this.state.imgWidth * (event.target.value / 100));\r\n      let height = Math.round(this.state.imgHeight * (event.target.value / 100));\r\n      if (width > 2048 || height > 2048) {\r\n        return;\r\n      }\r\n      resolve({ ratio, width, height })\r\n    })\r\n      .then((data) => {\r\n        this.setState({ imgRatio: data.ratio, width: data.width, height: data.height });\r\n      })\r\n  }\r\n\r\n  closeImageModal = () => {\r\n    this.setState({ imageModal : false});\r\n  }\r\n\r\n  showPreviewImg = () => {\r\n    return(\r\n      <div className='preview'>\r\n        <ImageModal \r\n          open = {this.state.imageModal}\r\n          close = {this.closeImageModal} >\r\n            <div className='preview'>\r\n              <div className=\"preview-box\">\r\n                <Link \r\n                  to={{\r\n                    pathname: '/edit',\r\n                    state: {\r\n                      width: this.state.width,\r\n                      height: this.state.height,\r\n                      url: this.url,\r\n                      ratio: this.state.imgRatio,\r\n                    }\r\n                  }}>\r\n                    <img id=\"preview\" src={this.url} alt=\"preview\" ></img>\r\n                </Link>\r\n              </div>\r\n              <div className=\"preview-middle\">\r\n                <a href={this.url} target=\"_blank\" rel=\"noreferrer\">{i18next.t(\"LoadImage.Enlarge\")}</a>\r\n                <p>{this.state.width}X{this.state.height}</p>\r\n                { this.state.unsplash ? \r\n                <div>\r\n                  {/* <p>{this.state.data.dl}</p> */}\r\n                  <p>Photo by <a className=\"user_name\" href={this.state.data.user_link + \"?utm_source=\" + unSplashAppName + \"&utm_medium=referral\"} target = \"_blank\" rel=\"noreferrer\">{this.state.data.user}</a> on <a className=\"unsplash_link\" href={\"https://unsplash.com/?utm_source=\" + unSplashAppName + \"&utm_medium=referral\"} target = \"_blank\" rel=\"noreferrer\">Unsplash</a></p>\r\n                  \r\n                </div> : null}\r\n                { !this.filter ?\r\n                <div>\r\n                  필터 적용 불가\r\n                </div> : null}\r\n              </div>\r\n              <div className=\"preview-bottom\">\r\n                <input type=\"range\" name=\"imgRatio\" id=\"imgRatio\" value={this.state.imgRatio} onChange={this.handleImageSizeChange} min=\"5\" max=\"200\" step=\"1\" />\r\n                <p>{this.state.imgRatio} %</p>\r\n              </div>\r\n            </div>\r\n        </ImageModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const tab = {\r\n      1: <Uploadfile\r\n          fileChange = {this.fileChange}\r\n          handleChange = {this.handleChange}\r\n          handleSubmit = {this.handleSubmit}\r\n          urlImageChange = {this.urlImageChange}\r\n          url = {this.state.url}\r\n          imgUrl = {this.url}\r\n          loading = {this.state.loading}>\r\n          {this.showPreviewImg()}\r\n         </Uploadfile>,\r\n      2: <ImageList onImgUrlChange = {this.onImgUrlChange} loading = {this.state.loading}>\r\n          {this.showPreviewImg()}\r\n         </ImageList>\r\n    }\r\n    return (\r\n        tab[ parseInt(this.props.tab, 10) ]\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(LoadImage);\r\n\r\n/*\r\nbackup\r\n <div className='preview'>\r\n        { !this.state.submit ? null : \r\n          <div>\r\n            <Link \r\n              to={{\r\n                pathname: '/edit',\r\n                state: {\r\n                  width: this.state.width,\r\n                  height: this.state.height,\r\n                  url: this.url,\r\n                  ratio: this.state.imgRatio,\r\n                }\r\n              }}>\r\n            <i className=\"far fa-square fa-5x canvas-icon\"></i></Link>\r\n            <p>{this.state.width}X{this.state.height}</p>\r\n          </div>\r\n        }\r\n        <input disabled type=\"range\" name=\"imgRatio\" id=\"imgRatio\" value={this.state.imgRatio} onChange={this.handleImageSizeChange} min=\"5\" max=\"200\" step=\"1\" />\r\n      <p>{this.state.imgRatio}</p>\r\n    </div>\r\n*/","import React, { Component } from 'react';\r\nimport '../css/Withdrawal.scss';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nclass Withdrawal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      password: ''\r\n    }\r\n  }\r\n  inputHandler = (e) => {\r\n    const{name, value} = e.target;\r\n    this.setState({[name]: value});\r\n  }\r\n  withdrawalHandler = (e) => {\r\n    e.preventDefault();\r\n    const {password} = this.state;\r\n    const id = this.props.id;\r\n    fetch('/auth/withdraw', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({id, password})\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.msg === 'success') {\r\n        alert(i18next.t(\"Withdrawal.Success\"));\r\n        this.props.close();\r\n        window.location.replace('/');\r\n      }\r\n      else {\r\n        if(data.msg === \"not login\") {\r\n          alert(i18next.t(\"login_expired\"));\r\n          window.location.replace('/');\r\n          return;\r\n        }\r\n        alert(i18next.t(\"Withdrawal.Wrong\"));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      alert(i18next.t(\"Withdrawal.Error\"))\r\n    })\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='modal'>\r\n        <div className='withdrawal'>\r\n          <div className=\"top-div\">\r\n            {i18next.t(\"Withdrawl.Input Password\")}\r\n          </div>\r\n          <div className=\"middle-div\">\r\n            <input \r\n              type=\"password\" \r\n              name=\"password\"\r\n              className = \"input-pw\" \r\n              value={this.state.password} \r\n              onChange={this.inputHandler}\r\n              maxLength=\"20\">\r\n            </input>\r\n          </div>\r\n\r\n          <div className=\"bottom-div\">\r\n            <button className=\"confirm\" onClick={this.withdrawalHandler}>{i18next.t(\"Withdrawal.Confirm\")}</button>\r\n            <button className=\"cancel\" onClick={this.props.close}>{i18next.t(\"Withdrawal.Cancel\")}</button>\r\n          </div>\r\n          \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Withdrawal);","import React, { Component } from 'react';\r\nimport Project from './Project';\r\nimport Newproject from './New_project';\r\nimport LoadImage from './LoadImage';\r\nimport Withdrawal from './Withdrawal';\r\nimport '../css/Main.scss';\r\n// import checkUserLanguage from './helper/CheckLang';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from 'react-router-dom';\r\nimport i18next from \"../locale/i18n\";\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tab : 0,\r\n      login_state: false,\r\n      id : '',\r\n      withdrawalModal: false\r\n    }\r\n    // i18next.changeLanguage(checkUserLanguage());\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getCheck();\r\n  }\r\n  \r\n  changeTab = (event) => {\r\n    this.setState({tab : parseInt(event.target.getAttribute('tab'), 10)});\r\n  }\r\n\r\n  loginSuccess = (id) => {\r\n    this.setState({id : id, login_state: true});\r\n  }\r\n\r\n  loginFail = () => {\r\n    let tab = this.state.tab === 4 ? 0 : this.state.tab\r\n    this.setState({login_state: false, tab : tab});\r\n  }\r\n\r\n  getCheck = () => {\r\n    fetch('/auth/check', {\r\n      method: 'GET',\r\n      headers : { 'Cache-Control' : 'no-cache' }\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.success) {\r\n        this.loginSuccess(data.info.user_id);\r\n      }\r\n      else {\r\n        this.loginFail();\r\n      }\r\n    })\r\n    .catch(() => {\r\n      this.loginFail();\r\n    })\r\n  }\r\n\r\n  logoutClickHandler = () => {\r\n    fetch('/auth/logout', {\r\n      method: 'POST',\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      alert(i18next.t('Main.Signout') + ' ' + i18next.t('Main.Success'))\r\n      this.getCheck();\r\n    })\r\n    .catch(() => {\r\n      alert(i18next.t('Main.Error'));\r\n    })\r\n  }\r\n\r\n  withdrawalModalHandler = () => {\r\n    this.setState({withdrawalModal: !this.state.withdrawalModal});\r\n  }\r\n\r\n  withdrawalHandler = () => {\r\n\r\n  }\r\n\r\n  changeToKorean = () => {\r\n    i18next.changeLanguage('ko')\r\n  }\r\n\r\n  changeToEnglish = () => {\r\n    i18next.changeLanguage('en')\r\n  }\r\n\r\n  render() {\r\n    const tab = {\r\n      0: <Newproject/>,\r\n      1: <LoadImage tab = '1'/>,\r\n      2: <LoadImage tab = '2'/>,\r\n      3: <Project id ={this.state.id} login = {this.state.login_state} tab = '3'/>\r\n    }\r\n    const {t} = this.props;\r\n    // const { t } = useTranslation(['translation', 'common']);\r\n    return (\r\n      <div>\r\n        <div className='Main'>\r\n          <div className='topnav'>\r\n            <a className=\"site-title-a\" href=\"/\">FRACT</a>\r\n            <a className=\"site-title-p\" href=\"/\">Image Editor</a>\r\n\r\n            <div className='right'>\r\n              <button className='rightbtn'><i className=\"fas fa-bars\"></i></button>\r\n              {this.state.login_state ? \r\n              <div className='right-dropdown'>\r\n                <button onClick={this.logoutClickHandler}>{i18next.t('Main.Signout')}</button>\r\n                <Link to={{\r\n                  pathname: `/ChangePassword/${this.state.id}`,\r\n                }}><button>{i18next.t('Login.ChangePW')}</button></Link>\r\n                {/* <button>{i18next.t('Main.Delete account')}</button> */}\r\n                <button onClick={this.withdrawalModalHandler}>{i18next.t('Main.Delete account')}</button>\r\n                <button onClick = {this.changeToEnglish}>English</button>\r\n                <button onClick = {this.changeToKorean}>한글</button>\r\n              </div> :\r\n              <div className='right-dropdown'>\r\n                <Link to={{\r\n                  pathname: '/login',\r\n                }}><button>{i18next.t('Main.Signin')}</button></Link>\r\n                <Link to={{\r\n                  pathname: '/register',\r\n                }}><button>{i18next.t('Main.Signup')}</button></Link>\r\n                <button onClick = {this.changeToEnglish}>English</button>\r\n                <button onClick = {this.changeToKorean}>한글</button>\r\n              </div> }\r\n            </div>\r\n          </div>\r\n          <div className=\"main-box\">\r\n            <div className='sidenav'>\r\n              <div className=\"site-title\">\r\n                {/* <p className=\"site-title-p\">image-editor</p> */}\r\n              </div>\r\n              <div className=\"add-image-menu\">\r\n                <button className = {this.state.tab === 0 ?  \"sidenav-button-active\" : \"sidenav-button\"} onClick={this.changeTab} tab='0'>{t('Main.New Project')}</button>\r\n                <button className = {this.state.tab === 2 ?  \"sidenav-button-active\" : \"sidenav-button\"} onClick={this.changeTab} tab='2'>{t('Main.More Image')}</button>\r\n              </div>\r\n              {this.state.login_state ? \r\n              <div className=\"side-project-button\">\r\n                <div className = {this.state.tab === 3 ?  \"sidenav-button-active\" : \"sidenav-button\"} >\r\n                  <button onClick={this.changeTab} tab='3'>{t('Main.Project')}</button>\r\n                </div> \r\n                <div className='sidenav-user'>\r\n                  {this.state.id}\r\n                </div>\r\n              </div> : null\r\n              }\r\n            <LoadImage tab = '1'/>\r\n            </div>\r\n            <div className='inner'>\r\n              {tab[this.state.tab]}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {this.state.withdrawalModal ?\r\n          <Withdrawal id={this.state.id} close={this.withdrawalModalHandler}></Withdrawal>:\r\n          null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withTranslation()(Main);\r\n\r\n","import React, { Component } from 'react';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport $ from 'jquery';\r\nimport '../css/Save.scss'\r\n\r\nclass Save extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      format : 'png',\r\n      title : '',\r\n      saveState : true // true이면 저장 불가능, false이면 저장 가능\r\n    };\r\n    this.err = false;\r\n    this.loginstat = false;\r\n  }\r\n\r\n  changeFormat = () => {\r\n    let format = $('input[name=format]:checked').val()\r\n    this.setState({format : format});\r\n  }\r\n\r\n  saveHandler = () => {\r\n    // 다른이름으로 저장 : 무조건 새로운 프로젝트로 저장\r\n    if(this.state.title.length > 25) {\r\n      alert(i18next.t('Save.TooLong'));\r\n      return;\r\n    }\r\n    if(this.props.user_name === \"\"){\r\n      alert(i18next.t('Save.Error on server')); \r\n      return;\r\n    }\r\n\r\n    var json = this.props.canvas;\r\n    // console.log(this.props.canvas)\r\n    fetch('/content/save', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({id : this.props.user_name , title : this.state.title, data : json})\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      // console.log(data);\r\n      if(data.success && data.prj_idx !== -1){\r\n        alert(i18next.t('Save.Save') + ' ' + i18next.t('Save.Success'));\r\n        this.props.getCheckSave(data.prj_idx);\r\n        this.props.close();\r\n      }\r\n      else{\r\n        alert(i18next.t('Save.Error on server'));\r\n      }\r\n\r\n    })\r\n    .catch((error) => {\r\n      alert(i18next.t('Save.Error'));\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  updateHandler = () => {\r\n    // 저장 : 이미 저장되어 있다면, 업데이트를 해주고, 아니면 saveHandler\r\n    if(this.props.isSaved && this.props.prj_idx > 0){\r\n      var json = this.props.canvas;\r\n      fetch('/content/update', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({id : this.props.user_name , prj_idx : this.props.prj_idx, data : json})\r\n      })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if(data.success){\r\n          // console.log(data);\r\n          alert(i18next.t('Save.Update') + ' '+ i18next.t('Save.Success'));\r\n          this.props.getCheckSave(data.prj_idx);\r\n          this.props.close();\r\n        }\r\n        else{\r\n          alert(i18next.t('Save.Error'))\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        alert(i18next.t('Save.Error'));\r\n        console.log(error)\r\n      })\r\n    }\r\n    else{\r\n      this.saveHandler();\r\n    }\r\n  }\r\n\r\n  handleTitleChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let pattern = /[^a-zA-Z-_0-9]/g;\r\n      let value = event.target.value;\r\n      if(value.length > 0 && value.match(pattern)) value = value.replace(pattern, \"\");\r\n      this.setState({ title : value});\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      if(this.state.title.length === 0 || this.state.title.length > 25){\r\n        this.setState({ saveState : true});\r\n      }\r\n      else{\r\n        this.setState({ saveState : false});\r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n  imageHandler = () => {\r\n    this.props.save(this.state.title);\r\n    this.setState({title : \"\", saveState : true});\r\n    this.props.close();\r\n  }\r\n\r\n  render(){\r\n    const { open, close, user_name } = this.props;\r\n    // if(this.props.user_name === \"\"){this.err = true;}\r\n    // let imageSize = <label className=\"canvas-size\">{size().x} X {size().y}</label>\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t{open ?\r\n\t\t\t\t  <div className = \"save-modal\">\r\n\t\t\t\t\t\t<div className = \"saveModal\">\r\n              <div className=\"top-div\">\r\n\t\t\t\t\t\t\t  <div className=\"headline\">{i18next.t('Save.Save')}</div>\r\n                <button className=\"close\" onClick = {close}>{i18next.t('Save.Close')}</button>\r\n              </div>\r\n              <div className=\"title-container\">\r\n\t\t\t\t\t      <input type=\"text\" placeholder=\" \" className=\"title-input\" id=\"title-id\" name=\"title-name\" maxLength=\"25\" value={this.state.title} onChange = {this.handleTitleChange}/>\r\n                <label className=\"title-placeholder\" htmlFor=\"title-name\">{i18next.t('Save.Title')}</label>\r\n              </div>\r\n              <div className=\"content\">\r\n                <div className=\"format-box\">\r\n                  <div id=\"option\">{i18next.t('Save.Format')}</div>\r\n                  <div className=\"format-radio\">\r\n                    <input type=\"radio\" id=\"png\" name=\"format\" value=\"png\" defaultChecked onClick={this.changeFormat}/><label htmlFor=\"png\">png</label>\r\n                    <input type=\"radio\" id=\"jpeg\" name=\"format\" value=\"jpeg\" onClick={this.changeFormat}/><label htmlFor=\"jpeg\">jpeg</label>\r\n                  </div>\r\n                </div>\r\n                { this.state.format === 'jpeg' ? \r\n                  <div className=\"quality-box\">\r\n                    <div id=\"option\">{i18next.t('Save.Quality')}</div>\r\n                    <div className=\"quality-radio\">\r\n                      <input type=\"radio\" id=\"high\" name=\"quality\" value=\"1.0\" defaultChecked/><label htmlFor=\"high\">{i18next.t('Save.High')}</label>\r\n                      <input type=\"radio\" id=\"medium\" name=\"quality\" value=\"0.6\"/><label htmlFor=\"medium\">{i18next.t('Save.Medium')}</label>\r\n                      <input type=\"radio\" id=\"low\"  name=\"quality\" value=\"0.1\"/><label htmlFor=\"low\">{i18next.t('Save.Low')}</label>\r\n                    </div>\r\n                  </div> : null\r\n                }\r\n              </div>\r\n              {user_name === '' && !this.loginstat ? \r\n                <div className=\"bottom-div\">\r\n                  <div className=\"not-registerd\">\r\n                    <button id=\"save-local\" onClick = {this.imageHandler} disabled = {this.state.saveState}>{i18next.t('Save.Saveimage')}</button>\r\n                  </div>\r\n                </div> :\r\n                <div className=\"bottom-div\">\r\n                  <div className=\"registered\">\r\n                    <button id=\"save-local\" onClick = {this.imageHandler} disabled = {this.state.saveState}>{i18next.t('Save.Saveimage')}</button>\r\n                    <button id=\"save-rename\" onClick = {this.saveHandler} disabled = {this.state.saveState}>{i18next.t('Save.Save as')}</button>\r\n                    <button id=\"save-server\" onClick = {this.updateHandler} disabled = {!this.props.isSaved}>{i18next.t('Save.Save on server')}</button>\r\n                  </div>\r\n                </div>\r\n              }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> : null }\r\n\t\t\t</div>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Save);","export default class Action {\r\n  constructor(name, App) {\r\n    this.app = App;\r\n    this._name = name;\r\n    // console.log(this.name, this.app);\r\n  }\r\n\r\n\r\n  // init(canvas) {\r\n  //     this.canvas = canvas;\r\n  //     console.log('action is completed', this.canvas);\r\n  // }\r\n\r\n  getName() {\r\n    return this._name;\r\n  }\r\n\r\n  getActiveObject() {\r\n    return this.app.getActiveObject();\r\n  }\r\n\r\n  getCanvas() {\r\n    return this.app.getCanvas();\r\n  }\r\n\r\n  getImageEditor() {\r\n    return this.app.getImageEditor();\r\n  }\r\n\r\n  getBackgroundImage() {\r\n    return this.app.getBackgroundImage();\r\n  }\r\n\r\n  getGrid() {\r\n    return this.app.getGrid();\r\n  }\r\n\r\n  setGrid(grid) {\r\n    return this.app.setGrid(grid);\r\n  }\r\n\r\n  getGridOn() {\r\n    return this.app.getGridOn();\r\n  }\r\n\r\n  getClipboard() {\r\n    return this.app.getClipboard();\r\n  }\r\n\r\n  setClipboard(clip) {\r\n    return this.app.setClipboard(clip);\r\n  }\r\n\r\n  addKeyDownEvent() {\r\n    return this.app.addKeyDownEvent();\r\n  }\r\n\r\n  removeKeyDownEvent() {\r\n    return this.app.removeKeyDownEvent();\r\n  }\r\n\r\n  saveState(action){\r\n    return this.app.saveState(action);\r\n  }\r\n\r\n  updateObject() {\r\n    return this.app.updateObject();\r\n  }\r\n\r\n  loadingFinish(){\r\n    return this.app.loadingFinish();\r\n  }\r\n\r\n  loadingStart(){\r\n    return this.app.loadingStart();\r\n  }\r\n\r\n  resetCanvas(){\r\n    return this.app.resetCanvas();\r\n  }\r\n\r\n  onCanvasMove(){\r\n    return this.app._onCanvasMove();\r\n  }\r\n\r\n  offCanvasMove(){\r\n    return this.app._offCanvasMove();\r\n  }\r\n\r\n  onCanvasZoom(){\r\n    return this.app._onCanvasZoom();\r\n  }\r\n\r\n  offCanvasZoom(){\r\n    return this.app._offCanvasZoom();\r\n  }\r\n\r\n  updateLockScale(){\r\n    return this.app.updateLockScale();\r\n  }\r\n\r\n  getLockScale(){\r\n    return this.app.getLockScale();\r\n  }\r\n\r\n}\r\n\r\n\r\n","import Action from './Action';\r\nimport ResizeHelper from '../helper/Resize';\r\nclass Rotation extends Action {\r\n  constructor(App) {\r\n    super('Rotation', App);\r\n  }\r\n\r\n  changeAngle(angle) {\r\n    const canvas = this.getCanvas();\r\n    let obj = this.getActiveObject();\r\n    if(obj){\r\n      if(obj.type === 'Cropzone') { return; }\r\n      obj.set({\r\n        angle: (angle + obj.angle)% 360,\r\n      });\r\n      this.saveState('angle change');\r\n      this.updateObject();\r\n      canvas.renderAll();\r\n    }\r\n    else if (this.getBackgroundImage() && ( angle % 90 === 0)){\r\n      let img = this.getBackgroundImage()\r\n      img.set({\r\n        angle: (angle + img.angle)% 360,\r\n      });\r\n      ResizeHelper.exchangeBackgroundSize(canvas, angle);\r\n      this.saveState('angle change');\r\n      this.updateObject();\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  setAngle(angle) {\r\n    const canvas = this.getCanvas();\r\n    let obj = this.getActiveObject();\r\n    if(obj){\r\n      if(obj.type === 'Cropzone') { return; }\r\n      obj.set({\r\n        angle: angle % 360,\r\n      });\r\n      this.saveState('angle set');\r\n      this.updateObject();\r\n      canvas.renderAll();\r\n    }\r\n    else if (this.getBackgroundImage() && ( angle % 90 === 0)){\r\n      let img = this.getBackgroundImage()\r\n      img.set({\r\n        angle: angle % 360,\r\n      });\r\n      ResizeHelper.exchangeBackgroundSize(canvas, angle);\r\n      this.saveState('angle set');\r\n      this.updateObject();\r\n      canvas.renderAll();\r\n\r\n    }\r\n  }\r\n}\r\n\r\nexport default Rotation;","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\n\r\nfilters.Ink = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n    type: 'Ink',\r\n    \r\n    fragmentSource:'precision highp float;\\n' +\r\n    'uniform sampler2D texture;\\n' +\r\n    'uniform float uInk;\\n' +\r\n    'uniform vec2 texSize;\\n'+\r\n    'varying vec2 vTexCoord;\\n'+\r\n    'void main() {\\n' +\r\n      'vec2 dx = vec2(1.0 / texSize.x, 0.0);\\n' +\r\n      'vec2 dy = vec2(0.0, 1.0 / texSize.y);\\n' +\r\n      'vec4 color = texture2D(texture, vTexCoord);\\n' +\r\n      'float bigTotal = 0.0;\\n' +\r\n      'float smallTotal = 0.0;\\n' +\r\n      'vec3 bigAverage = vec3(0.0);\\n' +\r\n      'vec3 smallAverage = vec3(0.0);\\n' +\r\n      'for (float x = -2.0; x <= 2.0; x += 1.0) {\\n' +\r\n        'for (float y = -2.0; y <= 2.0; y += 1.0) {\\n' +\r\n          'vec3 sample = texture2D(texture, vTexCoord + dx * x + dy * y).rgb;\\n' +\r\n          'bigAverage += sample;\\n' +\r\n          'bigTotal += 1.0;\\n' +\r\n          'if (abs(x) + abs(y) < 2.0) {\\n' +\r\n            'smallAverage += sample;\\n' +\r\n            'smallTotal += 1.0;\\n' +\r\n          '}\\n' +\r\n        '}\\n' +\r\n      '}\\n' +\r\n      'vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\\n' +\r\n      'gl_FragColor = vec4(color.rgb - dot(edge, edge) * uInk * 100000.0, color.a);\\n' +\r\n    '}',\r\n\r\n\r\n    \r\n    mainParameter: 'ink_matrix',\r\n\r\n    ink_matrix : {\r\n      ink : 0,\r\n      width: 0,\r\n      height : 0\r\n    },\r\n\r\n\r\n    applyTo2d: function(options) {\r\n      console.log(options.canvasEl)\r\n      var imageData = options.imageData,\r\n          data = imageData.data, i,\r\n          len = data.length;\r\n      for (i = 0; i < len; i += 4) {\r\n        // data[i] = 255 - data[i];\r\n        // data[i + 1] = 255 - data[i + 1];\r\n        // data[i + 2] = 255 - data[i + 2];\r\n      }\r\n    },\r\n\r\n    isNeutralState: function() {\r\n      return false\r\n    },\r\n\r\n\r\n    getUniformLocations: function(gl, program) {\r\n      return {\r\n        uInk : gl.getUniformLocation(program, 'uInk'),\r\n        texSize : gl.getUniformLocation(program, 'texSize'),\r\n      };\r\n    },\r\n\r\n    sendUniformData: function(gl, uniformLocations) {\r\n      gl.uniform1f(uniformLocations.uInk, Math.pow(this.ink_matrix.ink, 5));\r\n      gl.uniform2fv(uniformLocations.texSize, [this.ink_matrix.width, this.ink_matrix.height]); // max size \r\n    },\r\n\r\n  });\r\n\r\nfabric.Image.filters.Ink.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const Ink = filters.Ink","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\nfilters.Vignette = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n    type: 'Vignette',\r\n    \r\n    fragmentSource:'precision highp float;\\n' +\r\n    'uniform sampler2D texture;\\n' +\r\n    'uniform float size;\\n' +\r\n    'uniform float amount;\\n'+\r\n    'varying vec2 vTexCoord;\\n'+\r\n    'void main() {\\n' +\r\n      'vec4 color = texture2D(texture, vTexCoord);\\n' +\r\n      'float dist = distance(vTexCoord, vec2(0.5, 0.5));\\n' +\r\n      'color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));\\n' +\r\n      'gl_FragColor = color;\\n' +\r\n    '}',\r\n\r\n\r\n    \r\n    mainParameter: 'vignette_matrix',\r\n\r\n    vignette_matrix : {\r\n      size : 0,\r\n      amount : 0\r\n    },\r\n\r\n\r\n    applyTo2d: function(options) {\r\n      var imageData = options.imageData,\r\n          data = imageData.data, i,\r\n          len = data.length;\r\n      for (i = 0; i < len; i += 4) {\r\n        // data[i] = 255 - data[i];\r\n        // data[i + 1] = 255 - data[i + 1];\r\n        // data[i + 2] = 255 - data[i + 2];\r\n      }\r\n    },\r\n\r\n    isNeutralState: function() {\r\n      return false\r\n    },\r\n\r\n\r\n    getUniformLocations: function(gl, program) {\r\n      return {\r\n        size : gl.getUniformLocation(program, 'size'),\r\n        amount : gl.getUniformLocation(program, 'amount'),\r\n      };\r\n    },\r\n\r\n    sendUniformData: function(gl, uniformLocations) {\r\n      gl.uniform1f(uniformLocations.size, this.vignette_matrix.size);\r\n      gl.uniform1f(uniformLocations.amount, this.vignette_matrix.amount);\r\n    },\r\n\r\n  });\r\n\r\nfabric.Image.filters.Vignette.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const Vignette = filters.Vignette","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\n\r\nfilters.ZoomBlur = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n    type: 'ZoomBlur',\r\n    \r\n    fragmentSource:'precision highp float;\\n' +\r\n    'uniform sampler2D texture;\\n' +\r\n    'uniform vec2 center;\\n' +\r\n    'uniform float strength;\\n'+\r\n    'uniform vec2 texSize;\\n'+\r\n    'varying vec2 vTexCoord;\\n'+\r\n    'float random(vec3 scale, float seed) {\\n'+\r\n      'return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\\n'+\r\n    '}\\n'+\r\n    'void main() {\\n' +\r\n      'vec4 color = vec4(0.0);\\n' +\r\n      'float total = 0.0;\\n' +\r\n      'vec2 toCenter = center - vTexCoord * texSize;\\n' +\r\n      'float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\n' +\r\n      'for (float t = 0.0; t <= 40.0; t++) {\\n' +\r\n        'float percent = (t + offset) / 40.0;\\n' +\r\n        'float weight = 4.0 * (percent - percent * percent);\\n' +\r\n        'vec4 sample = texture2D(texture, vTexCoord + toCenter * percent * strength / texSize);\\n' +\r\n        'sample.rgb *= sample.a;\\n' +\r\n        'color += sample * weight;\\n' +\r\n        'total += weight;\\n' +\r\n      '}\\n' +\r\n      'gl_FragColor = color / total;\\n' +\r\n      'gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\\n' +\r\n    '}',\r\n\r\n\r\n    \r\n    mainParameter: 'zoomblur_matrix',\r\n\r\n    zoomblur_matrix : {\r\n      center_x : 0,\r\n      center_y : 0,\r\n      strength : 0,\r\n      width: 0,\r\n      height : 0\r\n    },\r\n\r\n\r\n    applyTo2d: function(options) {\r\n      var imageData = options.imageData,\r\n          data = imageData.data, i,\r\n          len = data.length;\r\n      for (i = 0; i < len; i += 4) {\r\n        // data[i] = 255 - data[i];\r\n        // data[i + 1] = 255 - data[i + 1];\r\n        // data[i + 2] = 255 - data[i + 2];\r\n      }\r\n    },\r\n\r\n    isNeutralState: function() {\r\n      return false\r\n    },\r\n\r\n\r\n    getUniformLocations: function(gl, program) {\r\n      return {\r\n        center : gl.getUniformLocation(program, 'center'),\r\n        strength : gl.getUniformLocation(program, 'strength'),\r\n        texSize : gl.getUniformLocation(program, 'texSize'),\r\n      };\r\n    },\r\n\r\n    sendUniformData: function(gl, uniformLocations) {\r\n      gl.uniform1f(uniformLocations.strength, this.zoomblur_matrix.strength);\r\n      gl.uniform2fv(uniformLocations.texSize, [this.zoomblur_matrix.width, this.zoomblur_matrix.height]);\r\n      gl.uniform2fv(uniformLocations.center, [this.zoomblur_matrix.center_x, this.zoomblur_matrix.center_y]); \r\n    },\r\n\r\n  });\r\n\r\nfabric.Image.filters.ZoomBlur.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const ZoomBlur = filters.ZoomBlur","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\nfilters.Vibrance = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n    type: 'Vibrance',\r\n    \r\n    fragmentSource:'precision highp float;\\n' +\r\n    'uniform sampler2D texture;\\n' +\r\n    'uniform float amount;\\n'+\r\n    'varying vec2 vTexCoord;\\n'+\r\n    'void main() {\\n' +\r\n      'vec4 color = texture2D(texture, vTexCoord);\\n' +\r\n      'float average = (color.r + color.g + color.b) / 3.0;\\n' +\r\n      'float mx = max(color.r, max(color.g, color.b));\\n' +\r\n      'float amt = (mx - average) * (-amount * 3.0);\\n '+\r\n      'color.rgb = mix(color.rgb, vec3(mx), amt);\\n' +\r\n      'gl_FragColor = color;\\n' +\r\n    '}',\r\n\r\n\r\n    \r\n    mainParameter: 'amount',\r\n\r\n    amount : 0,\r\n\r\n\r\n    applyTo2d: function(options) {\r\n      // var imageData = options.imageData,\r\n      //     data = imageData.data, i,\r\n      //     len = data.length;\r\n    },\r\n\r\n    isNeutralState: function() {\r\n      return false\r\n    },\r\n\r\n\r\n    getUniformLocations: function(gl, program) {\r\n      return {\r\n        amount : gl.getUniformLocation(program, 'amount'),\r\n      };\r\n    },\r\n\r\n    sendUniformData: function(gl, uniformLocations) {\r\n      gl.uniform1f(uniformLocations.amount, this.amount);\r\n    },\r\n\r\n  });\r\n\r\nfabric.Image.filters.Vibrance.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const Vibrance = filters.Vibrance","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\nfilters.hueSaturation = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n    type: 'hueSaturation',\r\n    \r\n    fragmentSource:'precision highp float;\\n' +\r\n    'uniform sampler2D texture;\\n' +\r\n    'uniform float hue;\\n' +\r\n    'uniform float saturation;\\n'+\r\n    'varying vec2 vTexCoord;\\n'+\r\n    'void main() {\\n' +\r\n      'vec4 color = texture2D(texture, vTexCoord);\\n' +\r\n      'float angle = hue * 3.14159265;\\n' +\r\n      'float s = sin(angle), c = cos(angle);\\n' +\r\n      'vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\\n'+\r\n      'float len = length(color.rgb);\\n'+\r\n      'color.rgb = vec3(\\n'+\r\n          'dot(color.rgb, weights.xyz),\\n'+\r\n          'dot(color.rgb, weights.zxy),\\n'+\r\n          'dot(color.rgb, weights.yzx)\\n'+\r\n      ');\\n'+\r\n      '\\n'+\r\n      'float average = (color.r + color.g + color.b) / 3.0;\\n'+\r\n      'if (saturation > 0.0) {\\n'+\r\n          'color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));\\n'+\r\n      '} else {\\n'+\r\n          'color.rgb += (average - color.rgb) * (-saturation);\\n'+\r\n      '}\\n'+\r\n      'gl_FragColor = color;\\n'+\r\n    '}',\r\n\r\n\r\n    \r\n    mainParameter: 'hueSaturation_matrix',\r\n\r\n    hueSaturation_matrix : {\r\n      hue : 0,\r\n      saturation : 0\r\n    },\r\n\r\n\r\n    applyTo2d: function(options) {\r\n      var imageData = options.imageData,\r\n          data = imageData.data, i,\r\n          len = data.length;\r\n      for (i = 0; i < len; i += 4) {\r\n        // data[i] = 255 - data[i];\r\n        // data[i + 1] = 255 - data[i + 1];\r\n        // data[i + 2] = 255 - data[i + 2];\r\n      }\r\n    },\r\n\r\n    isNeutralState: function() {\r\n      return false\r\n    },\r\n\r\n\r\n    getUniformLocations: function(gl, program) {\r\n      return {\r\n        hue : gl.getUniformLocation(program, 'hue'),\r\n        saturation : gl.getUniformLocation(program, 'saturation'),\r\n      };\r\n    },\r\n\r\n    sendUniformData: function(gl, uniformLocations) {\r\n      gl.uniform1f(uniformLocations.hue, this.hueSaturation_matrix.hue);\r\n      gl.uniform1f(uniformLocations.saturation, this.hueSaturation_matrix.saturation);\r\n    },\r\n\r\n  });\r\n\r\nfabric.Image.filters.hueSaturation.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const hueSaturation = filters.hueSaturation","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\nfilters.Denoise = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n  type: 'Denoise',\r\n  \r\n  fragmentSource:'precision highp float;\\n' +\r\n  'uniform sampler2D texture;\\n' +\r\n  'uniform float exponent;\\n'+\r\n  'uniform float strength;\\n'+\r\n  'uniform vec2 texSize;\\n'+\r\n  'varying vec2 vTexCoord;\\n'+\r\n  'void main() {\\n' +\r\n    'vec4 center = texture2D(texture, vTexCoord);\\n' +\r\n    'vec4 color = vec4(0.0);\\n' +\r\n    'float total = 0.0;\\n' +\r\n    'for (float x = -4.0; x <= 4.0; x += 1.0) {\\n '+\r\n      'for (float y = -4.0; y <= 4.0; y += 1.0) {\\n' +\r\n        'vec4 sample = texture2D(texture, vTexCoord + vec2(x, y) / texSize);\\n' +\r\n        'float weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));\\n' +\r\n        'weight = pow(weight, exponent);\\n' +\r\n        'color += sample * weight;\\n' +\r\n        'total += weight;\\n' +\r\n\t\t\t'}\\n' +\r\n\t\t'}\\n' +\r\n    'gl_FragColor = color / total;\\n' +\r\n  '}',\r\n  \r\n  mainParameter: 'denoise_matrix',\r\n\r\n  denoise_matrix : {\r\n    exponent : 0,\r\n    width: 0,\r\n    height : 0\r\n  },\r\n\r\n  applyTo2d: function(options) {\r\n    // var imageData = options.imageData,\r\n    //     data = imageData.data, i,\r\n    //     len = data.length;\r\n  },\r\n\r\n  isNeutralState: function() {\r\n    return false\r\n  },\r\n\r\n  getUniformLocations: function(gl, program) {\r\n    return {\r\n\t\t\texponent : gl.getUniformLocation(program, 'exponent'),\r\n\t\t\ttexSize : gl.getUniformLocation(program, 'texSize'),\r\n    };\r\n  },\r\n\r\n  sendUniformData: function(gl, uniformLocations) {\r\n    gl.uniform1f(uniformLocations.exponent, this.denoise_matrix.exponent);\r\n    gl.uniform2fv(uniformLocations.texSize, [this.denoise_matrix.width, this.denoise_matrix.height]); // max size \r\n  },\r\n\r\n});\r\n\r\nfabric.Image.filters.Denoise.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const Denoise = filters.Denoise","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\nfilters.HexagonalPixelate = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n  type: 'HexagonalPixelate',\r\n  \r\n  fragmentSource:'precision highp float;\\n' +\r\n  'uniform sampler2D texture;\\n' +\r\n  'uniform vec2 center;\\n' +\r\n  'uniform float scale;\\n' +\r\n  'uniform vec2 texSize;\\n' +\r\n  'varying vec2 vTexCoord;\\n' +\r\n  'void main() {\\n' +\r\n  '    vec2 tex = (vTexCoord * texSize - center) / scale;\\n' +\r\n  '    tex.y /= 0.866025404;\\n' +\r\n  '    tex.x -= tex.y * 0.5;\\n' +\r\n  '    \\n' +\r\n  '    vec2 a;\\n' +\r\n  '    if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\\n' +\r\n  '       a = vec2(floor(tex.x), floor(tex.y));\\n' +\r\n  '    }\\n' +\r\n  '    else {\\n '+\r\n  '       a = vec2(ceil(tex.x), ceil(tex.y));\\n' +\r\n  '    }\\n' +\r\n  '    vec2 b = vec2(ceil(tex.x), floor(tex.y));\\n' +\r\n  '    vec2 c = vec2(floor(tex.x), ceil(tex.y));\\n' +\r\n  '    \\n' +\r\n  '    vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\\n' +\r\n  '    vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\\n' +\r\n  '    vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\\n' +\r\n  '    vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\\n' +\r\n  '    \\n' +\r\n  '    float alen = length(TEX - A);\\n' +\r\n  '    float blen = length(TEX - B);\\n' +\r\n  '    float clen = length(TEX - C);\\n' +\r\n  '    \\n' +\r\n  '    vec2 choice;\\n' +\r\n  '    if (alen < blen) {\\n' +\r\n  '        if (alen < clen) {\\n'+\r\n  '            choice = a;\\n' +\r\n  '        }\\n' +\r\n  '        else {\\n'+\r\n  '            choice = c;\\n' +\r\n  '        }\\n' +\r\n  '    } else {\\n' +\r\n  '        if (blen < clen) {\\n'+\r\n  '            choice = b;\\n' +\r\n  '        }\\n' +\r\n  '        else {\\n'+\r\n  '            choice = c;\\n' +\r\n  '        }\\n' +\r\n  '    }\\n' +\r\n  '    \\n' +\r\n  '    choice.x += choice.y * 0.5;\\n' +\r\n  '    choice.y *= 0.866025404;\\n' +\r\n  '    choice *= scale / texSize;\\n' +\r\n  '    gl_FragColor = texture2D(texture, choice + center / texSize);\\n' +\r\n  '}',\r\n  \r\n  mainParameter: 'hexagonal_matrix',\r\n\r\n  hexagonal_matrix : {\r\n    center : [0, 0],\r\n    scale : 10, // change\r\n    width: 0,\r\n    height : 0\r\n  },\r\n\r\n  applyTo2d: function(options) {\r\n    // var imageData = options.imageData,\r\n        // data = imageData.data, i,\r\n        // len = data.length;\r\n  },\r\n\r\n  isNeutralState: function() {\r\n    return false\r\n  },\r\n\r\n  getUniformLocations: function(gl, program) {\r\n    return {\r\n\t\t\tscele : gl.getUniformLocation(program, 'scale'),\r\n\t\t\tcenter : gl.getUniformLocation(program, 'center'),\r\n\t\t\ttexSize : gl.getUniformLocation(program, 'texSize'),\r\n    };\r\n  },\r\n\r\n  sendUniformData: function(gl, uniformLocations) {\r\n    gl.uniform1f(uniformLocations.scale, this.hexagonal_matrix.scale);\r\n    gl.uniform2fv(uniformLocations.center, this.hexagonal_matrix.center); \r\n    gl.uniform2fv(uniformLocations.texSize, [this.hexagonal_matrix.width, this.hexagonal_matrix.height]); // max size \r\n  },\r\n\r\n});\r\n\r\nfabric.Image.filters.HexagonalPixelate.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const HexagonalPixelate  = filters.HexagonalPixelate","import { fabric } from 'fabric';\r\nvar filters = fabric.Image.filters\r\nvar createClass = fabric.util.createClass;\r\n\r\nfilters.TiltShift = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.MyFilter.prototype */ {\r\n  type: 'TiltShift',\r\n  \r\n  fragmentSource:'precision highp float;\\n' +\r\n    'uniform sampler2D texture;\\n' +\r\n    'uniform float blurRadius;\\n' +\r\n    'uniform float gradientRadius;\\n' +\r\n    'uniform vec2 start;\\n' +\r\n    'uniform vec2 end;\\n' +\r\n    'uniform vec2 delta;\\n' +\r\n    'uniform vec2 texSize;\\n' +\r\n    'varying vec2 vTexCoord;\\n' +\r\n    'float random(vec3 scale, float seed) {\\n' +\r\n    '  /* use the fragment position for a different seed per-pixel */\\n' +\r\n    '  return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\\n' +\r\n    '}\\n' +\r\n    'void main() {\\n' +\r\n    '    vec4 color = vec4(0.0);\\n' +\r\n    '    float total = 0.0;\\n' +\r\n    '    \\n' +\r\n    '    /* randomize the lookup values to hide the fixed number of samples */\\n' +\r\n    '    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\n' +\r\n    '    \\n' +\r\n    '    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\\n' +\r\n    '    float radius = smoothstep(0.0, 1.0, abs(dot(vTexCoord * texSize - start, normal)) / gradientRadius) * blurRadius;\\n' +\r\n    '    for (float t = -30.0; t <= 30.0; t++) {\\n' +\r\n    '        float percent = (t + offset - 0.5) / 30.0;\\n' +\r\n    '        float weight = 1.0 - abs(percent);\\n' +\r\n    '        vec4 sample = texture2D(texture, vTexCoord + delta / texSize * percent * radius);\\n' +\r\n    '        \\n' +\r\n    '        /* switch to pre-multiplied alpha to correctly blur transparent images */\\n' +\r\n    '        sample.rgb *= sample.a;\\n' +\r\n    '        \\n' +\r\n    '        color += sample * weight;\\n' +\r\n    '        total += weight;\\n' +\r\n    '    }\\n' +\r\n    '    \\n' +\r\n    '    gl_FragColor = color / total;\\n' +\r\n    '    \\n' +\r\n    '    /* switch back from pre-multiplied alpha */\\n'+\r\n    '    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\\n'+\r\n  '}',\r\n  \r\n  mainParameter: 'tiltshift_matrix',\r\n\r\n  tiltshift_matrix : {\r\n    blurRadius: 0,\r\n    gradientRadius: 0,\r\n    start: [0, 0],\r\n    end: [0, 0],\r\n    delta: [0, 0],\r\n    texSize: [0, 0]\r\n  },\r\n\r\n  retrieveShader: function(options) {\r\n    if (!options.programCache.hasOwnProperty(this.type)) {\r\n      options.programCache[this.type] = this.createProgram(options.context);\r\n    }\r\n    return options.programCache[this.type];\r\n  },\r\n\r\n  applyTo2d: function(options) {\r\n    // var imageData = options.imageData,\r\n    //     data = imageData.data, i,\r\n    //     len = data.length;\r\n  },\r\n\r\n  applyToWebGL: function(options){\r\n    var gl = options.context;\r\n    var shader = this.retrieveShader(options);\r\n    \r\n    if (options.pass === 0 && options.originalTexture) {\r\n      gl.bindTexture(gl.TEXTURE_2D, options.originalTexture);\r\n    }\r\n    else {\r\n      gl.bindTexture(gl.TEXTURE_2D, options.sourceTexture);\r\n    }\r\n\r\n    for(var i = 0 ; i < 2; i ++ ){\r\n      gl.useProgram(shader.program);\r\n      console.log(gl, [i*this.tiltshift_matrix.delta[0], this.tiltshift_matrix.delta[1]])\r\n\r\n      this.sendAttributeData(gl, shader.attributeLocations, options.aPosition);\r\n  \r\n      gl.uniform1f(shader.uniformLocations.blurRadius, this.tiltshift_matrix.blurRadius);\r\n      gl.uniform1f(shader.uniformLocations.gradientRadius, this.tiltshift_matrix.gradientRadius);\r\n      if(i === 0){\r\n        gl.uniform2fv(shader.uniformLocations.delta, this.tiltshift_matrix.delta); \r\n      }\r\n      else{\r\n        gl.uniform2fv(shader.uniformLocations.delta, [-this.tiltshift_matrix.delta[1], this.tiltshift_matrix.delta[0]]);\r\n      }\r\n\r\n      gl.uniform2fv(shader.uniformLocations.start, this.tiltshift_matrix.start); \r\n      gl.uniform2fv(shader.uniformLocations.end, this.tiltshift_matrix.end); \r\n      gl.uniform2fv(shader.uniformLocations.texSize, this.tiltshift_matrix.texSize); // max size \r\n  \r\n      this.sendUniformData(gl, shader.uniformLocations);\r\n      gl.viewport(0, 0, options.destinationWidth, options.destinationHeight);\r\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\r\n    }\r\n  },\r\n\r\n  isNeutralState: function() {\r\n    return false\r\n  },\r\n\r\n  // getUniformLocations: function(gl, program) {\r\n  //   return {\r\n  //       blurRadius : gl.getUniformLocation(program, 'blurRadius'),\r\n  //       gradientRadius : gl.getUniformLocation(program, 'gradientRadius'),\r\n  //       start : gl.getUniformLocation(program, 'start'),\r\n  //       end : gl.getUniformLocation(program, 'end'),\r\n  //       delta : gl.getUniformLocation(program, 'delta'),\r\n\t// \t    texSize : gl.getUniformLocation(program, 'texSize'),\r\n  //   };\r\n  // },\r\n\r\n  // sendUniformData: function(gl, uniformLocations) {\r\n  //   gl.uniform1f(uniformLocations.blurRadius, this.tiltshift_matrix.blurRadius);\r\n  //   gl.uniform1f(uniformLocations.gradientRadius, this.tiltshift_matrix.gradientRadius);\r\n  //   gl.uniform2fv(uniformLocations.delta, this.tiltshift_matrix.delta); \r\n  //   gl.uniform2fv(uniformLocations.start, this.tiltshift_matrix.start); \r\n  //   gl.uniform2fv(uniformLocations.end, this.tiltshift_matrix.end); \r\n  //   gl.uniform2fv(uniformLocations.texSize, this.tiltshift_matrix.texSize); // max size \r\n  // },\r\n\r\n});\r\nfabric.Image.filters.TiltShift.fromObject = fabric.Image.filters.BaseFilter.fromObject;\r\nexport const TiltShift  = filters.TiltShift","import Action from './Action';\r\nimport { Ink } from '../filters/glfx/ink.js'\r\nimport { Vignette } from '../filters/glfx/vignette.js'\r\nimport { ZoomBlur } from '../filters/glfx/zoomblur.js'\r\nimport { Vibrance } from '../filters/glfx/vibrance.js'\r\nimport { hueSaturation } from '../filters/glfx/hueSaturation.js'\r\nimport { Denoise } from '../filters/glfx/denoise.js'\r\nimport { HexagonalPixelate } from '../filters/glfx/hexagonalPixelate.js' \r\nimport { TiltShift } from '../filters/glfx/tiltshift.js' \r\nimport { fabric } from 'fabric';\r\n\r\nclass Filter extends Action {\r\n  constructor(App) {\r\n    super('Filter', App);\r\n    fabric.filterBackend  = new fabric.WebglFilterBackend()\r\n    fabric.isWebglSupported(fabric.textureSize);\r\n  }\r\n\r\n  previewFilter = (obj, option) => {\r\n    if(obj && obj.type  === 'image') {\r\n      obj.clone((cloned) => {\r\n        cloned.filters[1] = new fabric.Image.filters.Invert();\r\n        console.log(cloned.src)\r\n      });\r\n    } \r\n    else{\r\n      return 'test'\r\n    }\r\n  }\r\n\r\n  applyFilter = (obj, option, checked, value) => {\r\n    let canvas = this.getCanvas();\r\n    // var timeStart = +new Date();\r\n    if (obj.type === \"image\") {\r\n      switch (option) {\r\n        case 'invert':\r\n          obj.filters[0] = checked && (new fabric.Image.filters.Invert());\r\n          break;\r\n        case 'brownie':\r\n          obj.filters[1] = checked && (new fabric.Image.filters.Brownie());\r\n          break;\r\n        case 'technicolor':\r\n          obj.filters[2] = checked && (new fabric.Image.filters.Technicolor());\r\n          break;\r\n        case 'polaroid':\r\n          obj.filters[3] = checked && (new fabric.Image.filters.Polaroid());\r\n          break;\r\n        case 'blackwhite':\r\n          obj.filters[4] = checked && (new fabric.Image.filters.BlackWhite());\r\n          break;\r\n        case 'vintage':\r\n          obj.filters[5] = checked && (new fabric.Image.filters.Vintage());\r\n          break;\r\n        case 'sepia':\r\n          obj.filters[6] = checked && (new fabric.Image.filters.Sepia());\r\n          break;\r\n        case 'kodachrome':\r\n          obj.filters[7] = checked && (new fabric.Image.filters.Kodachrome());\r\n          break;\r\n        case 'emboss':\r\n          obj.filters[8] = checked && (new fabric.Image.filters.Convolute({\r\n            matrix :  [ 1,   1,  1,\r\n                        1, 0.7, -1,\r\n                       -1,  -1, -1 ]\r\n          }));\r\n          break;\r\n        case 'sharpen':\r\n          obj.filters[9] = checked && (new fabric.Image.filters.Convolute({\r\n            matrix: [  0, -1,  0,\r\n                      -1,  5, -1,\r\n                       0, -1,  0 ]\r\n          }));\r\n          break;\r\n        // case 'resize':\r\n        //   obj.filters[11] = (new fabric.Image.filters.Resize({\r\n        //     resizeType: 'sliceHack',\r\n        //     scaleX : 0.2,\r\n        //     scaleY : 0.2\r\n        //   }));\r\n        //   break;\r\n        case 'grayscale':\r\n          obj.filters[10] = checked && (new fabric.Image.filters.Grayscale({\r\n            mode : gray_mode[value]\r\n          }));\r\n          break;\r\n        case 'brightness':\r\n          obj.filters[11] = checked && (new fabric.Image.filters.Brightness({\r\n            brightness: value\r\n          }));\r\n          break;\r\n        case 'contrast':\r\n          obj.filters[12] = checked && (new fabric.Image.filters.Contrast({\r\n            contrast: value\r\n          }));\r\n          break;\r\n        case 'pixelate':\r\n          obj.filters[13] = checked && (new fabric.Image.filters.Pixelate({\r\n            blocksize : value\r\n          }));\r\n          break;\r\n        case 'blur':\r\n          obj.filters[14] = checked && (new fabric.Image.filters.Blur({\r\n            blur : value\r\n          }));\r\n          break;\r\n        case 'noise':\r\n          obj.filters[15] = checked && (new fabric.Image.filters.Noise({\r\n            noise : value\r\n          }));\r\n          break;          \r\n        case 'saturation':\r\n          obj.filters[16] = checked && (new fabric.Image.filters.Saturation({\r\n            saturation : value\r\n          }));\r\n          break;\r\n        case 'huerotation':\r\n          obj.filters[17] = checked && (new fabric.Image.filters.HueRotation({\r\n            rotation : value\r\n          }));\r\n          break;\r\n        case 'ink':\r\n          obj.filters[18] = checked && (new Ink({\r\n            ink_matrix : {\r\n              ink : value ,\r\n              width : obj.width,\r\n              height : obj.height\r\n            }\r\n          }));\r\n          break;\r\n        case 'vignette':\r\n          obj.filters[19] = checked && (new Vignette({\r\n            vignette_matrix : {\r\n              size :  0.66,\r\n              amount : value\r\n            }\r\n          }));\r\n          break;\r\n        case 'zoomblur':\r\n          obj.filters[20] = checked && (new ZoomBlur({\r\n            zoomblur_matrix : {\r\n              center_x : obj.width/2, // Controllable\r\n              center_y : obj.height/2, // Controllable\r\n              strength : value,\r\n              width : obj.width,\r\n              height : obj.height\r\n            }\r\n          }));\r\n          break;\r\n        case 'vibrance':\r\n          obj.filters[21] = checked && (new Vibrance({\r\n            amount : value\r\n          }));\r\n          break;\r\n        case 'denoise':\r\n          obj.filters[22] = checked && (new Denoise({\r\n            denoise_matrix : {\r\n              exponent : value,\r\n              width : obj.width,\r\n              height : obj.height\r\n            }\r\n          }));\r\n          break;\r\n        case 'removecolor':\r\n          // console.log(checked, value)\r\n          obj.filters[23] = checked && (new fabric.Image.filters.RemoveColor({\r\n            distance: value.distance,\r\n            color: value.color,\r\n          }));\r\n          break;\r\n        case 'blendcolor':\r\n          // console.log(value)\r\n          obj.filters[24] = checked && (new fabric.Image.filters.BlendColor({\r\n            color: value.color,\r\n            mode: value.mode,\r\n            alpha: value.alpha\r\n          }));\r\n          // console.log(obj.filters)\r\n          break;\r\n        case 'gamma':\r\n          obj.filters[25] = checked && (new fabric.Image.filters.Gamma({\r\n            gamma : [parseFloat(value.r), parseFloat(value.g), parseFloat(value.b)]\r\n          }));\r\n          break;\r\n        case 'huesaturation':\r\n          obj.filters[26] = checked && (new hueSaturation({\r\n            hueSaturation_matrix : {\r\n              hue : 0,\r\n              saturation : value\r\n            }\r\n          }));\r\n          break;\r\n        case 'tiltshift':\r\n          // var endX = 1;\r\n          // var endY = obj.height / 2;\r\n          // var startX = obj.width - 1;\r\n          // var startY = obj.height / 2;\r\n\r\n          var startX = obj.width / 4;\r\n          var startY =  obj.height / 2;\r\n          var endX = obj.width / 4 * 3;\r\n          var endY = obj.height / 2;\r\n\r\n\r\n          var dx = endX - startX;\r\n          var dy = endY - startY;\r\n          var d = Math.sqrt(dx * dx + dy * dy);\r\n          obj.filters[27] = checked && (new TiltShift({  \r\n            tiltshift_matrix : {\r\n              blurRadius: value,\r\n              gradientRadius: 150,\r\n              start: [startX, startY],\r\n              end: [endX, endY],\r\n              delta: [dx / d, dy / d],\r\n              texSize: [obj.width, obj.height]\r\n            }\r\n          }));\r\n          break;\r\n        case 'hexagonalpixelate':\r\n          obj.filters[28] = checked && (new HexagonalPixelate({\r\n            hexagonal_matrix : {\r\n              center : [obj.width / 2, obj.height / 2],\r\n              scale : value,\r\n              width: obj.width,\r\n              height : obj.height\r\n            }\r\n          }));\r\n          break;\r\n        case 'opacity':\r\n          obj.opacity = value;\r\n          break;\r\n\r\n        default:\r\n      }\r\n      this.saveState(checked ? 'apply filter ' + option : 'off filter ' + option);\r\n      this.updateObject();\r\n      obj.applyFilters();\r\n      // var timeEnd = +new Date();\r\n      // console.log(parseFloat(timeEnd-timeStart) + 'ms');\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default Filter;\r\n\r\nconst gray_mode = ['average', 'luminosity', 'lightness']\r\n\r\n/*\r\n applyfiltervalue ( index, prop, value)\r\n obj.filters[index][prop] = value;\r\n\r\n\r\n 0번 인덱스, grayScale\r\n  $('average').onclick = function() {\r\n    applyFilterValue(0, 'mode', 'average');\r\n  };\r\n  $('luminosity').onclick = function() {\r\n    applyFilterValue(0, 'mode', 'luminosity');\r\n  };\r\n  $('lightness').onclick = function() {\r\n    applyFilterValue(0, 'mode', 'lightness');\r\n  };\r\n\r\n2번 인덱스 : removeColor 필터\r\n$('remove-color-color').onchange = function() {\r\n    applyFilterValue(2, 'color', this.value);\r\n  };\r\n  $('remove-color-distance').oninput = function() {\r\n    applyFilterValue(2, 'distance', this.value);\r\n  };\r\n\r\n\r\n17번 인덱스 : gamma필터\r\n    $('gamma').onclick = function () {\r\n    var v1 = parseFloat($('gamma-red').value);\r\n    var v2 = parseFloat($('gamma-green').value);\r\n    var v3 = parseFloat($('gamma-blue').value);\r\n    applyFilter(17, this.checked && new f.Gamma({\r\n      gamma: [v1, v2, v3]\r\n    }));\r\n  };\r\n  $('gamma-red').oninput = function() {\r\n    var current = getFilter(17).gamma;\r\n    current[0] = parseFloat(this.value);\r\n    applyFilterValue(17, 'gamma', current);\r\n  };\r\n  $('gamma-green').oninput = function() {\r\n    var current = getFilter(17).gamma;\r\n    current[1] = parseFloat(this.value);\r\n    applyFilterValue(17, 'gamma', current);\r\n  };\r\n  $('gamma-blue').oninput = function() {\r\n    var current = getFilter(17).gamma;\r\n    current[2] = parseFloat(this.value);\r\n    applyFilterValue(17, 'gamma', current);\r\n  };\r\n\r\n*/","import Action from './Action';\r\nimport { fabric } from 'fabric';\r\n\r\nclass ObjectAction extends Action {\r\n  constructor(App) {\r\n    super('Object', App);\r\n  }\r\n\r\n  setShadow = (option) => {\r\n    let obj = this.getActiveObject();\r\n    const canvas = this.getCanvas();\r\n    if(obj){\r\n      // obj.set('shadow', new fabric.Shadow( {color:'black', blur:30, offsetX:10, offsetY:10, opacity:0}));\r\n      obj.set('shadow', new fabric.Shadow( {color: option.color , blur : option.blur, offsetX : option.offsetX, offsetY : option.offsetY, opacity : option.opacity}));\r\n      if(obj.type === \"path\") {\r\n        if(obj.fill === null) this.saveState('set shadow drawing');\r\n        else this.saveState('set shadow path')\r\n      }\r\n      else if(obj.type === \"group\") this.saveState('set shadow drawing');\r\n      else this.saveState('set shadow ' + obj.type);\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n\r\n  removeShadow = () => {\r\n    const canvas = this.getCanvas();\r\n    let obj = this.getActiveObject();\r\n    if(obj){\r\n      obj.set('shadow', null);\r\n      if(obj.type === \"path\") {\r\n        if(obj.fill === null) this.saveState('remove shadow draw');\r\n        else this.saveState('remove shadow path')\r\n      }\r\n      else if(obj.type === \"group\") this.saveState('remove shadow draw');\r\n      else this.saveState('remove shadow ' + obj.type);\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  setStroke = (obj, options) => {\r\n    const canvas = this.getCanvas();\r\n    if(obj){\r\n      obj.set({\r\n        stroke : options.strokeColor|| null,\r\n        strokeWidth : options.strokeWidth || null\r\n      })\r\n      if(options.strokeWidth === 0){\r\n          obj.set({stroke : null});\r\n      }\r\n      else{\r\n        this.saveState('set stroke');\r\n      }\r\n      canvas.renderAll();\r\n    }\r\n\r\n  }\r\n\r\n  lockScaleRatio = () => {\r\n    let obj = this.getActiveObject();\r\n    if(obj){\r\n      obj.set({\r\n        scaleY : Math.max(obj.scaleX, obj.scaleY),\r\n        scaleX : Math.max(obj.scaleX, obj.scaleY)\r\n      })\r\n    }\r\n    this.updateLockScale();\r\n    this.updateObject();\r\n    this.getCanvas().renderAll();\r\n  }\r\n\r\n  scaleXChange = (value) => {\r\n    if(this.getActiveObject()){\r\n      this.getActiveObject().scaleX = value / 100 ;\r\n      if(this.getLockScale()){\r\n        this.getActiveObject().scaleY = value / 100 ;\r\n      }\r\n      this.updateObject();\r\n      this.getCanvas().renderAll();\r\n    }\r\n  }\r\n\r\n  scaleYChange = (value) => {\r\n    if(this.getActiveObject()){\r\n      this.getActiveObject().scaleY = value / 100;\r\n      if(this.getLockScale()){\r\n        this.getActiveObject().scaleX = value / 100 ;\r\n      }\r\n      this.updateObject();\r\n      this.getCanvas().renderAll();\r\n    }\r\n  }\r\n\r\n  makeGroup = () => {\r\n    const canvas = this.getCanvas();\r\n    if(this.getActiveObject() && this.getActiveObject().type === 'activeSelection' && canvas){\r\n      canvas.getActiveObject().toGroup();\r\n      this.updateObject();\r\n      canvas.renderAll();\r\n      this.saveState('makeGroup')\r\n    }\r\n  }\r\n\r\n  unGroup = () => {\r\n    const canvas = this.getCanvas();\r\n    if(this.getActiveObject() && this.getActiveObject().type === 'group' && canvas){\r\n      canvas.getActiveObject().toActiveSelection();\r\n      this.updateObject();\r\n      canvas.renderAll();\r\n      this.saveState('unGroup')\r\n    }\r\n  }\r\n\r\n  sendBackwards = () => {\r\n    const canvas = this.getCanvas();\r\n    if(this.getActiveObject() && canvas){\r\n      canvas.sendBackwards(this.getActiveObject())\r\n      if(this.getGridOn()){ canvas.sendToBack(this.getGrid()) }\r\n      canvas.renderAll();\r\n      this.saveState('sendBackwards');\r\n    }\r\n  }\r\n\r\n  sendToBack = () => {\r\n    const canvas = this.getCanvas();\r\n    if(this.getActiveObject() && canvas){\r\n      canvas.sendToBack(this.getActiveObject() )\r\n      if(this.getGridOn()){ canvas.sendToBack(this.getGrid()) }\r\n      canvas.renderAll();\r\n      this.saveState('sendToBack');\r\n    }\r\n  }\r\n\r\n  bringForward = () => {\r\n    const canvas = this.getCanvas();\r\n    if(this.getActiveObject() && canvas){\r\n      canvas.bringForward(this.getActiveObject())\r\n      canvas.renderAll();\r\n      this.saveState('bringForward');\r\n    }\r\n  }\r\n\r\n  bringToFront = () => {\r\n    const canvas = this.getCanvas();\r\n    if(this.getActiveObject() && canvas){\r\n      canvas.bringToFront(this.getActiveObject())\r\n      canvas.renderAll();\r\n      this.saveState('bringToFront');\r\n    }\r\n  }\r\n\r\n  // from https://jsfiddle.net/milanhlinak/4fofjzvm/\r\n  moveSelected = (direction) => {\r\n    const canvas = this.getCanvas();\r\n    const STEP = 10;\r\n    var activeObject = canvas.getActiveObject();\r\n\r\n  \r\n    if (activeObject) {\r\n      switch (direction) {\r\n        case 'left':\r\n          activeObject.left = (activeObject.left - STEP);\r\n          break;\r\n        case 'up':\r\n          activeObject.top = (activeObject.top - STEP);\r\n          break;\r\n        case 'right':\r\n          activeObject.left = (activeObject.left+ STEP);\r\n          break;\r\n        case 'down':\r\n          activeObject.top = (activeObject.top + STEP);\r\n          break;\r\n        default :\r\n          break;\r\n      }\r\n      activeObject.setCoords();\r\n      canvas.renderAll();\r\n\r\n      if(activeObject.type === \"path\") {\r\n        if(activeObject.fill === null) this.saveState('drawing moved using a keyboard');\r\n        else this.saveState('icon moved using a keyboard');\r\n      }\r\n      else if(activeObject.type === \"group\") this.saveState('drawing moved using a keyboard');\r\n      else this.saveState(activeObject.type + ' moved using a keyboard');\r\n    }   \r\n  }\r\n}\r\n\r\nexport default ObjectAction;","import Action from './Action';\r\n\r\nclass Delete extends Action {\r\n  constructor(App) {\r\n    super('Delete', App);\r\n  }\r\n\r\n  deleteObject = () => {\r\n    const canvas = this.getCanvas();\r\n    let obj = this.getActiveObject();\r\n    if(obj){\r\n      switch(obj.type){\r\n        case 'textbox' : \r\n          if(!this.getActiveObject().isEditing){\r\n            canvas.remove(obj);\r\n            this.saveState('delete Textbox');\r\n          }\r\n          break;\r\n        case 'activeSelection':\r\n          for(let i in obj._objects) {\r\n            canvas.remove(obj._objects[i]);\r\n          }\r\n          canvas.discardActiveObject();\r\n          this.saveState('delete activeSelection');\r\n          break;\r\n        default :\r\n          canvas.remove(obj);\r\n          console.log(obj);\r\n          console.log(obj.type);\r\n          if(obj.type === \"path\") {\r\n            if(obj.fill === null) this.saveState('delete draw');\r\n            else this.saveState('delete path')\r\n          }\r\n          else if(obj.type === \"group\") this.saveState('delete draw');\r\n          else this.saveState('delete ' + obj.type);\r\n      }\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  deleteAllObject = () => {\r\n    const canvas = this.getCanvas();\r\n    canvas.remove(...canvas.getObjects());\r\n    this.saveState('clear canvas');\r\n    canvas.renderAll();\r\n  }\r\n\r\n}\r\n\r\nexport default Delete;\r\n\r\n","/**\r\n * return RGBA string\r\n * @param  {Object} color\r\n * @return {String} rgba\r\n * color : { r : number, g : number, b : number, a : number } \r\n */\r\nexport function convertRGB(color){\r\n    return `rgba(${color.r }, ${ color.g }, ${ color.b }, ${ color.a })`;\r\n}\r\n\r\n/**\r\n * convert HEX color to RGB color\r\n * @param  {String} hexcolor\r\n * @return {Object} rgba\r\n * color : { r : number, g : number, b : number, a : number } \r\n */\r\nexport function HEXtoRGB(hexcolor){\r\n    let red = parseInt(hexcolor.substring(1,3), 16);\r\n    let green = parseInt(hexcolor.substring(3,5), 16);\r\n    let blue = parseInt(hexcolor.substring(5,7), 16);\r\n    return {r : red, g : green, b : blue, a : 1};\r\n}\r\n\r\nexport function HEXtoRGBA(hexcolor, opacity){\r\n    let red = parseInt(hexcolor.substring(1,3), 16);\r\n    let green = parseInt(hexcolor.substring(3,5), 16);\r\n    let blue = parseInt(hexcolor.substring(5,7), 16);\r\n    return {r : red, g : green, b : blue, a : opacity};\r\n}\r\n\r\nexport function RGBtoHEX(rgbcolor){\r\n    let hex = (rgbcolor.r).toString(16) + (rgbcolor.g).toString(16) + (rgbcolor.a).toString(16)\r\n    return hex;\r\n}\r\n","import Action from './Action';\r\nimport ResizeHelper from '../helper/Resize';\r\nimport {convertRGB} from '../helper/ConverRGB'\r\nimport { fabric } from 'fabric';\r\nclass Shape extends Action {\r\n  constructor(App) {\r\n    super('Shape', App);\r\n    this.shapeType = null;\r\n    this.disableObj = null;\r\n    this.color = null;\r\n  }\r\n\r\n  setEndAngle = (value) => {\r\n    if(this.getActiveObject()){\r\n      if(value > 360) { value = 360; }\r\n      if(value < 0) { value = 0; }\r\n      let shape = this.getActiveObject();\r\n      shape.set({\r\n        endAngle : value * Math.PI / 180,\r\n      })\r\n      this.updateObject();\r\n      this.getCanvas().renderAll();\r\n    }\r\n  }\r\n\r\n  setStroke = (option) => {\r\n    if(this.getActiveObject()) {\r\n      let shape = this.getActiveObject();\r\n      shape.set({\r\n        stroke: option.width === 0 ? null : option.color,\r\n        strokeWidth: option.width,\r\n        noScaleCache: true,\r\n        strokeUniform: true,\r\n      })\r\n      this.updateObject();\r\n      this.getCanvas().renderAll();\r\n      if(shape.type === \"path\") {\r\n        if(shape.fill === null) this.saveState('Stroke set draw');\r\n        else this.saveState('Stroke set path')\r\n      }\r\n      else if(shape.type === \"group\") this.saveState('Stroke set draw');\r\n      else this.saveState('Stroke set ' + shape.type);\r\n    }\r\n  }\r\n\r\n  setStrokeColor = (color) => {\r\n    const activeObject = this.getActiveObject();\r\n    const canvas = this.getCanvas();\r\n    if(activeObject) {\r\n      activeObject.set({\r\n        stroke: convertRGB(color)\r\n      })\r\n      let shape = activeObject;\r\n      if(shape.type === \"path\") {\r\n        if(shape.fill === null) this.saveState('Stroke color change draw');\r\n        else this.saveState('Stroke color change path')\r\n      }\r\n      else if(shape.type === \"group\") this.saveState('Stroke color change draw');\r\n      else this.saveState('Stroke color change ' + shape.type);\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  _bindShapeEvent = (shape) => {\r\n      const canvas = this.getCanvas();\r\n      shape.on({\r\n        scaling(event){\r\n          ResizeHelper.resize(canvas, event, this);\r\n        },\r\n      })\r\n    }\r\n\r\n  addShape = (shapeType, color) => {\r\n    const canvas = this.getCanvas();\r\n    canvas.defaultCursor = 'pointer';\r\n    canvas.discardActiveObject();\r\n    this.shapeType = shapeType;\r\n    this.color = convertRGB(color);\r\n    document.addEventListener('mousedown',this.addShapeEvent);    \r\n    // document.addEventListener('keydown',this._onShiftKeydownEvent);\r\n  }\r\n\r\n  addShapeEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    let myFigure;\r\n    if(event.target.tagName === 'CANVAS'){\r\n      this.removeKeyDownEvent();\r\n      this.disableObj = this.getActiveObject();\r\n      \r\n      if(this.disableObj){\r\n        this.disableObj.lockMovementY = true;\r\n        this.disableObj.lockMovementX = true;\r\n      }\r\n      \r\n      const pointer = canvas.getPointer(event, false)\r\n      switch(this.shapeType) {\r\n        case 'triangle':\r\n          myFigure = new fabric.Triangle({ width: 0, height: 0, left: pointer.x, top: pointer.y, fill: this.color,  originX : \"left\", originY:\"top\", strokeWidth : 0, noScaleCache: false, isRegular : false, cornerStrokeColor : \"grey\",borderColor : \"grey\"});\r\n          canvas.add(myFigure).setActiveObject(myFigure);\r\n          // this._bindShapeEvent(myFigure);\r\n          break;\r\n        case 'rectangle':\r\n          myFigure = new fabric.Rect({ width: 0, height: 0, left: pointer.x, top: pointer.y, fill: this.color, originX : \"left\", originY:\"top\", strokeWidth : 0, noScaleCache: false, isRegular : false, cornerStrokeColor : \"grey\",borderColor : \"grey\"});\r\n          canvas.add(myFigure).setActiveObject(myFigure);\r\n          // this._bindShapeEvent(myFigure);\r\n          break;\r\n        case 'ellipse':\r\n          myFigure = new fabric.Ellipse({ rx:0, ry:0, left: pointer.x, top: pointer.y, fill: this.color, strokeWidth : 0, isRegular : false, cornerStrokeColor : \"grey\",borderColor : \"grey\"});\r\n          canvas.add(myFigure).setActiveObject(myFigure);\r\n          break;\r\n        case 'circle':\r\n          myFigure = new fabric.Circle({ radius : 0, left: pointer.x, top: pointer.y, fill: this.color, originX : \"left\", originY:\"top\", strokeWidth : 0, noScaleCache: false, isRegular : false, cornerStrokeColor : \"grey\",borderColor : \"grey\"});\r\n          canvas.add(myFigure).setActiveObject(myFigure);\r\n          break;        \r\n        default:\r\n      }\r\n\r\n      canvas.selection = false;\r\n      canvas.on('mouse:move', this.shapeCreateResizeEvent);\r\n      canvas.on('mouse:up', this.shapeEndResizeEvent);\r\n    }\r\n\r\n    canvas.defaultCursor = 'default';\r\n    document.removeEventListener('mousedown',this.addShapeEvent);\r\n    // document.removeEventListener('keydown',this._onShiftKeydownEvent);\r\n  }\r\n\r\n\r\n\r\n  shapeEndResizeEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    \r\n    canvas.off('mouse:move', this.shapeCreateResizeEvent);\r\n    let activeObject = this.getActiveObject();\r\n    // this.adjustOriginToCenter(activeObject);\r\n    ResizeHelper.adjustOriginToCenter(activeObject)\r\n\r\n    if(activeObject.width === 0 || activeObject.height === 0){\r\n      canvas.remove(activeObject);\r\n    }\r\n    else{\r\n      this.saveState(activeObject.type + ' add');\r\n    }\r\n\r\n    canvas.selection = true;\r\n    canvas.renderAll();\r\n    \r\n    if(this.disableObj){\r\n      this.disableObj.lockMovementY = false;\r\n      this.disableObj.lockMovementX = false;\r\n      this.disableObj = null;\r\n    }\r\n    this.addKeyDownEvent();\r\n    canvas.off('mouse:up', this.shapeEndResizeEvent);\r\n  }\r\n\r\n  shapeCreateResizeEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    const pointer = canvas.getPointer(event, false)\r\n    let activeObject = this.getActiveObject();\r\n    let width = Math.abs(pointer.x - activeObject.left);\r\n    let height = Math.abs(pointer.y - activeObject.top);\r\n\r\n    if (activeObject.isRegular) {\r\n      width = height =  Math.max(width, height);\r\n\r\n      if (activeObject.type === 'triangle') {\r\n          height = Math.sqrt(3) / 2 * width;\r\n      }\r\n    }\r\n\r\n    if(activeObject.type === 'ellipse'){\r\n      activeObject.set({\r\n        rx : width /2 ,\r\n        ry : height / 2,\r\n        originX : pointer.x - activeObject.left < 0 ? 'right' : 'left',\r\n        originY : pointer.y - activeObject.top < 0 ? 'bottom' : 'top',\r\n      })\r\n    }\r\n    else if(activeObject.type === 'circle'){\r\n      activeObject.set({\r\n        radius : Math.max(width, height) / 2,\r\n        originX : pointer.x - activeObject.left < 0 ? 'right' : 'left',\r\n        originY : pointer.y - activeObject.top < 0 ? 'bottom' : 'top',\r\n      })\r\n    }\r\n    else{\r\n      activeObject.set({\r\n        width : width,\r\n        height :height,\r\n        originX : pointer.x - activeObject.left < 0 ? 'right' : 'left',\r\n        originY : pointer.y - activeObject.top < 0 ? 'bottom' : 'top',\r\n      })\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n}\r\n  \r\nexport default Shape;","export default function originImage () {\r\n  return new Image();\r\n}\r\n","import Action from './Action';\r\nimport { fabric } from 'fabric';\r\nimport originImage from '../helper/originImage';\r\nimport $ from 'jquery';\r\nclass Image extends Action {\r\n  constructor(App) {\r\n    super('Image', App);\r\n    this.testUrl = null;\r\n  }\r\n\r\n  addImageEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    const pointer = canvas.getPointer(event, false)\r\n    if(event.target.tagName === 'CANVAS'){\r\n      this.loadingStart();\r\n      this.loadImage(this.testUrl, pointer, {originX : \"center\", originY : \"center\", scaleX : 1, scaleY : 1})\r\n      .then((data) => {\r\n        canvas.add(data).setActiveObject(data);\r\n        this.saveState('image add');\r\n        this.loadingFinish();\r\n      })\r\n      .catch(() => {\r\n        alert(\"image load error\");\r\n        this.loadingFinish();\r\n      })\r\n    }\r\n    document.removeEventListener('mousedown', this.addImageEvent);\r\n    canvas.defaultCursor = 'default';\r\n    canvas.selection = true;\r\n  }\r\n\r\n  addImage = (url) => {\r\n    const canvas = this.getCanvas();\r\n    this.testUrl = url;\r\n\r\n    this.loadingStart();\r\n\r\n    let imgObj = originImage();\r\n    imgObj.crossOrigin = \"anonymous\";\r\n\r\n    imgObj.onload  = () => {\r\n      console.log(\"onload\", imgObj);\r\n      canvas.defaultCursor = 'pointer';\r\n      canvas.selection = false;\r\n      var tempCanvas = document.createElement('CANVAS');\r\n      var tempCtx = tempCanvas.getContext('2d');\r\n      // tempCtx.drawImage(this, 0, 0);\r\n      tempCanvas.height = imgObj.naturalHeight;\r\n      tempCanvas.width = imgObj.naturalWidth;\r\n      tempCtx.drawImage(imgObj, 0, 0);\r\n      var dataURL = tempCanvas.toDataURL();\r\n      this.testUrl = dataURL;\r\n      this.loadingFinish();\r\n      setTimeout(() => {\r\n        document.addEventListener('mousedown',this.addImageEvent);\r\n      }, 1);\r\n    }\r\n\r\n    imgObj.onerror = () => {\r\n      alert('image load error');\r\n      this.loadingFinish();\r\n      console.log('fail');\r\n    }\r\n    imgObj.src = this.testUrl;\r\n  }\r\n\r\n  \r\n  loadImage = (url, pointer, option) => {\r\n    return new Promise((resolve, reject) => {\r\n      fabric.Image.fromURL(url, img => {\r\n        if(img._element != null){\r\n          img.set({\r\n            angle: 0,\r\n            originX: option.originX,\r\n            originY: option.originY,\r\n  \r\n            left: pointer.x,\r\n            top: pointer.y,\r\n  \r\n            scaleX : option.scaleX,\r\n            scaleY : option.scaleY,\r\n  \r\n            strokeWidth : 0,\r\n            cornerStrokeColor : \"grey\",\r\n            borderColor : \"grey\"\r\n          });\r\n          resolve(img);\r\n        }\r\n        else{\r\n          reject();\r\n        }\r\n      }, { crossOrigin: 'anonymous' }\r\n      );\r\n    });\r\n  }\r\n\r\n  saveImage = (title) => {\r\n    let quality = $('input[name=quality]:checked').val()\r\n    let format= $('input[name=format]:checked').val()    \r\n    let option;\r\n    let name;\r\n    if(format === 'jpeg'){\r\n      option = {\r\n        format : 'jpeg',\r\n        quality : parseFloat(quality)\r\n      }\r\n      name = title + '.jpeg'\r\n    }\r\n    else{\r\n      option = {\r\n        format : 'png'\r\n      }\r\n      name = title + '.png'\r\n    }\r\n    const canvas = this.getCanvas();\r\n    let dataURL = canvas.toDataURL(option);\r\n    var a = document.createElement(\"a\");\r\n    a.href = dataURL;\r\n    a.setAttribute(\"download\", name);\r\n    a.click();\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default Image;","import Action from './Action';\r\nimport { fabric } from 'fabric';\r\nimport ResizeHelper from '../helper/Resize';\r\n\r\nclass Crop extends Action {\r\n  constructor(App) {\r\n    super('Crop', App);\r\n    this.state={width: 0, height: 0};\r\n    this._cropzone = null;\r\n    this.off = null;\r\n\r\n    fabric.Cropzone = fabric.util.createClass(fabric.Rect, {\r\n      type: 'Cropzone',\r\n      initialize: function(options) {\r\n          // this.placedColor = 'rgba(211,211,211, 0)';\r\n          this.virtualModeColor = 'rgba(211,211,211, 0)';\r\n          this.setToVirtualMode();\r\n          options || (options = { });\r\n          this.callSuper('initialize', options);\r\n          this.set({\r\n              label : options.label || '',\r\n              'top' : options.top || 0,\r\n              'left':  options.left || 0,\r\n              'height' : options.height || 50,\r\n              'angle' : options.angle || 0,\r\n              'fill' : options.fill || 'this.backgroundColor',\r\n              'borderColor' : 'black',\r\n              'hasControls' : true,\r\n              'strokeWidth' : 0,\r\n              'hasRotatingPoint' : false\r\n          });\r\n          this.setControlsVisibility({\r\n            mtr : false,\r\n          })\r\n      },\r\n  \r\n      /**\r\n       *@description set render mode to virtual\r\n       */\r\n      setToVirtualMode : function () {\r\n          this.isInVirtualMode = true;\r\n          this.backgroundColor = this.virtualModeColor;\r\n      },\r\n      _render: function(ctx) {\r\n          this.callSuper('_render', ctx);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  cropzoneOption = (image, option) => {\r\n    let height = (image.height + image.strokeWidth);\r\n    let width = (image.width + image.strokeWidth);\r\n    switch(option){\r\n      case \"4:3\":\r\n        width = (image.width + image.strokeWidth) *  (3/4);\r\n        break;\r\n      case \"3:2\":\r\n        width = (image.width + image.strokeWidth) *  (2/3);\r\n        break;\r\n      case \"16:9\":\r\n        height = (image.height + image.strokeWidth) *  (9/16);\r\n        break;\r\n      default :\r\n    }\r\n\r\n    return {label: 'cropObj',\r\n      top: image.top, \r\n      left: image.left, \r\n      height: height, \r\n      width: width,\r\n      scaleX : image.scaleX,\r\n      scaleY : image.scaleY,\r\n      angle : image.angle,\r\n   };\r\n  }\r\n\r\n  cropObj = (activeObject, option) => {\r\n    let canvas = this.getCanvas();\r\n    let image = activeObject;\r\n    if(this._cropzone){\r\n      canvas.remove(this._cropzone);\r\n    }\r\n    this._cropzone = new fabric.Cropzone(this.cropzoneOption(image, option));\r\n    canvas.add(this._cropzone);\r\n    this.addEvent();\r\n    canvas.setActiveObject(this._cropzone);\r\n    canvas.renderAll();\r\n    canvas.requestRenderAll();\r\n  }\r\n\r\n  cropObjstop = () => {\r\n    let canvas = this.getCanvas();\r\n    canvas.remove(this._cropzone);\r\n    this._cropzone = null;\r\n    this.deleteEvent();\r\n    canvas.renderAll();\r\n  }\r\n\r\n  cropObjend = (activeObject) => {\r\n    let canvas = this.getCanvas();\r\n    let image = activeObject;\r\n    let test_canvas = new fabric.Canvas('test', {\r\n      preserveObjectStacking: true,\r\n      imageSmoothingEnabled : false,\r\n    });\r\n    const filters = image.filters;\r\n    const angle = image.angle;\r\n    const left = this._cropzone.left;\r\n    const top = this._cropzone.top;\r\n    image.filters = [];\r\n    image.applyFilters();\r\n    let group = new fabric.Group([image, this._cropzone], {\r\n      angle : -angle,\r\n    });\r\n    group._restoreObjectsState();\r\n    test_canvas.add(group.item(0));\r\n    test_canvas.add(group.item(1));\r\n\r\n    let cropRect = {\r\n      left : test_canvas._objects[1].oCoords.tl.x,\r\n      top : test_canvas._objects[1].oCoords.tl.y,\r\n      height : this._cropzone.height * this._cropzone.scaleY,\r\n      width : this._cropzone.width * this._cropzone.scaleX,\r\n    }\r\n    const imageData = {\r\n      imageName: \"crop\",\r\n      url: test_canvas.toDataURL(cropRect)\r\n    };\r\n    test_canvas.clear();\r\n    test_canvas.dispose();\r\n    new Promise(resolve => {\r\n      fabric.Image.fromURL(imageData.url, img => {\r\n        img.set({\r\n          angle : angle,\r\n          left : left,\r\n          top : top,\r\n          height : this._cropzone.height* this._cropzone.scaleY,\r\n          width : this._cropzone.width* this._cropzone.scaleX,\r\n          filters : filters,\r\n        });\r\n        resolve(img);\r\n      }, { crossOrigin: 'Anonymous' }\r\n      );\r\n    })\r\n    .then((data) => {\r\n      canvas.remove(activeObject);\r\n      canvas.remove(this._cropzone);\r\n      this._cropzone = null;\r\n      this.deleteEvent();\r\n      this.saveState(\"image crop\")\r\n      data.applyFilters();\r\n      canvas.add(data);\r\n    })\r\n    .then(() => {\r\n      canvas.renderAll();\r\n    })\r\n  }\r\n\r\n  resizeCropzone = (value) => {\r\n    value.width = parseInt(value.width);\r\n    value.height = parseInt(value.height);\r\n    let canvas = this.getCanvas();\r\n    this._cropzone.width = value.width;\r\n    this._cropzone.height = value.height;\r\n    canvas.renderAll();\r\n  }\r\n\r\n  removeCropzone = () => {\r\n    let canvas = this.getCanvas();\r\n    canvas.remove(this._cropzone);\r\n    this._cropzone = null;\r\n    this.offCanvasMove();\r\n    this.offCanvasZoom();\r\n    this.deleteEvent();\r\n    canvas.renderAll();\r\n  }\r\n\r\n  cropCanvasEvent = (event) => {\r\n    if(event.target === null || event.target.type !== 'Cropzone') {\r\n      this.removeCropzone();\r\n      this.off();\r\n    }\r\n  }\r\n\r\n  movingCropzone = (event) => {\r\n    // let obj = event.target;\r\n    // 나중에\r\n    // obj.setCoords();\r\n    // // 만약 cropzone이 회전이 불가능 하다면, max, min 하지 않아도 괜찮\r\n    // let obj_top = Math.min(obj.oCoords.tl.y, obj.oCoords.tr.y, obj.oCoords.br.y, obj.oCoords.bl.y) ;\r\n    // let obj_bottom = Math.max(obj.oCoords.tl.y, obj.oCoords.tr.y, obj.oCoords.br.y, obj.oCoords.bl.y);\r\n    // let obj_right = Math.max(obj.oCoords.tl.x, obj.oCoords.tr.x, obj.oCoords.br.x, obj.oCoords.bl.x);\r\n    // let obj_left = Math.min(obj.oCoords.tl.x, obj.oCoords.tr.x, obj.oCoords.br.x, obj.oCoords.bl.x)\r\n    // if(obj_top  < 0){ \r\n    //   obj.set({\r\n    //     top : (-this.state.canvasView.y / this.state.zoom) + (Math.abs(obj.aCoords.tl.y - obj.aCoords.bl.y)/2)\r\n    //   })}\r\n    // if(obj_left < 0){\r\n    //   obj.set({\r\n    //     left :  (-this.state.canvasView.x / this.state.zoom) + (Math.abs(obj.aCoords.br.x - obj.aCoords.bl.x)/2)\r\n    //   })}\r\n    // if(obj_bottom > this._canvas.height ){\r\n    //   obj.set({\r\n    //     top : ( (-this.state.canvasView.y / this.state.zoom)  + (this._canvas.height / this.state.zoom) - (Math.abs(obj.aCoords.tl.y - obj.aCoords.bl.y)/2))\r\n    //   })\r\n    // }\r\n    // if(obj_right > this._canvas.width ) {\r\n    //   obj.set({\r\n    //     left: ( (-this.state.canvasView.x / this.state.zoom)  + (this._canvas.width / this.state.zoom) - (Math.abs(obj.aCoords.br.x - obj.aCoords.bl.x)/2))\r\n    //   })\r\n    // }\r\n    // obj.setCoords();\r\n  }\r\n\r\n  cropCanvas = (off) => {\r\n    let obj = this.getActiveObject();\r\n    if(obj && obj.type === 'Cropzone') {\r\n      return;\r\n    }\r\n    let canvas = this.getCanvas();\r\n    let vpt = canvas.viewportTransform;\r\n    \r\n    this._cropzone = new fabric.Cropzone({\r\n      label: 'cropCanvas',\r\n      top: (canvas.height / canvas.getZoom()) / 2 - (vpt[5] / canvas.getZoom()),\r\n      left: (canvas.width / canvas.getZoom()) / 2 - (vpt[4] / canvas.getZoom()),\r\n      height: canvas.height/2,\r\n      width: canvas.width/2,\r\n      borderColor: 'white',\r\n      cornerColor: 'white',\r\n      cornerSize: 12,\r\n      transparentCorners: false\r\n    });\r\n    this._cropzone.setControlsVisibility({\r\n      mtr:false\r\n    });\r\n    this.resetCanvas();\r\n    this.offCanvasMove();\r\n    this.offCanvasZoom();\r\n\r\n    canvas.add(this._cropzone);\r\n    this.addEvent();\r\n    canvas.setActiveObject(this._cropzone);\r\n    canvas.requestRenderAll();\r\n\r\n    this.off = off;\r\n    canvas.on('object:moving', this.movingCropzone);\r\n    canvas.on('mouse:down', this.cropCanvasEvent);\r\n  }\r\n\r\n  cropEndCanvas = (img) => {\r\n    if(this._cropzone === null || this.getCanvas() === null) {\r\n      return;\r\n    }\r\n    let canvas = this.getCanvas();\r\n    canvas.remove(this._cropzone);\r\n    let cropRect = {\r\n      left : this._cropzone.oCoords.tl.x,\r\n      top : this._cropzone.oCoords.tl.y,\r\n      height : this._cropzone.height * this._cropzone.scaleY,\r\n      width : this._cropzone.width * this._cropzone.scaleX\r\n    }\r\n    let objects = canvas.getObjects();\r\n    objects.forEach(element => {\r\n      element.top = element.top - cropRect.top;\r\n      element.left = element.left - cropRect.left;\r\n      element.setCoords();\r\n    });\r\n    if(canvas.backgroundImage) {\r\n      canvas.backgroundImage.top = canvas.backgroundImage.top - cropRect.top;\r\n      canvas.backgroundImage.left = canvas.backgroundImage.left - cropRect.left;\r\n    }\r\n    this.deleteEvent();\r\n    this.saveState('canvas crop');\r\n    this._cropzone = null;\r\n    canvas.setHeight(cropRect.height);\r\n    canvas.setWidth(cropRect.width);\r\n    canvas.calcOffset();\r\n\r\n    if(img && canvas.backgroundImage) {\r\n      canvas.backgroundImage.left = canvas.width / 2;\r\n      canvas.backgroundImage.top = canvas.height / 2;;\r\n      canvas.backgroundImage.scaleX = canvas.width / canvas.backgroundImage.width;\r\n      canvas.backgroundImage.scaleY = canvas.height / canvas.backgroundImage.height;\r\n      ResizeHelper.adjustBackgroundImage(canvas.backgroundImage)\r\n    }\r\n\r\n    canvas.renderAll();\r\n  }\r\n\r\n  cropStopCanvas = () => {\r\n    console.log('stop')\r\n    if(this._cropzone === null || this.getCanvas() === null) {\r\n      return;\r\n    }\r\n    let canvas = this.getCanvas();\r\n    canvas.remove(this._cropzone);\r\n    this.deleteEvent();\r\n    this._cropzone = null;\r\n    canvas.renderAll();\r\n  }\r\n\r\n\r\n  fillOuterBox = () => {\r\n    let canvas = this.getCanvas();\r\n\r\n    if (canvas.getContext) {\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'rgb(0,0,0,0.8)';\r\n\r\n      ctx.save();\r\n      \r\n      // outer\r\n      ctx.beginPath();\r\n\r\n      ctx.moveTo(0 , 0);\r\n      ctx.lineTo(canvas.width, 0);\r\n      ctx.lineTo(canvas.width, canvas.height);\r\n      ctx.lineTo(0, canvas.height);\r\n      ctx.lineTo(0 , 0);\r\n      ctx.closePath();\r\n\r\n      //inner\r\n      ctx.moveTo(this._cropzone.oCoords.tl.x , this._cropzone.oCoords.tl.y);\r\n      ctx.lineTo(this._cropzone.oCoords.bl.x , this._cropzone.oCoords.bl.y);\r\n      ctx.lineTo(this._cropzone.oCoords.br.x , this._cropzone.oCoords.br.y);\r\n      ctx.lineTo(this._cropzone.oCoords.tr.x , this._cropzone.oCoords.tr.y);\r\n      ctx.moveTo(this._cropzone.oCoords.tl.x , this._cropzone.oCoords.tl.y);\r\n      ctx.closePath();\r\n\r\n      ctx.fill();\r\n      ctx.restore();\r\n\r\n    }\r\n  }\r\n\r\n\r\n  addEvent = () => {\r\n    const canvas = this.getCanvas();\r\n    this.fillOuterBox();\r\n\r\n    canvas.on('after:render', (event) => {\r\n      this.fillOuterBox();\r\n\r\n    });\r\n\r\n  }\r\n  deleteEvent = () => {\r\n    const canvas = this.getCanvas();\r\n    canvas.off('after:render');\r\n    canvas.off('mouse:down', this.cropCanvasEvent);\r\n    canvas.off('object:moving', this.movingCropzone);\r\n  }\r\n\r\n\r\n  setCropCanvasSize = (cropCanvasSize, option, value, object) => {\r\n    let change_state = {\r\n      width: cropCanvasSize.width,\r\n      height: cropCanvasSize.height\r\n    };\r\n    const canvas = this.getCanvas();\r\n\r\n    if (option === 'width') {\r\n      if (object.left - value / 2 < 0 ||\r\n        object.left + value / 2 > canvas.width) {\r\n        if (object.left < value / 2) {\r\n          object.left = value / 2;\r\n        }\r\n        else {\r\n          object.left = canvas.width - value / 2;\r\n        }\r\n        if (value > canvas.width) {\r\n          object.left = canvas.width / 2;\r\n          change_state.width = canvas.width;\r\n        }\r\n        else {\r\n          change_state.width = value;\r\n        }\r\n      }\r\n      else {\r\n        change_state[option] = value;\r\n      }\r\n    }\r\n    else {\r\n      if (object.top - value / 2 < 0 ||\r\n        object.top + value / 2 > canvas.height) {\r\n        if (object.top < value / 2) {\r\n          object.top = value / 2;\r\n        }\r\n        else {\r\n          object.top = canvas.height - value / 2;\r\n        }\r\n        if (value > canvas.height) {\r\n          object.top = canvas.height / 2;\r\n          change_state.height = canvas.height;\r\n        }\r\n        else {\r\n          change_state.height = value;\r\n        }\r\n      }\r\n      else {\r\n        change_state[option] = value;\r\n      }\r\n    }\r\n    return change_state\r\n  }\r\n}\r\n\r\nexport default Crop;","import Action from './Action';\r\nclass Flip extends Action {\r\n  constructor(App) {\r\n    super('Flip', App);\r\n  }\r\n  flip = (option) => {\r\n    const canvas = this.getCanvas();\r\n    let obj = this.getActiveObject();\r\n    if(!obj){ obj = this.getBackgroundImage(); }\r\n    \r\n    if(obj){\r\n      switch (option) {\r\n        case 'X':\r\n          obj.set({ flipX: !obj.flipX });\r\n          break;\r\n        case 'Y':\r\n          obj.set({ flipY: !obj.flipY });\r\n          break;\r\n        default:\r\n      }\r\n      this.saveState('flip');\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n}\r\nexport default Flip;","import Action from './Action';\r\nimport { fabric } from 'fabric';\r\n\r\nclass Text extends Action {\r\n  constructor(App) {\r\n    super('Text', App);\r\n    this.addTextOpt = null;\r\n  }\r\n\r\n  addTextEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    const pointer = canvas.getPointer(event, false)\r\n    if(event.target.tagName === 'CANVAS'){\r\n      let text = new fabric.Textbox('Double Click', {\r\n        left: pointer.x,\r\n        top: pointer.y,\r\n        fontSize: this.addTextOpt.size,\r\n        fontFamily : this.addTextOpt.font,\r\n        fill : this.addTextOpt.color,\r\n        lockScalingY: true,\r\n        strokeWidth : 0,\r\n        textBackgroundColor : null,\r\n        cornerStrokeColor : \"grey\",\r\n        borderColor : \"grey\"\r\n      });\r\n      text.setControlsVisibility({\r\n        mt: false,\r\n        mb: false,\r\n        bl: false,\r\n        br: false,\r\n        tl: false,\r\n        tr: false\r\n      });\r\n      canvas.add(text).setActiveObject(text);\r\n      this.saveState('text add');\r\n    }\r\n    document.removeEventListener('mousedown', this.addTextEvent);\r\n    canvas.defaultCursor = 'default';\r\n  }\r\n\r\n  addText = (option) => {\r\n    this.addTextOpt = option;\r\n    this.getCanvas().defaultCursor = 'pointer';\r\n\t\tdocument.addEventListener('mousedown',this.addTextEvent);    \r\n  }\r\n\r\n  textObj = (activeObject, option, checked, value) => {\r\n    if(!activeObject){\r\n      return ;\r\n    }\r\n    else{\r\n      const canvas = this.getCanvas();\r\n      switch (option) {\r\n        case 'bold':\r\n          activeObject.set({\r\n            fontWeight: checked ? 'bold' : 'normal'\r\n          }).setCoords();\r\n          break;\r\n        case 'fontSize':\r\n          activeObject.set({\r\n            fontSize: value\r\n          }).setCoords();\r\n          break;\r\n        case 'fontfamily':\r\n          activeObject.set({\r\n            fontFamily: value\r\n          }).setCoords();\r\n          break;\r\n        case 'italic':\r\n          activeObject.set({\r\n            fontStyle: checked ? 'italic' : 'normal'\r\n          }).setCoords();\r\n          break;\r\n        case 'underline':\r\n          activeObject.set({\r\n            underline: checked ? 'true' : ''\r\n          }).setCoords();\r\n          break;\r\n        case 'left-align':\r\n          activeObject.set({\r\n            textAlign: 'left'\r\n          }).setCoords();\r\n          break;\r\n        case 'center-align':\r\n          activeObject.set({\r\n            textAlign: 'center'\r\n          }).setCoords();\r\n          break;\r\n        case 'right-align':\r\n          activeObject.set({\r\n            textAlign: 'right'\r\n          }).setCoords();\r\n          break;\r\n        case 'background-color':\r\n          activeObject.set({\r\n            textBackgroundColor : checked ? value : null\r\n          }).setCoords();\r\n          break;\r\n        default:\r\n      }\r\n      this.saveState('Text modified ' + option);\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n}\r\n\r\nexport default Text;\r\n\r\n/* Text\r\n    backgroundColor : string\r\n    borderColor : string\r\n    angle : number\r\n    cursorColor : string\r\n    editable : boolean\r\n    fill : string - 글자색\r\n    fontFamily : string\r\n    fontSize : number\r\n    fontStyle : string (normal, italic ...)\r\n    fontWeight : number|string ( bold, normal, 400 ...)\r\n\r\n  */","import Action from './Action';\r\nimport {convertRGB} from '../helper/ConverRGB'\r\n\r\nclass Fill extends Action {\r\n  constructor(App) {\r\n    super('Fill', App);\r\n  }\r\n\r\n  fill = (color) => {\r\n    const activeObject = this.getActiveObject();\r\n    const canvas = this.getCanvas();\r\n    if(activeObject){\r\n      if(activeObject.type === 'line'){\r\n        activeObject.set({\r\n          stroke : convertRGB(color.rgb)\r\n        })\r\n      }\r\n      else {\r\n        activeObject.set({\r\n          fill : convertRGB(color.rgb)\r\n        })\r\n      }\r\n\r\n      this.saveState('Fill ' + activeObject.type);\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  changeOpacity = (opacity) => {\r\n    // const activeObject = this.getActiveObject();\r\n    // const canvas = this.getCanvas();\r\n    // let origin = activeObject.type === 'line' ? activeObject.stroke : activeObject.fill;\r\n    \r\n    // `rgba` 형태로 값을 받아서.. 어떻게 r,g,b를 구분?\r\n    \r\n  //   if(activeObject){\r\n  //     if(activeObject.type === 'line'){\r\n  //       activeObject.set({\r\n  //         stroke : convertRGB(color.rgb)\r\n  //       })\r\n  //     }\r\n  //     else {\r\n  //       activeObject.set({\r\n  //         fill : convertRGB(color.rgb)\r\n  //       })\r\n  //     }\r\n\r\n  //     this.saveState('Fill opacity ' + activeObject.type);\r\n  //     canvas.renderAll();\r\n  //   }\r\n  }\r\n}\r\n\r\nexport default Fill;\r\n","import Action from './Action';\r\nimport ResizeHelper from '../helper/Resize';\r\nimport {convertRGB} from '../helper/ConverRGB'\r\nimport { fabric } from 'fabric';\r\nimport {iconList} from '../const/consts';\r\nclass Icon extends Action {\r\n  constructor(App) {\r\n    super('Icon', App);\r\n\r\n    this.disableObj = null;\r\n  }\r\n\r\n  addIcon = (options) => {\r\n    let canvas = this.getCanvas();\r\n    let icon = this._createIcon(iconList[options.type]);\r\n    // console.log(options);\r\n    let canvas_area = document;\r\n    \r\n    canvas.defaultCursor = 'pointer';\r\n\r\n    canvas_area.onmousedown = (event) => {\r\n      if(event.target.tagName === 'CANVAS'){\r\n        this._addIcon(canvas, icon, options, event);\r\n      }\r\n      canvas.defaultCursor = 'default';\r\n      canvas_area.onmousedown = null;\r\n    }\r\n\r\n    // canvas.on('mouse:down', (event) => { \r\n    //     this._addIcon(canvas, icon, options, event);\r\n\r\n    //     let lastPos = canvas.__eventListeners[\"mouse:down\"].length - 1;\r\n    //     canvas.off('mouse:down',canvas.__eventListeners[\"mouse:down\"][lastPos]);\r\n    // });\r\n    // this.loadIcon();\r\n  }\r\n\r\n  _addIcon = (canvas, icon, options, event) => {\r\n    const pointer = canvas.getPointer(event, false);\r\n    this.removeKeyDownEvent();\r\n    this.disableObj = this.getActiveObject();\r\n    if(this.disableObj){\r\n      // disableObj.evented = false;\r\n      this.disableObj.lockMovementY = true;\r\n      this.disableObj.lockMovementX = true;\r\n    }\r\n\r\n    icon.set(({\r\n        fill : convertRGB(options.color),\r\n        // type : 'icon', // if type is modified, Cannot read property 'fromObject' of undefined\r\n        // left : event.pointer.x, // canvas 이벤트용\r\n        // top : event.pointer.y, // canvas 이벤트용\r\n        left : pointer.x,\r\n        top : pointer.y,\r\n        originX : 'left',\r\n        originY : 'top',\r\n        scaleX : 0,\r\n        scaleY : 0,\r\n        isRegular : false,\r\n        cornerStrokeColor : \"grey\",\r\n        borderColor : \"grey\"\r\n    }))\r\n    canvas.add(icon).setActiveObject(icon);\r\n    canvas.selection = false;\r\n    canvas.on('mouse:move', this._iconCreateResizeEvent);\r\n\r\n    canvas.on('mouse:up', this._iconCreateEndEvent);\r\n  }\r\n\r\n\r\n  loadSvgIcon = () => {\r\n    // fabric.loadSVGFromURL(img, (objects, options) => {\r\n    //   var shape = fabric.util.groupSVGElements(objects, options);\r\n      \r\n    // })\r\n  }\r\n\r\n  _iconCreateEndEvent = (event) => {\r\n    let canvas = this.getCanvas();\r\n    canvas.off('mouse:move', this._iconCreateResizeEvent);\r\n    canvas.selection = true;\r\n\r\n    ResizeHelper.adjustOriginToCenter(this.getActiveObject())\r\n\r\n    if(this.disableObj){\r\n      this.disableObj.lockMovementY = false;\r\n      this.disableObj.lockMovementX = false;\r\n      this.disableObj = null;\r\n    }\r\n\r\n    let activeObject = this.getActiveObject();\r\n    if(activeObject.scaleX === 0 || activeObject.scaleY === 0){\r\n      canvas.remove(activeObject);\r\n    }\r\n    else{\r\n      this.saveState('icon add');\r\n    }\r\n    this.addKeyDownEvent();\r\n    canvas.off('mouse:up', this._iconCreateEndEvent);\r\n  }\r\n\r\n\r\n  _createIcon = (path) => {\r\n      return new fabric.Path(path);\r\n  }\r\n\r\n  _iconCreateResizeEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    const pointer = canvas.getPointer(event, false);\r\n    let activeObject = this.getActiveObject();\r\n    let width = Math.abs(pointer.x - activeObject.left);\r\n    let height = Math.abs(pointer.y - activeObject.top);\r\n\r\n    if (activeObject.isRegular) {\r\n      width = height =  Math.max(width, height);\r\n    }\r\n\r\n    activeObject.set({\r\n      scaleX : width / activeObject.width,\r\n      scaleY : height / activeObject.height,\r\n      originX : pointer.x - activeObject.left < 0 ? 'right' : 'left',\r\n      originY : pointer.y - activeObject.top < 0 ? 'bottom' : 'top',\r\n    })\r\n    canvas.renderAll();\r\n  } \r\n}\r\n\r\nexport default Icon;\r\n\r\n","import Action from './Action';\r\nimport { fabric } from 'fabric';\r\nclass Line extends Action {\r\n  constructor(App) {\r\n\t\tsuper('Line', App);\r\n\t\tthis.disableObj = null;\r\n    this.color = null;\r\n  }\r\n\r\n\taddLineResize = (event) => {\r\n\t\tlet line = this.getActiveObject();\r\n\t\tconst canvas = this.getCanvas();\r\n\t\tconst pointer = canvas.getPointer(event, false);\r\n\t\tline.set({x2 : pointer.x, y2 : pointer.y});\r\n\t\tcanvas.renderAll();\r\n\t}\r\n\r\n\taddLineEvent = (event) => {\r\n\t\tconst canvas = this.getCanvas();\r\n\t\tthis.removeKeyDownEvent();\r\n\t\tif(event.target.tagName === 'CANVAS'){\r\n\t\t\tthis.disableObj = this.getActiveObject();\r\n\t\t\tif(this.disableObj){\r\n\t\t\t\t// disableObj.evented = false;\r\n\t\t\t\tthis.disableObj.lockMovementY = true;\r\n\t\t\t\tthis.disableObj.lockMovementX = true;\r\n\t\t\t}\r\n\t\t\tconst pointer = canvas.getPointer(event, false);\r\n\t\t\tlet line = new fabric.Line([ pointer.x, pointer.y, pointer.x, pointer.y ], {\r\n\t\t\t\tleft : pointer.x,\r\n\t\t\t\tright :pointer.y,\r\n\t\t\t\tstrokeWidth : 5,\r\n\t\t\t\tstroke : this.color,\r\n        fill : 'black',\r\n        noScaleCache: false,\r\n        strokeUniform: true,\r\n        cornerColor : 'red',\r\n        hasBorders : false,\r\n        cornerStyle : 'circle',\r\n      })\r\n      line.setControlsVisibility({\r\n        mt : false,\r\n        mb : false,\r\n        ml : false,\r\n        mr : false,\r\n        mtr : false,\r\n      })\r\n\t\t\tcanvas.add(line).setActiveObject(line);\r\n\t\t\tcanvas.selection = false;\r\n\t\t\tcanvas.on('mouse:move', this.addLineResize);\r\n\t\t\tcanvas.on('mouse:up', this.addLineEndEvent);\r\n\t\t}\r\n\t\tcanvas.defaultCursor = 'default';\r\n\t\tdocument.removeEventListener('mousedown', this.addLineEvent);\r\n\t}\r\n\r\n\taddLineEndEvent = () => {\r\n\t\tconst canvas = this.getCanvas();\r\n\t\tcanvas.off('mouse:move', this.addLineResize);\r\n\t\t// console.log('off')\r\n\t\tcanvas.selection = true;\r\n\t\tcanvas.renderAll();\r\n\r\n    let activeObject = this.getActiveObject();\r\n    if(activeObject.width === 0 || activeObject.height === 0){\r\n      canvas.remove(activeObject);\r\n    }\r\n    else{\r\n      this.saveState('line add');\r\n    }\r\n\r\n\r\n\t\tif(this.disableObj){\r\n\t\t\tthis.disableObj.lockMovementY = false;\r\n\t\t\tthis.disableObj.lockMovementX = false;\r\n\t\t\tthis.disableObj = null;\r\n\t\t}\r\n\t\tthis.addKeyDownEvent();\r\n\t\tcanvas.off('mouse:up', this.addLineEndEvent);\r\n\t}\r\n\r\n\taddLine = (options) => {\r\n\t\tconst canvas = this.getCanvas();\r\n    this.color = `rgba(${ options.color.r }, ${ options.color.g }, ${ options.color.b }, ${ options.color.a })`\r\n\t\tcanvas.defaultCursor = 'pointer';\r\n\t\tcanvas.discardActiveObject();\r\n\t\tdocument.addEventListener('mousedown',this.addLineEvent);    \r\n\t}\r\n}\r\nexport default Line;","import Action from './Action';\r\n\r\nclass Clip extends Action {\r\n  constructor(App) {\r\n    super('Clip', App);\r\n  }\r\n\r\n  /**\r\n   * Copy Objects\r\n   * @param {Object} obj \r\n   */\r\n  copyObject = (obj) => {\r\n    if(obj){\r\n      obj.clone((cloned) => {\r\n        this.setClipboard(cloned);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Paset Object on Canvas\r\n   */\r\n  pasteObject = () => {\r\n    const canvas = this.getCanvas();\r\n    let clipboard = this.getClipboard();\r\n    clipboard.clone((clonedObj) => {\r\n      canvas.discardActiveObject();\r\n      clonedObj.set({\r\n        left: clonedObj.left + 10,\r\n        top: clonedObj.top + 10,\r\n        evented: true,\r\n        cornerStrokeColor : \"grey\",\r\n        borderColor : \"grey\"\r\n      });\r\n      if (clonedObj.type === 'activeSelection') {\r\n        clonedObj.canvas = canvas;\r\n        clonedObj.forEachObject(function(obj) {\r\n          canvas.add(obj);\r\n        });\r\n        // this should solve the unselectability\r\n        clonedObj.setCoords();\r\n      } else {\r\n        canvas.add(clonedObj);\r\n      }\r\n      clipboard.top += 10;\r\n      clipboard.left += 10;\r\n      this.saveState('paste object')\r\n      canvas.setActiveObject(clonedObj);\r\n      canvas.requestRenderAll();\r\n    });\r\n  }\r\n\r\n}\r\n\r\nexport default Clip;","import Action from './Action';\r\nimport { throttle } from 'lodash';\r\nimport { fabric } from 'fabric';\r\nimport brushList from '../helper/Brush';\r\n\r\nclass Draw extends Action {\r\n  constructor(App) {\r\n    super('Draw', App);\r\n    //for Polygon\r\n    this.pointer_list = [];\r\n    this.circle_group = [];\r\n    this.lines = [];\r\n    this.pos = { x : 0, y : 0 };\r\n    this.start = false;\r\n    this.brush = [];\r\n  }\r\n\r\n  setBrush = () => {\r\n    this.brush = brushList(this.getCanvas());\r\n  }\r\n\r\n  getBrush = (type) => {\r\n    return this.brush[type];\r\n  }\r\n\r\n  checkBrush = () => {\r\n    for(let i = 0 ; i < this.brush.length ; i++ ) {\r\n      if(this.brush[i].canvas === null || this.brush[i].canvas === undefined){\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  openDrawing = (linewidth) => {\r\n    const canvas = this.getCanvas();\r\n    if(canvas || this.checkBrush()){\r\n      canvas.isDrawingMode = true;\r\n      canvas.freeDrawingCursor = 'crosshair';\r\n      canvas.freeDrawingBrush.width = parseInt(linewidth);\r\n    }\r\n    else{\r\n      alert('Brush Error')\r\n    }\r\n  }\r\n\r\n  closeDrawing = () => {\r\n    const canvas = this.getCanvas();\r\n    if(canvas){\r\n      canvas.isDrawingMode = false;\r\n    }\r\n  }\r\n\r\n  changeDrawingWidth = (width) => {\r\n    const canvas = this.getCanvas();\r\n    canvas.freeDrawingBrush.width =  width;\r\n  }\r\n\r\n  changeDrawingColor = (rgb) => {\r\n    const canvas = this.getCanvas();\r\n    canvas.freeDrawingBrush.color = String(rgb);\r\n    if(canvas.freeDrawingBrush.getPatternSrc){\r\n      canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(canvas.freeDrawingBrush)\r\n    }\r\n  }\r\n\r\n  changeDrawingBrush = (type, color, width) => {\r\n    const canvas = this.getCanvas();\r\n    canvas.freeDrawingBrush = this.getBrush(type);\r\n    canvas.freeDrawingBrush.color = String(color);\r\n    canvas.freeDrawingBrush.width = parseInt(width);\r\n    if(canvas.freeDrawingBrush.getPatternSrc){\r\n      canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(canvas.freeDrawingBrush)\r\n    }\r\n    // this._canvas.freeDrawingBrush.source = this._canvas.freeDrawingBrush.getPatternSrc.call(this._canvas.freeDrawingBrush)\r\n  }\r\n\r\n  _stopEvent = (event) => {\r\n    event.preventDefault();    \r\n    document.removeEventListener(\"contextmenu\",this._stopEvent);\r\n  }\r\n  \r\n  drawPolygonWithClick = () => {\r\n    let canvas = this.getCanvas();\r\n    this.pointer_list.length = 0;\r\n    this.circle_group.length = 0;\r\n    this.lines.length = 0;\r\n    this.start = true;\r\n    canvas.selection = false;\r\n    document.addEventListener(\"contextmenu\",this._stopEvent);\r\n    canvas.on('mouse:down',this.drawPolygonMouseDownEvent);\r\n    canvas.on('mouse:move', this.drawPolygonMouseMoveEvent);\r\n\r\n    document.onmousedown = (event) => {\r\n      if(event.target.tagName !== 'CANVAS'){\r\n        this.makePolygon();\r\n      }\r\n      document.onmousedown = null;\r\n    }\r\n  }\r\n\r\n  drawPolygonMouseDownEvent = (event) => {\r\n    if(event.e.button === 2) {\r\n      this.makePolygon();\r\n      return ;\r\n    }\r\n    let canvas = this.getCanvas();\r\n    canvas.selection = false;\r\n\r\n    const pointer = canvas.getPointer(event, false);\r\n    let p = {\r\n        x : pointer.x,\r\n        y : pointer.y\r\n    }\r\n    this.pointer_list.push(p);\r\n\r\n    let cir = new fabric.Circle({\r\n      radius : 3,\r\n      fill : 'black',\r\n      originX : 'center',\r\n      originY : 'center',\r\n      left : p.x,\r\n      top : p.y,\r\n      selectable : false,\r\n      evented : false,\r\n    })\r\n    this.circle_group.push(cir);\r\n\r\n    let line = new fabric.Line([ pointer.x, pointer.y, pointer.x, pointer.y], {\r\n      left : pointer.x,\r\n      right :pointer.y,\r\n      strokeWidth : 5,\r\n      stroke : 'black',\r\n      selectable : false,\r\n      evented : false,\r\n    })\r\n    this.lines.push(line);\r\n\r\n    canvas.add(cir, line);\r\n  }\r\n\r\n  drawPolygonMouseMoveEvent = (event) => {\r\n    if(this.pointer_list.length > 0) {\r\n      let canvas = this.getCanvas();\r\n      const pointer = canvas.getPointer(event.e, false);\r\n      this.lines[this.lines.length - 1].set({\r\n        x2 : pointer.x,\r\n        y2 : pointer.y,\r\n      });\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n\r\n  drawPolygonWithDrag = () => {\r\n    let canvas = this.getCanvas();\r\n    this.pointer_list.length = 0;\r\n    this.circle_group.length = 0;\r\n    canvas.on('mouse:down', this.dragPolygonStart);\r\n    \r\n    document.onmousedown = (event) => {\r\n      if(event.target.tagName !== 'CANVAS'){\r\n        this.makePolygon();\r\n      }\r\n      document.onmousedown = null;\r\n    }\r\n  }\r\n\r\n  dragPolygonStart = () => {\r\n    let canvas = this.getCanvas();\r\n    this.start = true;\r\n    canvas.selection = false;\r\n    canvas.on(\"mouse:move\", this.draggingPolygon);\r\n    canvas.on('mouse:up', this.dragPolygonEnd);\r\n  }\r\n\r\n\r\n  //If we uses a function throttle, this.draggingPolygon event is alive after make a Polygon.\r\n  //So, \r\n\r\n  draggingPolygon = throttle((event) => {\r\n    if(!this.start) { return; }\r\n    let canvas = this.getCanvas();\r\n    const pointer = canvas.getPointer(event.e, false);\r\n    let p = {\r\n      x : pointer.x,\r\n      y : pointer.y\r\n    }\r\n    this.pointer_list.push(p);\r\n      \r\n    let cir = new fabric.Circle({\r\n      radius : 3,\r\n      fill : 'black',\r\n      originX : 'center',\r\n      originY : 'center',\r\n      left : p.x,\r\n      top : p.y,\r\n      selectable : false,\r\n      evented : false,\r\n    })\r\n    this.circle_group.push(cir);\r\n    canvas.add(cir);    \r\n  }, 70);\r\n\r\n\r\n  dragPolygonEnd = () => {\r\n    let canvas = this.getCanvas();\r\n\r\n    canvas.selection = true;\r\n    canvas.off('mouse:move', this.draggingPolygon);\r\n    canvas.off('mouse:up', this.dragPolygonEnd);\r\n    canvas.off('mouse:down', this.dragPolygonStart);\r\n    this.makePolygon();\r\n\r\n  }\r\n\r\n  deleteCircle = () => {\r\n    const canvas = this.getCanvas();\r\n    for(let i = 0; i < this.circle_group.length; i++){\r\n      if(this.circle_group[i].left < this.pos.x) { this.pos.x = this.circle_group[i].left }\r\n      if(this.circle_group[i].top < this.pos.y) { this.pos.y = this.circle_group[i].top }\r\n      \r\n      canvas.remove(this.circle_group[i]);\r\n      \r\n      if(this.lines.length !== 0) {\r\n        canvas.remove(this.lines[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  makePolygon = () => {\r\n    let canvas = this.getCanvas();\r\n    canvas.selection = true;\r\n    canvas.off('mouse:down',this.drawPolygonMouseDownEvent);\r\n    canvas.off('mouse:move', this.drawPolygonMouseMoveEvent);\r\n    document.onmousedown = null;\r\n    // console.log(this.circle_group.length , this.pointer_list.length)\r\n    new Promise((resolve) => { \r\n      if(this.circle_group.length < 3) {\r\n        alert('small nuber of dots'); \r\n        this.start = false;\r\n        this.deleteCircle();\r\n        return; \r\n      }\r\n\r\n  \r\n      this.pos.x = this.circle_group[0].left;\r\n      this.pos.y = this.circle_group[0].top;\r\n  \r\n      this.deleteCircle();\r\n\r\n      let polygon = new fabric.Polygon(this.pointer_list.slice(), {   // because of pointer address,\r\n        left: this.pos.x,\r\n        top: this.pos.y,\r\n        originX : 'left',\r\n        originY : 'top',\r\n        stroke : 'black',\r\n        storkeWidth : 0,\r\n        objectCaching : false,\r\n        noScaleCache: false\r\n      })\r\n      polygon.set({\r\n        left : this.pos.x + polygon.width/2 ,\r\n        top : this.pos.y + polygon.height/2,\r\n        originX : 'center',\r\n        originY : 'center',\r\n      })\r\n      canvas.add(polygon);\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.getImageEditor().saveState('polygon add');\r\n      canvas.renderAll();\r\n      this.start = false;\r\n      this.lines.length = 0;\r\n      this.circle_group.length = 0;\r\n      this.pointer_list.length = 0;\r\n    })\r\n  }\r\n}\r\nexport default Draw;\r\n  ","import { fabric } from 'fabric';\r\nexport default function brushList(canvas) {\r\n  var vLinePatternBrush = new fabric.PatternBrush(canvas);\r\n  vLinePatternBrush.getPatternSrc = function() {\r\n    var patternCanvas = fabric.document.createElement('canvas');\r\n    patternCanvas.width = patternCanvas.height = 10;\r\n    var ctx = patternCanvas.getContext('2d');\r\n\r\n    ctx.strokeStyle = this.color;\r\n    ctx.lineWidth = 5;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 5);\r\n    ctx.lineTo(10, 5);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return patternCanvas;\r\n  };\r\n\r\n  var hLinePatternBrush = new fabric.PatternBrush(canvas);\r\n  hLinePatternBrush.getPatternSrc = function() {\r\n\r\n    var patternCanvas = fabric.document.createElement('canvas');\r\n    patternCanvas.width = patternCanvas.height = 10;\r\n    var ctx = patternCanvas.getContext('2d');\r\n\r\n    ctx.strokeStyle = this.color;\r\n    ctx.lineWidth = 5;\r\n    ctx.beginPath();\r\n    ctx.moveTo(5, 0);\r\n    ctx.lineTo(5, 10);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return patternCanvas;\r\n  };\r\n\r\n  var squarePatternBrush = new fabric.PatternBrush(canvas);\r\n  squarePatternBrush.getPatternSrc = function() {\r\n\r\n    var squareWidth = 10, squareDistance = 2;\r\n\r\n    var patternCanvas = fabric.document.createElement('canvas');\r\n    patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;\r\n    var ctx = patternCanvas.getContext('2d');\r\n\r\n    ctx.fillStyle = this.color;\r\n    ctx.fillRect(0, 0, squareWidth, squareWidth);\r\n\r\n    return patternCanvas;\r\n  };\r\n\r\n  var diamondPatternBrush = new fabric.PatternBrush(canvas);\r\n  diamondPatternBrush.getPatternSrc = function() {\r\n\r\n    var squareWidth = 10, squareDistance = 5;\r\n    var patternCanvas = fabric.document.createElement('canvas');\r\n    var rect = new fabric.Rect({\r\n      width: squareWidth,\r\n      height: squareWidth,\r\n      angle: 45,\r\n      fill: this.color\r\n    });\r\n\r\n    var canvasWidth = rect.getBoundingRect().width;\r\n\r\n    patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;\r\n    rect.set({ left: canvasWidth / 2, top: canvasWidth / 2 });\r\n\r\n    var ctx = patternCanvas.getContext('2d');\r\n    rect.render(ctx);\r\n\r\n    return patternCanvas;\r\n  };\r\n\r\n  var pencilBrush = new fabric.PencilBrush(canvas)\r\n  var circleBrush = new fabric.CircleBrush(canvas)\r\n  var patternBrush = new fabric.PatternBrush(canvas);\r\n  var sprayBrush = new fabric.SprayBrush(canvas)\r\n\r\n  return [pencilBrush, circleBrush, patternBrush, sprayBrush, vLinePatternBrush, hLinePatternBrush, squarePatternBrush, diamondPatternBrush];\r\n}","export default class Extension {\r\n  constructor(name, App) {\r\n    this.app = App;\r\n    this._name = name;\r\n  }\r\n\r\n  getName() {\r\n    return this._name;\r\n  }\r\n\r\n  getActiveObject() {\r\n    return this.app.getActiveObject();\r\n  }\r\n\r\n  getCanvas() {\r\n    return this.app.getCanvas();\r\n  }\r\n\r\n  getImageEditor() {\r\n    return this.app.getImageEditor();\r\n  }\r\n\r\n  getGrid() {\r\n    return this.app.getGrid();\r\n  }\r\n\r\n  setGrid(grid) {\r\n    return this.app.setGrid(grid);\r\n  }\r\n\r\n  saveState(action) {\r\n    return this.app.saveState(action);\r\n  }\r\n}\r\n  \r\n  \r\n  \r\n  ","import Extension from './Extension';\r\nimport { fabric } from 'fabric';\r\nclass Grid extends Extension {\r\n    constructor(App) {\r\n      super('Grid', App);\r\n    }\r\n\r\n    makeGrid = () => {\r\n\t\t\tlet grid;\r\n\t\t\tlet canvas = this.getCanvas();\r\n\r\n      if(this.getGrid()) { return; }\r\n  \r\n      let grids = [];\r\n      let gridoption = {\r\n        stroke: \"#000000\",\r\n        strokeWidth: 1,\r\n        // strokeDashArray: [5, 5]\r\n      };\r\n      for (let x = 0; x < (canvas.width); x += 10) {\r\n        grids.push(new fabric.Line([x, 0, x, canvas.height], gridoption)); // vertical\r\n      }\r\n      for (let y = 0; y < (canvas.height); y += 10) {\r\n        grids.push(new fabric.Line([0, y, canvas.width, y], gridoption)); // horizon\r\n      }\r\n      grid = new fabric.Group(grids, {\r\n        selectable : false,\r\n        evented : false\r\n      })\r\n\t\t\tgrid.addWithUpdate();\r\n\t\t\t\r\n\t\t\tthis.setGrid(grid);\r\n\t\t\t\r\n      // for (var i = 0; i < (1000 / 10); i++) {\r\n      //   this._canvas.add(new fabric.Line([ i * 10, 0, i * 10, 1000], { stroke: '#000000', selectable: false, evented: false })); // vertical\r\n      //   this._canvas.add(new fabric.Line([ 0, i * 10, 1000, i * 10], { stroke: '#000000', selectable: false, evented: false })); // horizon\r\n      // }\r\n\t\t}\r\n\t\t\r\n\t\tshowGrid = () => {\r\n\t\t\tconst canvas = this.getCanvas();\r\n\t\t\tconst grid = this.getGrid();\r\n\t\t\tcanvas.add(grid);\r\n\t\t\tcanvas.sendToBack(grid);\r\n\t\t\tcanvas.renderAll();\r\n\t\t}\r\n\r\n\t\thideGrid = () => {\r\n\t\t\tconst canvas = this.getCanvas();\r\n\t\t\tconst grid = this.getGrid();\r\n\t\t\tcanvas.remove(grid);\r\n\t\t\tcanvas.renderAll();\r\n\t\t}\r\n\r\n}\r\n  \r\n  export default Grid;","import Extension from './Extension';\r\nimport { fabric } from 'fabric';\r\nimport {convertRGB} from '../helper/ConverRGB'\r\nclass Util extends Extension {\r\n  constructor(App) {\r\n    super('Util', App);\r\n  }\r\n\r\n  newCanvas = () => {\r\n    let url = \"https://images.unsplash.com/photo-1547586696-ea22b4d4235d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=100\"\r\n    // console.log(url);\r\n    // this._canvas.clear();\r\n    // this._canvas.dispose();\r\n    new Promise(resolve => {\r\n      fabric.Image.fromURL(url, img => {\r\n        img.set({\r\n          originX : \"left\",\r\n          originY : \"top\"\r\n\t\t\t\t});\r\n\t\t\t\timg.on('scaling', () => {\r\n\r\n        })\r\n        resolve(img);\r\n      }, { crossOrigin: 'Anonymous' }\r\n      );\r\n    })\r\n    .then((img) => {\r\n      console.log(img);\r\n      return new fabric.Canvas('canvas', {\r\n        preserveObjectStacking: true,\r\n        height: img.height,\r\n        width: img.width,\r\n        backgroundImage: img,\r\n        backgroundColor: 'grey'\r\n      });\r\n    })\r\n  }\r\n\r\n  changeBackgroundColor = (color) => {\r\n    const canvas = this.getCanvas();\r\n    if(canvas){\r\n      canvas.backgroundColor = convertRGB(color);\r\n      this.saveState('change backgroundColor');\r\n      canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  printObject = () => {\r\n    const canvas = this.getCanvas();\r\n    let first = canvas._objects.map(\r\n        x => Object.entries(x)\r\n    );\r\n    let objstack = [];\r\n    for (let i = 0; i < canvas._objects.length; i++) {\r\n        if(first[i][0][0] === \"filters\"){\r\n          objstack[i] = 'img';\r\n        }\r\n        else if(first[i][0][0] === \"styles\"){\r\n            objstack[i] = 'text';\r\n        }\r\n        else if(first[i][0][0] === \"width\"){\r\n            objstack[i] = 'shape';\r\n        }\r\n    }\r\n    console.log(objstack);\r\n  }\r\n\r\n  \r\n  convertSvg = () => {\r\n    let img = \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Font_Awesome_5_solid_cloud.svg/512px-Font_Awesome_5_solid_cloud.svg.png\";\r\n    fabric.loadSVGFromURL(img, (objects, options) => {\r\n      var shape = fabric.util.groupSVGElements(objects, options);\r\n      console.log(shape.toSVG());\r\n    })\r\n  }\r\n\r\n  convertObjSvg = () => {\r\n    if(this.getActiveObject()){\r\n      console.log(this.getActiveObject().toSVG());\r\n    }\r\n  }\r\n\r\n  \r\n  convertObjScale = () => {\r\n    if(this.getActiveObject()){\r\n      let obj = this.getActiveObject();\r\n      obj.set({\r\n        width : obj.width * obj.scaleX,\r\n        height : obj.height * obj.scaleY,\r\n        scaleY : 1,\r\n        scaleX : 1,\r\n      })\r\n    }\r\n  }\r\n}\r\n  \r\nexport default Util;","import Extension from './Extension';\r\nclass Snap extends Extension {\r\n  constructor(App) {\r\n    super('Snap', App);\r\n  }\r\n\r\n  /**\r\n   * \"object:moving\" canvas event handler\r\n   * @param {{target: fabric.Object, e: MouseEvent, transform : object}} fEvent - Fabric event\r\n   * @public\r\n   */\r\n  snapMovingEvent = (event) => {\r\n    let direction = {\r\n      x : event.e.movementX <= 0 ? 'left' : 'right',\r\n      y : event.e.movementY <= 0 ? 'top' : 'bottom',\r\n    }\r\n    let left = Math.round(event.target.left / 10) * 10;\r\n    let top =  Math.round(event.target.top / 10) * 10;\r\n    event.target.set({\r\n      left : left,\r\n      top : top,\r\n    })\r\n    const pointer = event.target.getPointByOrigin(direction.x, direction.y);\r\n    // const pointer = event.target.getPointByOrigin('left', 'top');\r\n    event.target.set({\r\n      left : left - pointer.x%10,\r\n      top : top - pointer.y%10\r\n    })\r\n    event.target.setCoords();\r\n\r\n    this.getImageEditor().setState({activeObject : this.getActiveObject()})\r\n\r\n  }\r\n\r\n  /**\r\n   * On/off a SnapMovingEvent\r\n   * @param {{target : input[type=checkbox]}} event \r\n   */\r\n  onClickSnap = (event) => {\r\n    const canvas = this.getCanvas();\r\n    if(event.target.checked){\r\n      canvas.on(\"object:moving\", this.snapMovingEvent);\r\n    }\r\n    else{\r\n      canvas.off(\"object:moving\", this.snapMovingEvent);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \"object:moving\" canvas event handler\r\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\r\n   * @public\r\n   */\r\n  snapObjectMovingEvent = (event) => {\r\n    const canvas = this.getCanvas();\r\n    event.target.setCoords();\r\n    let target_top = Math.min(event.target.aCoords.tl.y, event.target.aCoords.tr.y, event.target.aCoords.br.y, event.target.aCoords.bl.y) ;\r\n    let target_bottom =  Math.max(event.target.aCoords.tl.y, event.target.aCoords.tr.y, event.target.aCoords.br.y, event.target.aCoords.bl.y);\r\n    let target_left = Math.min(event.target.aCoords.tl.x, event.target.aCoords.tr.x, event.target.aCoords.br.x, event.target.aCoords.bl.x);\r\n    let target_right = Math.max(event.target.aCoords.tl.x, event.target.aCoords.tr.x, event.target.aCoords.br.x, event.target.aCoords.bl.x);\r\n    canvas.forEachObject((obj) => {\r\n      if(obj === event.target) {return;}\r\n      \r\n      obj.setCoords();\r\n      let obj_top = Math.min(obj.aCoords.tl.y, obj.aCoords.tr.y, obj.aCoords.br.y, obj.aCoords.bl.y) ;\r\n      let obj_bottom = Math.max(obj.aCoords.tl.y, obj.aCoords.tr.y, obj.aCoords.br.y, obj.aCoords.bl.y);\r\n      let obj_right = Math.max(obj.aCoords.tl.x, obj.aCoords.tr.x, obj.aCoords.br.x, obj.aCoords.bl.x);\r\n      let obj_left = Math.min(obj.aCoords.tl.x, obj.aCoords.tr.x, obj.aCoords.br.x, obj.aCoords.bl.x);\r\n\r\n      //right\r\n      if(Math.abs(obj_right - target_left) < 10){\r\n        event.target.set({\r\n          // left : obj.getPointByOrigin('right', 'bottom').x + (event.target.scaleX * event.target.width / 2) + (event.target.strokeWidth/2)\r\n          // left : obj_right + (event.target.scaleX * event.target.width / 2) + (event.target.strokeWidth/2) ,\r\n          // left : obj.getPointByOrigin('left', 'bottom').x + (obj.width * obj.scaleX) + (event.target.scaleX * event.target.width / 2)\r\n          left : event.target.left + obj_right - target_left\r\n        })\r\n        // obj.setCoords();\r\n        event.target.setCoords();\r\n      }\r\n      //left\r\n      // console.log(obj.aCoords.tl.x - event.target.aCoords.tr.x);\r\n      if(Math.abs(obj_left - target_right) < 10){\r\n        event.target.set({\r\n          // left : event.target.left - obj.left + 1,\r\n          // left : obj.getPointByOrigin('left', 'bottom').x - (event.target.scaleX * event.target.width / 2) - (event.target.strokeWidth/2)\r\n          // left : obj_left - (event.target.scaleX * event.target.width / 2) - (event.target.strokeWidth/2), \r\n          left : event.target.left + obj_left - target_right\r\n        })\r\n        event.target.setCoords();\r\n      }\r\n      // top\r\n      if(Math.abs(obj_top - target_bottom) < 10){\r\n        event.target.set({\r\n          // top : obj.getPointByOrigin('right', 'top').y - (event.target.scaleY * event.target.height / 2) - (event.target.strokeWidth/2)\r\n          // top : obj_top - (event.target.scaleY * event.target.height / 2) - (event.target.strokeWidth/2),\r\n          top : event.target.top + obj_top - target_bottom\r\n        })\r\n        event.target.setCoords();\r\n      }\r\n      //bottom\r\n      if(Math.abs(obj_bottom - target_top) < 10){\r\n        event.target.set({\r\n          // top : obj.getPointByOrigin('left', 'bottom').y + (event.target.scaleY * event.target.height / 2) + (event.target.strokeWidth/2)\r\n          // top : obj_bottom + (event.target.scaleY * event.target.height / 2) + (event.target.strokeWidth/2)\r\n          top : event.target.top + obj_bottom - target_top\r\n        })\r\n        event.target.setCoords();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * On/Off snapObjectMovingEvent\r\n   * @param {{target : input[type=checkbox]}} event \r\n   */\r\n  onClickObjectSnap = (event) => {\r\n    const canvas = this.getCanvas();\r\n    if(event.target.checked){\r\n      canvas.on(\"object:moving\", this.snapObjectMovingEvent);\r\n    }\r\n    else{\r\n      canvas.off(\"object:moving\", this.snapObjectMovingEvent);\r\n    }\r\n  }\r\n}\r\n  \r\nexport default Snap;","import Extension from './Extension';\r\nimport { fabric } from 'fabric';\r\nclass Pipette extends Extension {\r\n  constructor(App) {\r\n    super('Pipette', App);\r\n    this.setColor = null;\r\n  }\r\n\r\n  enablePipette = (setColor) => {\r\n    this.getCanvas().defaultCursor = 'pointer';\r\n    this.setColor = setColor;\r\n    document.addEventListener('mousedown', this.pipetteEvent);\r\n  }\r\n\r\n  disablePipette = () => {\r\n    document.removeEventListener('mousedown', this.pipetteEvent);\r\n    this.getCanvas().defaultCursor = 'default';\r\n  }\r\n\r\n  pipetteEvent = (event) => {\r\n    if(event.target.tagName === 'CANVAS') { \r\n      const pointer = this.getCanvas().getPointer(event, true);\r\n      let context = document.getElementById('canvas').getContext('2d');\r\n      let data = context.getImageData(pointer.x * fabric.devicePixelRatio , pointer.y * fabric.devicePixelRatio, 1, 1).data; \r\n      this.setColor({r:data[0],g:data[1],b:data[2], a:1});\r\n      // this.setState({pipette : false, pipetteRGB:{ r:data[0],g:data[1],b:data[2]}, color : {r:data[0],g:data[1],b:data[2], a:1}});\r\n    }\r\n    this.disablePipette();\r\n  }   \r\n}\r\n  \r\nexport default Pipette;","import Extension from './Extension';\r\nimport { fabric } from 'fabric';\r\nimport React from 'react';\r\nclass Layers extends Extension {\r\n    constructor(App) {\r\n      super('Layers', App);\r\n    }\r\n\r\n\r\n    showLayers = () => {\r\n        const canvas = this.getCanvas();\r\n        if(canvas){\r\n            let objs = canvas.getObjects();\r\n            let canvas_list = [];\r\n            for(let i=0 ;i< objs.length ; i++){\r\n                let c = new fabric.Canvas('thumbnail' + i, {\r\n                    preserveObjectStacking: true,\r\n                    height: canvas.getHeight(),\r\n                    width: canvas.getWidth(),\r\n                    backgroundColor: 'grey'\r\n                });\r\n                c.add(fabric.util.object.clone(objs[i]));\r\n                canvas_list.push(c);\r\n            }\r\n\r\n            const listitem = objs.map((obj, index) =>\r\n                <p key = {index}>\r\n                    <img src={canvas_list[index].toDataURL({format: 'png'})} alt=\"\" height=\"10%\" width=\"10%\" onClick = {this.clickLayer} index = {index}/>\r\n                </p>\r\n            );\r\n\r\n            return(\r\n                <div>\r\n                  {listitem}\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                  <p>no canvas</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    buttonLayer = () => {\r\n      const canvas = this.getCanvas();\r\n      if(canvas){\r\n        const listitem = canvas._objects.map((obj, index) =>\r\n          <div key = {index}>\r\n            <button onClick = {this.clickLayer} index = {index} name=\"layer\">{obj.type}</button>\r\n          </div>\r\n        );\r\n        return(\r\n          <div>\r\n            ! Beta Features !\r\n            {listitem}\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n\r\n    clickLayer = (event) => {\r\n      const canvas = this.getCanvas();\r\n      let idx = event.target.getAttribute(\"index\");\r\n      canvas.setActiveObject(canvas.item(idx));\r\n      canvas.renderAll();\r\n    }\r\n\r\n}\r\n\r\nexport default Layers;","import React from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport default withTranslation()(function SideNav(props) {\r\n  return (\r\n    <nav>\r\n      <ul className=\"menu\">\r\n        <li>\r\n          <button className={props.tab === 0 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"text\" tab=\"0\">{i18next.t('ui/sidenav.Text')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 1 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"imageEdit\" tab=\"1\">{i18next.t('ui/sidenav.Image')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 2 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"filter\" tab=\"2\">{i18next.t('ui/sidenav.Filter')}</button>\r\n        </li>\r\n        <li>\r\n        <button className={props.tab === 3 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"icon\" tab=\"3\">{i18next.t('ui/sidenav.Icon')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 4 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"object\" tab=\"4\">{i18next.t('ui/sidenav.Object')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 5 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"rotate\" tab=\"5\">{i18next.t('ui/sidenav.Rotate')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 6 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"shape\" tab=\"6\">{i18next.t('ui/sidenav.Shape')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 7 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"draw\" tab=\"7\">{i18next.t('ui/sidenav.Draw')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 9 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"canvas\" tab=\"9\">{i18next.t('ui/sidenav.Canvas')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 10 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"effect\" tab=\"10\">{i18next.t('ui/sidenav.Effect')}</button>\r\n        </li>\r\n        <li>\r\n          <button className={props.tab === 99 ? \"nav-bar-button-active\" : \"nav-bar-button\"} style = {props.stylelang} type=\"button\" onClick={props.changeTab} alt=\"close\" tab=\"99\">{i18next.t('ui/sidenav.Close')}</button>\r\n        </li>\r\n        <li>\r\n          <button id = \"hidden-menu\" className={\"nav-bar-button2\"} style = { { display : 'none'}} type=\"button\" onClick={props.changeTab} alt=\"others\" tab=\"8\">{i18next.t('ui/sidenav.Others')}</button>\r\n        </li>\r\n      </ul>\r\n      {props.UI[props.tab]}\r\n    </nav>\r\n  );\r\n})\r\n","import { fabric } from 'fabric';\r\nexport default function SwitchTools(...args){\r\n  for(let i = 0; i< args.length-1; i++) {\r\n    fabric.util.toArray(document.getElementsByClassName(args[i])).forEach(el => \r\n      el.disabled = args[args.length-1]\r\n    );\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport switchTools from '../helper/SwitchTools';\r\nimport '../../css/ui/Filter.scss';\r\nimport {filterList, ObjectIcon} from '../const/consts';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport $ from 'jquery';\r\nexport default withTranslation()(class Filter extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.filterList = filterList;\r\n    this.state = {\r\n      brightness: 0,\r\n      contrast : 0,\r\n      pixelate : 1,\r\n      blur : 0,\r\n      noise : 0,\r\n      saturation : 0,\r\n      huerotation : 0,\r\n      ink : 0,\r\n      removecolor : { color : \"#ffffff\", distance : 0},\r\n      vignette : 0,\r\n      zoomblur : 0,\r\n      vibrance : 0,\r\n      denoise : 50,\r\n      grayscale : 0,\r\n      blendcolor : {\r\n        color : '#ffffff',\r\n        mode : 'add',\r\n        alpha : 0\r\n      },\r\n      gamma : {\r\n        r : 1,\r\n        g : 1,\r\n        b : 1,\r\n      },\r\n      hueSaturation : 0,\r\n      tiltshift : 0,\r\n      hexagonalpixelate : 10,\r\n      openrange : false,\r\n      opacity : 1,\r\n      filtermenu : false, // true = open\r\n      adjustmenu : false,\r\n    };\r\n    // this.inputRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount(){\r\n    // console.log('Filter UI Mount');\r\n    this.documentUpdate();\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Filter UI Update');\r\n    this.documentUpdate();\r\n  }\r\n  \r\n  componentWillUnmount(){\r\n    // console.log('Filter UI Unmount');\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    let image = nextProps.object;\r\n    if((nextProps.object.type === 'image') || ( nextProps.object.type === 'not active' && nextProps.getBackgroundImage())) {\r\n      if(nextProps.object.type === 'not active') { image = nextProps.getBackgroundImage(); }\r\n      let ret = {};\r\n      ret['grayscale'] = image.filters[10] ? Number(gray_mode.indexOf(image.filters[10].mode)) : 0;\r\n      ret['brightness'] = image.filters[11] ? Number(image.filters[11].brightness) : 0;\r\n      ret['contrast'] = image.filters[12] ? Number(image.filters[12].contrast) : 0;\r\n      ret['pixelate'] = image.filters[13] ? Number(image.filters[13].blocksize) : 1;\r\n      ret['blur'] = image.filters[14] ? Number(image.filters[14].blur) : 0;\r\n      ret['noise'] = image.filters[15] ? Number(image.filters[15].noise) : 0;\r\n      ret['saturation'] = image.filters[16] ? Number(image.filters[16].saturation) : 0;\r\n      ret['huerotation'] = image.filters[17] ? Number(image.filters[17].rotation) : 0;\r\n      ret['ink'] = image.filters[18] ? Number(image.filters[18].ink_matrix.ink) : 0;\r\n      ret['vignette'] = image.filters[19] ? Number(image.filters[19].vignette_matrix.amount) : 0;\r\n      ret['zoomblur'] = image.filters[20] ? Number(image.filters[20].zoomblur_matrix.strength) : 0;\r\n      ret['vibrance'] = image.filters[21] ? Number(image.filters[21].amount) : 0;\r\n      ret['denoise'] = image.filters[22] ? Number(image.filters[22].denoise_matrix.exponent) : 50;\r\n      ret['removecolor'] = image.filters[23] ? { color : image.filters[23].color , distance : image.filters[23].distance} : { color : prevState.removecolor.color , distance : 0};\r\n      ret['blendcolor'] = image.filters[24] ? { color : image.filters[24].color , alpha : image.filters[24].alpha, mode : image.filters[24].mode} : { color : prevState.blendcolor.color , mode : 'add', alpha : 0};\r\n      ret['gamma'] = image.filters[25] ? { r : image.filters[25].gamma[0] , g : image.filters[25].gamma[1], b : image.filters[25].gamma[2]} : { r : 1, g : 1, b : 1 };\r\n      ret['huesaturation'] = image.filters[26] ? Number(image.filters[26].hueSaturation_matrix.saturation) : 0;\r\n      ret['tiltshift'] = image.filters[27] ? Number(image.filters[27].tiltshift_matrix.blurRadius) : 0;\r\n      ret['hexagonalpixelate'] = image.filters[28] ? Number(image.filters[28].hexagonal_matrix.scale) : 10;\r\n      ret['opacity'] = image.opacity;\r\n      // console.log(\"prevstate \",prevState.removecolor)\r\n      return ret;\r\n    }\r\n    return null;\r\n  }\r\n  \r\n  documentUpdate = () => {\r\n    if(this.props.object.type === 'image'){\r\n      switchTools('filter', 'rangefilter', false);\r\n      this.imageSelection(this.props.object);\r\n    }\r\n    else if(this.props.getBackgroundImage()){\r\n      switchTools('filter', 'rangefilter', false);\r\n      this.imageSelection(this.props.getBackgroundImage());\r\n    }\r\n    else{\r\n      switchTools('filter', 'rangefilter', true)\r\n    }\r\n  }\r\n\r\n  imageSelection = (image) => {\r\n    let list = document.getElementsByClassName('filter');\r\n    let change_filters = Array.from({length: this.filterList.length}, () => false);\r\n    image.filters.forEach(filter => {\r\n      if(filter.type === 'Convolute'){\r\n        change_filters[9 - filter.matrix[0]] = filter\r\n      }\r\n      else{\r\n        change_filters[this.filterList.indexOf(filter.type)] = filter;\r\n      }\r\n    });\r\n    image.filters = change_filters;\r\n    // console.log(image.filters)\r\n    for(let i=0; i<list.length; i++){\r\n      list[i].checked = image.filters[i];\r\n    }\r\n\r\n    let list2 = document.getElementsByClassName(\"rangefilter\")\r\n    let list2_onoff = document.getElementsByClassName(\"range-onoff-button\")\r\n\r\n    for(let i=0; i<list2.length; i++){\r\n      list2[i].checked = image.filters[i+10];\r\n      list2_onoff[i].checked = list2[i].checked\r\n    }\r\n\r\n    if(this.state.adjustmenu){\r\n      for(let i=10; i<filterList.length; i++){\r\n        document.getElementById(filterList[i].toLowerCase()).disabled = !$(\"input:checkbox[id='\"+filterList[i].toLowerCase()+\"-checkbox']\").is(\":checked\")\r\n        if(filterList[i] === \"Gamma\"){\r\n          document.getElementById(\"gamma-g\").disabled = !$(\"input:checkbox[id='\"+filterList[i].toLowerCase()+\"-checkbox']\").is(\":checked\");\r\n          document.getElementById(\"gamma-b\").disabled = !$(\"input:checkbox[id='\"+filterList[i].toLowerCase()+\"-checkbox']\").is(\":checked\")\r\n        }\r\n      }\r\n      // document.getElementById('brightness').disabled = !$(\"input:checkbox[id='brightness-checkbox']\").is(\":checked\")\r\n    }\r\n  }\r\n\r\n  \r\n  filterObject = (event) => {\r\n    this.props.filterObject(event);\r\n  }\r\n\r\n  //this.filterObject 대신 사용하는 함수 : value 전달위해 : 체크박스 함수에 사용\r\n  filterObjectforValue = (event) => {\r\n\r\n    let option = event.target.getAttribute('filter')\r\n    switch(option){\r\n      case 'removecolor':\r\n        this.props.filterValueObject('removecolor', event.target.checked, this.state.removecolor );\r\n        break;\r\n      case 'blendcolor':\r\n        this.props.filterValueObject('blendcolor', event.target.checked, this.state.blendcolor )\r\n        break;\r\n      case 'gamma':\r\n        this.props.filterValueObject('gamma', event.target.checked, this.state.gamma )\r\n        break;\r\n      default :\r\n    }\r\n  }\r\n\r\n  handleFilterChange = (event) => {\r\n    const value = event.target.value\r\n    let filterOption = event.target.getAttribute('filter');\r\n    let checked = $(\"input:checkbox[id='\"+ filterOption +\"-checkbox']\").is(\":checked\");\r\n    if(filterOption === 'opacity') { checked = true; }\r\n    new Promise((resolve) => {\r\n      this.setState({[event.target.name] : event.target.value});\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.props.rangeFilterObject(filterOption, checked, value);\r\n    })\r\n  }\r\n\r\n  //removecolor range 함수에 사용. value가 오브젝트 형태인것만 빼면 특별한 건 없음.\r\n  handleRemoveColorChange = (event) => {\r\n    const value = { color : this.state.removecolor.color, distance : event.target.value}\r\n    let filterOption = event.target.getAttribute('filter');\r\n    let checked = $(\"input:checkbox[id='\"+ filterOption +\"-checkbox']\").is(\":checked\");\r\n    new Promise((resolve) => {\r\n      this.setState({removecolor : value });\r\n      // console.log(filterOption, checked, value)\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.props.rangeFilterObject(filterOption, checked, value);\r\n    })\r\n  }\r\n\r\n  handleBlendColorChange = (event) => {\r\n    const value = { color : this.state.blendcolor.color, alpha : event.target.value, mode : this.state.blendcolor.mode}\r\n    let filterOption = event.target.getAttribute('filter');\r\n    let checked = $(\"input:checkbox[id='\"+ filterOption +\"-checkbox']\").is(\":checked\");\r\n    new Promise((resolve) => {\r\n      this.setState({blendcolor : value });\r\n      // console.log(filterOption, checked, value)\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.props.rangeFilterObject(filterOption, checked, value);\r\n    })\r\n  }\r\n\r\n  handleMultipleFilterChange = (event) => {\r\n    // 바꿔야 할 부분은 const랑 setState하는 부분. Mode는 어떻게 합치지?\r\n    // 결국 value랑 state부분만 잘 손보면 정리 가능할 듯\r\n\r\n    // const value = { color : this.state.removecolor.color, distance : event.target.value}\r\n    // let filterOption = event.target.getAttribute('filter');\r\n    // let checked = $(\"input:checkbox[id='\"+ filterOption +\"-checkbox']\").is(\":checked\");\r\n    // new Promise((resolve) => {\r\n    //   // this.setState({removecolor : value });\r\n    //   resolve();\r\n    // })\r\n    // .then(() => {\r\n    //   this.props.rangeFilterObject(filterOption, checked, value);\r\n    // })\r\n  }\r\n\r\n  handleBlendModeChange = (event) => {\r\n    let value = this.state.blendcolor;\r\n    value.mode = event.target.value;\r\n    let filterOption = 'blendcolor'\r\n    let checked = $(\"input:checkbox[id='\"+ filterOption +\"-checkbox']\").is(\":checked\");\r\n    new Promise((resolve) => {\r\n      this.setState({ blendcolor : value });\r\n      // console.log(filterOption, checked, value)\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.props.rangeFilterObject(filterOption, checked, value);\r\n    })\r\n  }\r\n\r\n  handleGammaChange = (event) => {\r\n    const gamma_id = event.target.getAttribute(\"id\");\r\n    let value;\r\n    // console.log(this.state.gamma)\r\n    switch(gamma_id){\r\n      case 'gamma':\r\n        value = { r : event.target.value, g : this.state.gamma.g, b : this.state.gamma.b}\r\n        break;\r\n      case 'gamma-g':\r\n        value = { r : this.state.gamma.r, g : event.target.value, b : this.state.gamma.b}\r\n        break;\r\n      case 'gamma-b':\r\n        value = { r : this.state.gamma.r, g : this.state.gamma.g, b : event.target.value}\r\n        break;\r\n      default:\r\n        value = this.state.gamma;\r\n        break;\r\n    }\r\n    let filterOption = event.target.getAttribute('filter');\r\n    let checked = $(\"input:checkbox[id='\"+ filterOption +\"-checkbox']\").is(\":checked\");\r\n    new Promise((resolve) => {\r\n      this.setState({ gamma : value });\r\n      // console.log(filterOption, checked, value)\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.props.rangeFilterObject(filterOption, checked, value);\r\n    })\r\n  }\r\n\r\n  //removecolor color 함수에 사용. 색상이 변경되면, 체크여부 확인 후, 현재 distance와 함께 필터 적용.\r\n  setRemoveColor = (event) => {\r\n    const value = {color  : event.target.value, distance : this.state.removecolor.distance}\r\n    new Promise((resolve) => {\r\n      // console.log(\"what : \", event.target.value)\r\n      this.setState({ removecolor : value});\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      let checked = $(\"input:checkbox[id='removecolor-checkbox']\").is(\":checked\");\r\n      // console.log(\"setcolor : \", this.state.removecolor, checked)\r\n      if(checked){\r\n        // console.log(\"checkde : \", value)\r\n        this.props.rangeFilterObject('removecolor', checked, value);\r\n      }\r\n    })\r\n  }\r\n\r\n  setBlendColor = (event) => {\r\n    const value = {color  : event.target.value, alpha : this.state.blendcolor.alpha, mode:  this.state.blendcolor.mode}\r\n    new Promise((resolve) => {\r\n      // console.log(\"what : \", event.target.value)\r\n      this.setState({ blendcolor : value});\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      let checked = $(\"input:checkbox[id='blendcolor-checkbox']\").is(\":checked\");\r\n      // console.log(\"setcolor : \", this.state.removecolor, checked)\r\n      if(checked){\r\n        // console.log(\"checkde : \", value)\r\n        this.props.rangeFilterObject('blendcolor', checked, value);\r\n      }\r\n    })\r\n  }\r\n\r\n  changeMenu = (event) => {\r\n    let option = event.target.getAttribute('option');\r\n    if(option === 'filter'){\r\n      this.setState({filtermenu : true, adjustmenu : false})\r\n    }\r\n    else if (option === 'adjust') {\r\n      this.setState({filtermenu : false, adjustmenu : true})\r\n    }\r\n    else {\r\n      this.setState({filtermenu : false, adjustmenu : false})\r\n    }\r\n  }\r\n\r\n  changeRange = (event) => {\r\n    if(event.target.checked){\r\n      // 이전에 열었던 필터가 활성화 되지 않았다면, off 해준다.\r\n      if(this.state.openrange !== false && !document.getElementById(this.state.openrange + \"-checkbox\").checked){\r\n        console.log(this.state.openrange + \"-checkbox\", \"이 필터는 닫힌다\")\r\n        document.getElementById(this.state.openrange + \"-onoff-checkbox\").checked = false\r\n      }\r\n      //open range\r\n      this.setState({ openrange : event.target.getAttribute('filter')})\r\n    }\r\n    else{\r\n      // 지금 누른게 활성화 되있다면, off 해주지 않는다\r\n      if(this.state.openrange !== false && document.getElementById( event.target.getAttribute('filter') + \"-checkbox\").checked){\r\n\r\n        //이전에 열었던 건 활성화 여부 확인 후 off 여부 결정\r\n        if(this.state.openrange !== false && !document.getElementById(this.state.openrange + \"-checkbox\").checked){\r\n          document.getElementById(this.state.openrange + \"-onoff-checkbox\").checked = false\r\n        }\r\n\r\n        //off하지 않는다.\r\n        console.log('not off')\r\n        document.getElementById(event.target.getAttribute('filter') + \"-onoff-checkbox\").checked = true\r\n\r\n        // 열어준다\r\n        this.setState({ openrange :  event.target.getAttribute('filter')})\r\n      }\r\n\r\n      // 초기 상태에서 체크되어 있는거 연다.\r\n      else if ( this.state.openrange === false && document.getElementById( event.target.getAttribute('filter') + \"-checkbox\").checked){\r\n        this.setState({ openrange :  event.target.getAttribute('filter')})\r\n      }\r\n\r\n      else{\r\n        //close range\r\n        console.log('close range')\r\n        this.setState({ openrange : false})\r\n      }\r\n\r\n    }\r\n    console.log(this.state.openrange);\r\n  }\r\n\r\n  rangeStyle = (option) => {\r\n    if(option === this.state.openrange){\r\n      return { display : 'flex'};\r\n    }\r\n    else{\r\n      return { display : 'none'};\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/filter.Filters')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-filtersmenu\">\r\n          <div className=\"filter-title-open\">\r\n            <div className={this.state.filtermenu ? \"option-title-opened\" : \"option-title\"} option=\"filter\" onClick = {this.changeMenu}>{i18next.t('ui/filter.Filters')}&#9660;</div>\r\n            <div className={this.state.adjustmenu ? \"option-title-opened\" : \"option-title\"} option=\"adjust\" onClick = {this.changeMenu}>{i18next.t('ui/filter.Adjust')}&#9660;</div>\r\n            <div className=\"option-title\" option=\"cancel\" onClick = {this.changeMenu}>{i18next.t('ui/filter.Close')}</div>\r\n          </div>\r\n          <div className=\"filter-box\">\r\n            <CSSTransition in = {this.state.filtermenu} timeout={200} classNames=\"my-node\" unmountOnExit >\r\n              <div className=\"filter-options\">\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-invert\" className='filter' onClick={this.props.filterObject} filter='invert'/>\r\n                  <label htmlFor=\"filter-invert\" className=\"label-filter-icon\" id=\"label-filter-invert\">{i18next.t('ui/filter.Invert')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-brownie\" className='filter' onClick={this.props.filterObject} filter='brownie'/>\r\n                  <label htmlFor=\"filter-brownie\" className=\"label-filter-icon\" id=\"label-filter-brownie\">{i18next.t('ui/filter.Brownie')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-technicolor\" className='filter' onClick={this.props.filterObject} filter='technicolor'/>\r\n                  <label htmlFor=\"filter-technicolor\" className=\"label-filter-icon\" id=\"label-filter-technicolor\">{i18next.t('ui/filter.Technicolor')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-polaroid\" className='filter' onClick={this.props.filterObject} filter='polaroid'/>\r\n                  <label htmlFor=\"filter-polaroid\" className=\"label-filter-icon\" id=\"label-filter-polaroid\">{i18next.t('ui/filter.Polaroid')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-blackwhite\" className='filter' onClick={this.props.filterObject} filter='blackwhite'/>\r\n                  <label htmlFor=\"filter-blackwhite\" className=\"label-filter-icon\" id=\"label-filter-blackwhite\">{i18next.t('ui/filter.Blackwhite')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-vintage\" className='filter' onClick={this.props.filterObject} filter='vintage'/>\r\n                  <label htmlFor=\"filter-vintage\" className=\"label-filter-icon\" id=\"label-filter-vintage\">{i18next.t('ui/filter.Vintage')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-sepia\" className='filter' onClick={this.props.filterObject} filter='sepia'/>\r\n                  <label htmlFor=\"filter-sepia\" className=\"label-filter-icon\" id=\"label-filter-sepia\">{i18next.t('ui/filter.Sepia')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-kodachrome\" className='filter' onClick={this.props.filterObject} filter='kodachrome'/>\r\n                  <label htmlFor=\"filter-kodachrome\" className=\"label-filter-icon\" id=\"label-filter-kodachrome\">{i18next.t('ui/filter.Kodachrome')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-emboss\" className='filter' onClick={this.props.filterObject} filter='emboss'/>\r\n                  <label htmlFor=\"filter-emboss\" className=\"label-filter-icon\" id=\"label-filter-emboss\">{i18next.t('ui/filter.Emboss')}</label>\r\n                </div>\r\n                <div>\r\n                  <input type='checkbox' id=\"filter-sharpen\" className='filter' onClick={this.props.filterObject} filter='sharpen'/>\r\n                  <label htmlFor=\"filter-sharpen\" className=\"label-filter-icon\" id=\"label-filter-sharpen\">{i18next.t('ui/filter.Sharpen')}</label>\r\n                </div>\r\n              </div>\r\n            </CSSTransition>\r\n          </div>\r\n          <div className=\"adjust-box\">\r\n            <CSSTransition in = {this.state.adjustmenu} timeout={200} classNames=\"my-node\" unmountOnExit >\r\n              <div className=\"adjust-options\">\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"grayscale-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='grayscale'/>\r\n                  <label htmlFor=\"grayscale-onoff-checkbox\">{i18next.t('ui/filter.Grey')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('grayscale')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"grayscale-checkbox\" className='rangefilter' onClick={this.filterObject} filter='grayscale' value={this.state.grayscale|| 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='grayscale'\r\n                    min='0'\r\n                    max='2'\r\n                    name='grayscale'\r\n                    step='1'\r\n                    value={this.state.grayscale || 0}\r\n                    onChange={this.handleFilterChange} filter='grayscale'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.grayscale}\r\n                  </div>\r\n                </div>\r\n              \r\n                {/* <div onClick = {this.changeRange} filter='brightness'>{i18next.t('ui/filter.Brightness')} {this.state.brightness}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"brightness-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='brightness'/>\r\n                  <label htmlFor=\"brightness-onoff-checkbox\">{i18next.t('ui/filter.Brightness')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('brightness')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"brightness-checkbox\" className='rangefilter' onClick={this.filterObject} filter='brightness' value={this.state.brightness || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='brightness'\r\n                    min='-1'\r\n                    max='1'\r\n                    name='brightness'\r\n                    step='0.01'\r\n                    value={this.state.brightness || 0}\r\n                    onChange={this.handleFilterChange} filter='brightness'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.brightness}\r\n                  </div>\r\n                </div>\r\n               \r\n                {/* <div onClick = {this.changeRange} filter='contrast'>{i18next.t('ui/filter.Contrast')} {this.state.contrast}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"contrast-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='contrast'/>\r\n                  <label htmlFor=\"contrast-onoff-checkbox\">{i18next.t('ui/filter.Contrast')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('contrast')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"contrast-checkbox\" className='rangefilter' onClick={this.filterObject} filter='contrast' value={this.state.contrast || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='contrast'\r\n                    min='-1'\r\n                    max='1'\r\n                    name='contrast'\r\n                    step='0.01'\r\n                    value={this.state.contrast || 0}\r\n                    onChange={this.handleFilterChange} filter='contrast'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.contrast}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='pixelate'>{i18next.t('ui/filter.Pixelate')} {this.state.pixelate}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"pixelate-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='pixelate'/>\r\n                  <label htmlFor=\"pixelate-onoff-checkbox\">{i18next.t('ui/filter.Pixelate')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('pixelate')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"pixelate-checkbox\" className='rangefilter' onClick={this.filterObject} filter='pixelate' value={this.state.pixelate || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='pixelate'\r\n                    min='1'\r\n                    max='50'\r\n                    name='pixelate'\r\n                    step='1'\r\n                    value={this.state.pixelate || 1}\r\n                    onChange={this.handleFilterChange} filter='pixelate'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.pixelate}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='blur'>{i18next.t('ui/filter.Blur')} {this.state.blur}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"blur-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='blur'/>\r\n                  <label htmlFor=\"blur-onoff-checkbox\">{i18next.t('ui/filter.Blur')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('blur')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"blur-checkbox\" className='rangefilter' onClick={this.filterObject} filter='blur' value={this.state.blur || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='blur'\r\n                    min='0'\r\n                    max='1'\r\n                    name='blur'\r\n                    step='0.01'\r\n                    value={this.state.blur || 0}\r\n                    onChange={this.handleFilterChange} filter='blur'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.blur}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='noise'>{i18next.t('ui/filter.Noise')} {this.state.noise}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"noise-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='noise'/>\r\n                  <label htmlFor=\"noise-onoff-checkbox\">{i18next.t('ui/filter.Noise')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('noise')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"noise-checkbox\" className='rangefilter' onClick={this.filterObject} filter='noise' value={this.state.noise || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='noise'\r\n                    min='0'\r\n                    max='100'\r\n                    name='noise'\r\n                    step='1'\r\n                    value={this.state.noise || 0}\r\n                    onChange={this.handleFilterChange} filter='noise'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.noise}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='saturation'>{i18next.t('ui/filter.Saturation')} {this.state.saturation}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"saturation-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='saturation'/>\r\n                  <label htmlFor=\"saturation-onoff-checkbox\">{i18next.t('ui/filter.Saturation')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('saturation')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"saturation-checkbox\" className='rangefilter' onClick={this.filterObject} filter='saturation' value={this.state.saturation || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='saturation'\r\n                    min='-1'\r\n                    max='1'\r\n                    name='saturation'\r\n                    step='0.01'\r\n                    value={this.state.saturation || 0}\r\n                    onChange={this.handleFilterChange} filter='saturation'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.saturation}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='huerotation'>{i18next.t('ui/filter.Hue')} {this.state.hue}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"huerotation-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='huerotation'/>\r\n                  <label htmlFor=\"huerotation-onoff-checkbox\">{i18next.t('ui/filter.Hue')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('huerotation')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"huerotation-checkbox\" className='rangefilter' onClick={this.filterObject} filter='huerotation' value={this.state.huerotation || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='huerotation'\r\n                    min='-1'\r\n                    max='1'\r\n                    name='huerotation'\r\n                    step='0.01'\r\n                    value={this.state.huerotation || 1}\r\n                    onChange={this.handleFilterChange} filter='huerotation'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.huerotation}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='ink'>{i18next.t('ui/filter.Ink')} {this.state.ink}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"ink-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='ink'/>\r\n                  <label htmlFor=\"ink-onoff-checkbox\">{i18next.t('ui/filter.Ink')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('ink')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"ink-checkbox\" className='rangefilter' onClick={this.filterObject} filter='ink' value={this.state.ink  || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='ink'\r\n                    min='0'\r\n                    max='1'\r\n                    name='ink'\r\n                    step='0.01'\r\n                    value={this.state.ink || 0}\r\n                    onChange={this.handleFilterChange} filter='ink'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.ink}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='vignette'>{i18next.t('ui/filter.Vignette')} {this.state.vignette}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"vignette-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='vignette'/>\r\n                  <label htmlFor=\"vignette-onoff-checkbox\">{i18next.t('ui/filter.Vignette')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('vignette')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"vignette-checkbox\" className='rangefilter' onClick={this.filterObject} filter='vignette' value={this.state.vignette || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='vignette'\r\n                    min='0'\r\n                    max='1'\r\n                    name='vignette'\r\n                    step='0.01'\r\n                    value={this.state.vignette || 0}\r\n                    onChange={this.handleFilterChange} filter='vignette'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.vignette}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='zoomblur'>{i18next.t('ui/filter.Zoomblur')} {this.state.zoomblur}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"zoomblur-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='zoomblur'/>\r\n                  <label htmlFor=\"zoomblur-onoff-checkbox\">{i18next.t('ui/filter.Zoomblur')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('zoomblur')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"zoomblur-checkbox\" className='rangefilter' onClick={this.filterObject} filter='zoomblur' value={this.state.zoomblur || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='zoomblur'\r\n                    min='0'\r\n                    max='1'\r\n                    name='zoomblur'\r\n                    step='0.01'\r\n                    value={this.state.zoomblur || 0}\r\n                    onChange={this.handleFilterChange} filter='zoomblur'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.zoomblur}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='vibrance'>{i18next.t('ui/filter.Vibrance')} {this.state.vibrance}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"vibrance-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='vibrance'/>\r\n                  <label htmlFor=\"vibrance-onoff-checkbox\">{i18next.t('ui/filter.Vibrance')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('vibrance')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"vibrance-checkbox\" className='rangefilter' onClick={this.filterObject} filter='vibrance' value={this.state.vibrance || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='vibrance'\r\n                    min='-1'\r\n                    max='1'\r\n                    name='vibrance'\r\n                    step='0.1'\r\n                    value={this.state.vibrance || 0}\r\n                    onChange={this.handleFilterChange} filter='vibrance'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.vibrance}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div onClick = {this.changeRange} filter='denoise'>{i18next.t('ui/filter.Denoise')} {this.state.denoise}</div> */}\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"denoise-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='denoise'/>\r\n                  <label htmlFor=\"denoise-onoff-checkbox\">{i18next.t('ui/filter.Denoise')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('denoise')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"denoise-checkbox\" className='rangefilter' onClick={this.filterObject} filter='denoise' value={this.state.denoise || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='denoise'\r\n                    min='0'\r\n                    max='50'\r\n                    name='denoise'\r\n                    step='1'\r\n                    value={this.state.denoise || 0}\r\n                    onChange={this.handleFilterChange} filter='denoise'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.denoise}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"removecolor-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='removecolor'/>\r\n                  <label htmlFor=\"removecolor-onoff-checkbox\">{i18next.t('ui/filter.RemoveColor')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('removecolor')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"removecolor-checkbox\" className='rangefilter' onClick={this.filterObjectforValue} filter='removecolor'/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input type=\"color\" id=\"colorSource\" value={this.state.removecolor.color} onChange = { this.setRemoveColor}/>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='removecolor'\r\n                    min='0'\r\n                    max='1'\r\n                    name='removecolor'\r\n                    step='0.01'\r\n                    value={this.state.removecolor.distance || 0}\r\n                    onChange={ this.handleRemoveColorChange } filter='removecolor'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.removecolor.distance}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"blendcolor-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='blendcolor'/>\r\n                  <label htmlFor=\"blendcolor-onoff-checkbox\">{i18next.t('ui/filter.BlendColor')}</label>\r\n                </div>\r\n                <div className=\"range-box\" id=\"blend-color-range-box\" style = {this.rangeStyle('blendcolor')}>\r\n                  <div className=\"blend-color-div\">\r\n                    <label className=\"mycheckbox path\">\r\n                      <input type='checkbox' id=\"blendcolor-checkbox\" className='rangefilter' onClick={this.filterObjectforValue} filter='blendcolor'/>\r\n                        <svg viewBox=\"0 0 21 21\">\r\n                          <path d={ObjectIcon.checkbox}></path>\r\n                        </svg>\r\n                    </label>\r\n                    <input type=\"color\" id=\"colorSource\" value={this.state.blendcolor.color} onChange = { this.setBlendColor }/>\r\n                    <select className='rangefilter-select' id=\"blend-mode\" name=\"blend-mode\" onChange = {this.handleBlendModeChange} value = {this.state.blendcolor.mode}>\r\n                      <option value=\"add\">Add</option>\r\n                      <option value=\"diff\">Diff</option>\r\n                      <option value=\"subtract\">Subtract</option>\r\n                      <option value=\"multiply\">Multiply</option>\r\n                      <option value=\"screen\">Screen</option>\r\n                      <option value=\"lighten\">Lighten</option>\r\n                      <option value=\"darken\">Darken</option>\r\n                      <option value=\"overlay\">Overlay</option>\r\n                      <option value=\"exclusion\">Exclusion</option>\r\n                      <option value=\"tint\">Tint</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"blend-color-div\">\r\n                    <input\r\n                      type='range'\r\n                      className='filter'\r\n                      id='blendcolor'\r\n                      min='0'\r\n                      max='1'\r\n                      name='blendcolor'\r\n                      step='0.01'\r\n                      value={this.state.blendcolor.alpha || 0}\r\n                      onChange={ this.handleBlendColorChange } filter='blendcolor'\r\n                    />\r\n                    <div className=\"range-value\">\r\n                      {this.state.blendcolor.alpha}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"gamma-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='gamma'/>\r\n                  <label htmlFor=\"gamma-onoff-checkbox\">{i18next.t('ui/filter.Gamma')}</label>\r\n                </div>\r\n                <div className=\"range-box\" id=\"gamma-box\" style = {this.rangeStyle('gamma')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"gamma-checkbox\" className='rangefilter' onClick={this.filterObjectforValue} filter='gamma'/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <div className=\"gamma-range-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"range-with-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='range'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='filter'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin='0.2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax='2.2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep='0.01'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.gamma.r || 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleGammaChange } filter='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.gamma.r}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"range-with-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='range'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='filter'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='gamma-g'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin='0.2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax='2.2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep='0.01'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.gamma.g || 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleGammaChange } filter='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.gamma.g}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"range-with-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='range'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='filter'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='gamma-b'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin='0.2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax='2.2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep='0.01'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.gamma.b || 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleGammaChange } filter='gamma'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n                      {this.state.gamma.b}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"huesaturation-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='huesaturation'/>\r\n                  <label htmlFor=\"huesaturation-onoff-checkbox\">{i18next.t('ui/filter.Hue/Saturation')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('huesaturation')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"huesaturation-checkbox\" className='rangefilter' onClick={this.filterObject} filter='huesaturation' value={this.state.huesaturation || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='huesaturation'\r\n                    min='-1'\r\n                    max='1'\r\n                    name='huesaturation'\r\n                    step='0.1'\r\n                    value={this.state.huesaturation || 0}\r\n                    onChange={this.handleFilterChange} filter='huesaturation'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.huesaturation}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"tiltshift-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='tiltshift'/>\r\n                  <label htmlFor=\"tiltshift-onoff-checkbox\">{i18next.t('ui/filter.Tiltshift')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('tiltshift')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"tiltshift-checkbox\" className='rangefilter' onClick={this.filterObject} filter='tiltshift' value={this.state.tiltshift || 0}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='tiltshift'\r\n                    min='0'\r\n                    max='50'\r\n                    name='tiltshift'\r\n                    step='1'\r\n                    value={this.state.tiltshift || 0}\r\n                    onChange={this.handleFilterChange} filter='tiltshift'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.tiltshift}\r\n                  </div>\r\n                </div> */}\r\n\r\n                {/* <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"hexagonalpixelate-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='hexagonalpixelate'/>\r\n                  <label htmlFor=\"hexagonalpixelate-onoff-checkbox\">{i18next.t('ui/filter.HexagonalPixelate')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('hexagonalpixelate')}>\r\n                  <label className=\"mycheckbox path\">\r\n                    <input type='checkbox' id=\"hexagonalpixelate-checkbox\" className='rangefilter' onClick={this.filterObject} filter='hexagonalpixelate' value={this.state.hexagonalpixelate || 10}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='hexagonalpixelate'\r\n                    min='10'\r\n                    max='100'\r\n                    name='hexagonalpixelate'\r\n                    step='1'\r\n                    value={this.state.hexagonalpixelate || 10}\r\n                    onChange={this.handleFilterChange} filter='hexagonalpixelate'\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.hexagonalpixelate}\r\n                  </div>\r\n                </div> */}\r\n\r\n\r\n                <div className=\"range-onoff\">\r\n                  <input className=\"range-onoff-button\" id=\"opacity-onoff-checkbox\" type=\"checkbox\" onClick = {this.changeRange} filter='opacity'/>\r\n                  <label htmlFor=\"opacity-onoff-checkbox\">{i18next.t('ui/filter.Opacity')}</label>\r\n                </div>\r\n                <div className=\"range-box\" style = {this.rangeStyle('opacity')}>\r\n                  <label className=\"mycheckbox path\" style={{display : 'none'}}>\r\n                    <input type='checkbox' id=\"opacity-checkbox\" className='rangefilter' onClick={this.filterObject} filter='opacity' value={this.state.opacity || 10}/>\r\n                      <svg viewBox=\"0 0 21 21\">\r\n                        <path d={ObjectIcon.checkbox}></path>\r\n                      </svg>\r\n                  </label>\r\n                  <input\r\n                    type='range'\r\n                    className='filter'\r\n                    id='opacity'\r\n                    min='0'\r\n                    max='1'\r\n                    name='opacity'\r\n                    step='0.01'\r\n                    value={this.state.opacity || 1}\r\n                    onChange={this.handleFilterChange} filter='opacity'\r\n                    disabled = {this.props.object.type === 'image' ? false : true}\r\n                  />\r\n                  <div className=\"range-value\">\r\n                    {this.state.opacity}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CSSTransition>\r\n          </div>        \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})\r\n\r\nconst gray_mode = ['average', 'luminosity', 'lightness']\r\n","import React, { Component } from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { getSearchImage} from '../helper/GetImage';\r\nimport imgerror from '../../css/img/imgerror.svg';\r\nimport ImageModal from '../ImageModal';\r\nimport '../../css/ui/ImageMini.scss';\r\nimport unsplash from '../helper/UnspalshAPI';\r\nimport { unSplashAppName } from '../const/consts' \r\n\r\nclass ImageMini extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      images: [],\r\n      search: '',\r\n      image_count: 10,\r\n      url: false,\r\n      image : {\r\n        full : '',\r\n        raw : '',\r\n        regular : '',\r\n        small : '',\r\n        thumb : imgerror\r\n      },\r\n      imageSize : {\r\n        full : { x:0, y:0},\r\n        raw : { x:0, y:0},\r\n        regular : { x:0, y:0},\r\n        small : { x:0, y:0},\r\n        thumb : { x:0, y:0},\r\n      },\r\n      openModal : false,\r\n      user : '',\r\n      user_link : '',\r\n      download_location : '',\r\n\r\n    }\r\n  }\r\n\r\n  getImage() {\r\n    getSearchImage(this.state.search, this.state.image_count)\r\n    .then(res =>  this.setState({ images : res }))\r\n    .catch((error) => {\r\n      console.log(error);\r\n      alert(i18next.t('ImageList.Fail'));\r\n    });    \r\n  }\r\n\r\n  showImage = (imagelist) => {\r\n    if(imagelist['errors']){ \r\n      // alert(i18next.t('ImageList.Showimage errors')); \r\n      return(\r\n        <div style={{color : 'white'}}>\r\n          Not Found\r\n        </div>\r\n      )\r\n    }\r\n    const listitem = imagelist.map((image) =>\r\n      <div className=\"mini-image-list-box\" key={image.id} >\r\n        <img className=\"image-list-img\" key={image.id} user={image.user.name} links = {image.user.links.html} dl = {image.links.download_location} src={image.urls.thumb} alt=\".\" onClick={ this.onClickThumb } full = {image.urls.full} raw = {image.urls.raw} regular = {image.urls.regular} small = {image.urls.small} full-width = {image.width} />\r\n        <p className=\"image-list-img-p\" >{image.user.name}</p>\r\n      </div>\r\n    );\r\n    return (\r\n      <div className=\"mini-image-list\">\r\n        <div>\r\n          {listitem}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  onClickThumb = (event) => {\r\n    new Promise((resolve) => {\r\n      this.setState({\r\n        url : true,\r\n        openModal : true,\r\n        user : event.target.getAttribute('user'),\r\n        user_link : event.target.getAttribute('links'),\r\n        download_location : event.target.getAttribute('dl'),\r\n        image : {\r\n          full : event.target.getAttribute('full'),\r\n          raw : event.target.getAttribute('raw'),\r\n          regular : event.target.getAttribute('regular'),\r\n          small : event.target.getAttribute('small'),   \r\n          thumb : event.target.src     \r\n      }})\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.getImageSize();\r\n    })\r\n  }\r\n\r\n  onClickImg = (event) => {\r\n    unsplash.photos.trackDownload({ downloadLocation: this.state.download_location });\r\n    this.props.addImage(event.target.getAttribute('url'));\r\n    this.setState({openModal : false});\r\n    // this.props.onImgUrlChange(event.target.getAttribute('url'));\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.getImage();\r\n  }\r\n\r\n  searchChange = (event) => {\r\n    let change_state = {};\r\n    change_state[event.target.name] = event.target.value;\r\n    this.setState(change_state);\r\n  }\r\n\r\n\timageNotFound = () => {\r\n    alert('not found');\r\n  }\r\n  \r\n  getImageSize = () => {\r\n    let full_img = new Image();\r\n    full_img.onload = () => {\r\n      this.setState({\r\n        imageSize : {\r\n          full : { x: full_img.width, y: full_img.height},\r\n          small : { x : 400, y: Math.round(full_img.height * (400 / full_img.width)) },\r\n          thumb : { x : 200, y: Math.round(full_img.height * (200 / full_img.width)) },\r\n          regular : { x : 1080, y: Math.round(full_img.height * (1080 / full_img.width)) },\r\n        }\r\n      })\r\n    };\r\n    full_img.onerror = this.imageNotFound;\r\n    full_img.src = this.state.image.full;\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({openModal : false});\r\n  }\r\n\r\n  imageSizeVersion = () => {\r\n    let image = this.state.image;\r\n    console.log(\"test\")\r\n    if(!image){\r\n      return(\r\n        <div id=\"image-list-size-none\">\r\n          <p>no img</p>\r\n        </div>        \r\n      )\r\n    }\r\n    else{\r\n      return (\r\n        <ImageModal open={this.state.openModal} close = {this.closeModal}>\r\n          <div className=\"mini-image-modal-div\">\r\n            <div className=\"mini-image-preview\">\r\n              <img className=\"preview-img\" src = {image.small} url={image.full} alt=\".\" />\r\n            </div>\r\n\r\n            <div id=\"modal-miniimage-list\" >\r\n              <div className=\"modal-miniimage-list-img\">\r\n                <i className=\"far fa-images fa-4x\" url={image.regular} onClick={this.onClickImg}></i>\r\n                <div>{this.state.imageSize.regular.x} X  {this.state.imageSize.regular.y}</div>\r\n              </div>\r\n              <div className=\"modal-miniimage-list-img\">\r\n                <i className=\"far fa-images fa-4x\" url={image.small} onClick={this.onClickImg}></i>\r\n                <div>{this.state.imageSize.small.x} X {this.state.imageSize.small.y}</div>\r\n              </div>\r\n              <div className=\"modal-miniimage-list-img\">\r\n                <i className=\"far fa-images fa-4x\" url={image.thumb} onClick={this.onClickImg}></i>\r\n                <div>{this.state.imageSize.thumb.x} X {this.state.imageSize.thumb.y}</div>\r\n              </div>\r\n            </div>\r\n            {/* <ul>\r\n              <li>\r\n                <img className=\"image-list-img\" src = {image.thumb} url={image.full} alt=\".\" onClick={this.onClickImg}/>\r\n                <div>full: {this.state.imageSize.full.x} X  {this.state.imageSize.full.y}</div>\r\n              </li>\r\n              <li>\r\n                <img className=\"image-list-img\" src = {image.thumb} url={image.regular} alt=\".\" onClick={this.onClickImg} />\r\n                <div>regular: {this.state.imageSize.regular.x} X  {this.state.imageSize.regular.y}</div>\r\n              </li>\r\n              <li>\r\n                <img className=\"image-list-img\" src = {image.thumb} url={image.small} alt=\".\" onClick={this.onClickImg} />\r\n                <div>small: {this.state.imageSize.small.x} X {this.state.imageSize.small.y}</div>\r\n              </li>\r\n              <li>\r\n                <img className=\"image-list-img\" src = {image.thumb} url={image.thumb} alt=\".\" onClick={this.onClickImg} />\r\n                <div>thumb: {this.state.imageSize.thumb.x} X {this.state.imageSize.thumb.y}</div>\r\n              </li>\r\n            </ul> */}\r\n            {/* <div className=\"modal-miniimage-list-box\">\r\n              <img className=\"modal-miniimage-list-img\" src = {image.thumb} url={image.full} alt=\".\" onClick={this.onClickImg}/>\r\n              <div className=\"modal-miniimage-list-text\">full: {this.state.imageSize.full.x} X  {this.state.imageSize.full.y}</div>\r\n            </div>\r\n            <div className=\"modal-miniimage-list-box\">\r\n              <img className=\"modal-miniimage-list-img\" src = {image.thumb} url={image.regular} alt=\".\" onClick={this.onClickImg} />\r\n              <div className=\"modal-miniimage-list-text\">regular: {this.state.imageSize.regular.x} X  {this.state.imageSize.regular.y}</div>\r\n            </div>\r\n            <div className=\"modal-miniimage-list-box\">\r\n              <img className=\"modal-miniimage-list-img\" src = {image.thumb} url={image.small} alt=\".\" onClick={this.onClickImg} />\r\n              <div className=\"modal-miniimage-list-text\">small: {this.state.imageSize.small.x} X {this.state.imageSize.small.y}</div>\r\n            </div>\r\n            <div className=\"modal-miniimage-list-box\">\r\n              <img className=\"modal-miniimage-list-img\" src = {image.thumb} url={image.thumb} alt=\".\" onClick={this.onClickImg} />\r\n              <div className=\"modal-miniimage-list-text\">thumb: {this.state.imageSize.thumb.x} X {this.state.imageSize.thumb.y}</div>\r\n            </div> */}\r\n          </div>\r\n          <p className=\"photo-tag\">Photo by <a href={this.state.user_link + \"?utm_source=\" + unSplashAppName + \"&utm_medium=referral\"} target = \"_blank\" rel=\"noreferrer\">{this.state.user}</a> on <a href={\"https://unsplash.com/?utm_source=\" + unSplashAppName + \"&utm_medium=referral\"} target = \"_blank\" rel=\"noreferrer\">Unsplash</a></p>\r\n        </ImageModal>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mini-image\">\r\n        <form className=\"asearch-form\" onSubmit={this.handleSubmit}> \r\n          <div className=\"form-box\">\r\n            <label className =\"arandom-image-searchtext\" htmlFor=\"search\">{i18next.t('ImageList.Image name')}</label>\r\n            <input id=\"lib-name\" autoComplete=\"off\" placeholder=\"Search Library\" name=\"search\" value={this.state.search} onChange={this.searchChange} />\r\n            \r\n            <label className =\"arandom-image-searchtext\" htmlFor=\"image_count\">{i18next.t('ImageList.Image count')}</label>\r\n            <div className=\"asearch-group\">\r\n              <input className=\"asearch-input\" type=\"number\" name=\"image_count\" value={this.state.image_count} onChange={this.searchChange} />\r\n            </div>\r\n            <input className=\"asearch-image-button\" type=\"submit\" value=\"Enter\" />\r\n          </div>\r\n        </form>\r\n        {this.showImage(this.state.images)}\r\n        {this.state.url ? this.imageSizeVersion() : null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withTranslation()(ImageMini);","import React, {Component} from 'react';\r\nimport Loading from './Loading';\r\nimport i18next from \"../../locale/i18n\";\r\nimport ImageMini from './ImageMini';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../../css/ui/Image.scss'\r\nimport { corsLink } from '../const/consts';\r\n\r\nexport default withTranslation()(class Image extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = { \r\n      imgURL : '',\r\n      displayURL: false,\r\n      displaylib: false,\r\n    }\r\n    this.url = '';\r\n  }\r\n\r\n  componentDidMount(){\r\n    // console.log('Image UI Mount');\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Image UI Update');\r\n  }\r\n  componentWillUnmount(){\r\n    this.props.cropStopObject();\r\n    // console.log('Image UI Unmount');\r\n  }\r\n  handleCropImage = (event) => {\r\n    let cropOption = event.target.getAttribute('crop');\r\n    this.props.cropObject(cropOption)\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({imgURL : event.target.value})\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    if(event){ event.preventDefault(); }\r\n    this.url = this.state.imgURL;\r\n    this.setState({imgURL : \"\"});\r\n    console.log(\"loading\");\r\n    this.props.addImage(corsLink + this.url);\r\n  }\r\n\r\n  importImage = (event) => {\r\n    if(!event.target.files[0]) { return; }\r\n    new Promise((resolve) => {\r\n      let file = event.target.files[0];\r\n      this.url = URL.createObjectURL(file);\r\n      event.target.value = null;\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      console.log(\"loading\");\r\n\t\t\tthis.props.addImage(this.url);\r\n    })\r\n  }\r\n\r\n  urlOpen = () => {\r\n    let url = this.state.displayURL;\r\n    this.setState({displayURL: !url});\r\n  }\r\n\r\n  libOpen = () => {\r\n    let lib = this.state.displaylib;\r\n    this.setState({displaylib: !lib});\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/image.Image')} ( { this.props.object.type })\r\n        </div>\r\n        <div className=\"sub-imagesmenu\">\r\n          <div className=\"option-title\">{i18next.t('ui/image.Crop start')}</div>\r\n          <div className=\"crop-ratio\">\r\n            <div className=\"crop-start-button\">\r\n              <button onClick={this.handleCropImage} className = \"cropStart\" crop=\"4:3\">4:3</button>\r\n              <button onClick={this.handleCropImage} className = \"cropStart\" crop=\"16:9\">16:9</button>\r\n              <button onClick={this.handleCropImage} className = \"cropStart\" crop=\"3:2\">3:2</button>\r\n              <button onClick={this.handleCropImage} className = \"cropStart\" crop=\"1:1\">1:1</button>\r\n            </div>\r\n            <button id=\"end-button\" onClick={this.props.cropEndObject} crop=\"left\">{i18next.t('ui/image.Crop End')}</button>\r\n            <button id=\"end-button\" onClick={this.props.cropStopObject} crop=\"left\">{i18next.t('ui/image.CropCancel')}</button>\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/image.Upload image')}</div>\r\n          <div className=\"upload-file\">\r\n            <div className=\"image-local\">\r\n              <div className=\"file-input-group\">\r\n                <label className=\"input-file-button\" htmlFor=\"_file\">{i18next.t('ui/image.Upload local image')}</label>\r\n                <input name=\"file\" type='file' id='_file' onChange={this.importImage} accept=\"image/*\" style={{ display: 'none' }}></input>\r\n              </div>\r\n            </div>\r\n            <button className=\"open-url\" onClick={this.urlOpen}>{i18next.t('ui/image.Upload URL image')}</button>\r\n            {this.state.displayURL ?\r\n            <div className=\"image-url\">\r\n              <form id=\"imgload\" onSubmit={this.handleSubmit}>\r\n                <div className=\"image-url-group\">\r\n                  <input name=\"url\" id=\"_url\" value={this.state.imgURL} onChange = {this.handleChange} autoComplete=\"off\"/>\r\n                  <label htmlFor=\"_url\">URL: </label>\r\n                </div>\r\n                <input className=\"url-submit\" type=\"submit\" value=\"Submit\" />\r\n              </form>\r\n            </div> : null}\r\n            <button className=\"open-lib\" onClick={this.libOpen}>{i18next.t('ui/image.Upload library image')}</button>\r\n            {this.state.displaylib ? <ImageMini addImage={this.props.addImage} /> : null}\r\n          </div>\r\n        </div>\r\n        {this.props.imgStatus ? <Loading open = {true} /> : null}\r\n      </div>\r\n    );\r\n  }\r\n})","import React, {Component} from 'react';\r\nimport '../../css/ui/Tools.scss';\r\nexport default class Tools extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      info : true\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    // console.log('Tools UI Mount');\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Tools UI Update');\r\n  }\r\n  componentWillUnmount(){\r\n    // console.log('Tools UI Unmount');\r\n  }\r\n  addImage = () => {\r\n    this.props.addImage('https://source.unsplash.com/random/500x400');\r\n  }\r\n\r\n  handleInfo = () => {\r\n    this.setState({info : !this.state.info});\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n            Tools\r\n        </div>\r\n        <div className=\"sub-tools-menu\">\r\n          <div>\r\n              <button onClick={this.props.objectInfo}>오브젝트 정보 출력</button>\r\n              <button onClick={this.props.getCanvasInfo}>캔버스 출력</button>\r\n              <button onClick={this.props.getCanvasBackinfo}>캔버스 배경 크기</button>\r\n          </div>\r\n          <div>\r\n              <button onClick={this.props.openSaveModal}>save</button>\r\n          </div>\r\n          \r\n          <button onClick = {this.handleInfo} style={{color : 'black', backgroundColor : 'skyblue'}}>내부 정보 열고닫기</button>\r\n          { this.state.info ? \r\n            <div>\r\n              <div style={ {color : 'red', padding : '10px'}}>\r\n              {this.props.object.type !== 'not active' ? \r\n                <div>\r\n                  <p>object left from center : {this.props.object.left.toFixed(3)}</p>\r\n                  <p>object top from center: {this.props.object.top.toFixed(3)}</p>\r\n                  <p>object scaleX : {this.props.object.scaleX.toFixed(3)}</p>\r\n                  <p>object scaleY : {this.props.object.scaleY.toFixed(3)}</p>\r\n                  <p>object width : {this.props.object.width}</p>\r\n                  <p>object height : {this.props.object.height}</p>\r\n                  \r\n                  <p>object width * scaleX : {(this.props.object.width * this.props.object.scaleX).toFixed(3)}</p>\r\n                  <p>object height * scaleY : {(this.props.object.height * this.props.object.scaleY).toFixed(3)}</p>\r\n                  <p> left : {this.props.object.aCoords.tl.x.toFixed(3)} </p>\r\n                  <p> right : {this.props.object.aCoords.br.x.toFixed(3)} </p>\r\n                  <p> top : {this.props.object.aCoords.tl.y.toFixed(3)} </p>\r\n                  <p> bottom : {this.props.object.aCoords.br.y.toFixed(3)} </p>\r\n                </div> : null}\r\n              </div>\r\n\r\n              <div style={ { padding : '10px'}}>\r\n              {this.props.canvas ? \r\n                <div>\r\n                  <p> 좌측 상단 좌표 = x : {(-this.props.canvasView.x / this.props.zoom)}  y : {(-this.props.canvasView.y / this.props.zoom)}</p>\r\n                  <p> 우측 하단 좌표 = x : { (-this.props.canvasView.x / this.props.zoom)  + (this.props.canvas.width / this.props.zoom) }  \r\n                      y : {(-this.props.canvasView.y / this.props.zoom) + (this.props.canvas.height / this.props.zoom) }</p>\r\n\r\n                  {this.props.canvas.backgroundImage ?\r\n                <div>\r\n                  <p>배경 width {this.props.canvas.backgroundImage.width}</p>\r\n                  <p>배경 height {this.props.canvas.backgroundImage.height}</p>\r\n                  <p>배경 scaleX {this.props.canvas.backgroundImage.scaleX}</p>\r\n                  <p>배경 scaleY {this.props.canvas.backgroundImage.scaleY}</p>\r\n                  <p>배경 left {this.props.canvas.backgroundImage.left}</p>\r\n                  <p>배경 top {this.props.canvas.backgroundImage.top}</p>\r\n                </div> : null}\r\n              </div> : null}\r\n            </div>\r\n          </div> : null   \r\n        }\r\n\r\n\r\n          <div>\r\n            <p>유저 이름 : {this.props.user_name} </p>\r\n            <p>프로젝트 정보 : {this.props.prj_idx} </p>\r\n            <p>저장 유무: {this.props.isSaved ? 'true' : 'false'} </p>           \r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import React, {Component} from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { HEXtoRGBA } from '../helper/ConverRGB';\r\nimport { iconList } from '../const/consts';\r\nimport '../../css/ui/Icon.scss'\r\n\r\nexport default withTranslation()(class Icon extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      color: {\r\n        r: '0',\r\n        g: '0',\r\n        b: '0',\r\n        a: '1'\r\n      },\r\n      hexcolor : \"#ffffff\",\r\n      iconList : []\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    // console.log('Icon UI Mount');\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Icon UI Update');\r\n  }\r\n  componentWillUnmount(){\r\n    // console.log('Icon UI Unmount');\r\n  }\r\n\r\n  addIcon = (event) => {\r\n    const options = {\r\n      type : event.target.getAttribute('type'),\r\n      color : this.state.color,\r\n    }\r\n    this.props.addIcon(options);\r\n  }\r\n\r\n  searchIcon = () => {\r\n\r\n  }\r\n\r\n  handleColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let color = HEXtoRGBA(event.target.value, this.state.color.a)\r\n      this.setState({ color : color, hexcolor : event.target.value});\r\n      resolve(color);\r\n    })\r\n    .then((color) => {\r\n      this.props.setColor({rgb : color});\r\n    })\r\n  }\r\n\r\n  handleOpacityChange = (event) => {\r\n    let change = this.state.color;\r\n    change.a = event.target.value;\r\n    this.setState({ color : change });\r\n    this.props.setColor({rgb : this.state.color});\r\n  }\r\n\r\n  setColor = (color) => {\r\n    this.setState({ color: color })\r\n  }\r\n\r\n  handlePipette = () => {\r\n    this.props.pipette.enablePipette(this.setColor); \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n            {i18next.t('ui/icon.Icon')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-iconmenu\">\r\n          <div className=\"option-title\">{i18next.t('ui/icon.Pick icon')}</div>\r\n          <div className=\"icon\">\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-times fa-2x\" onClick={this.addIcon} type = \"icon_cancel1\"></button>\r\n              <p className=\"attribute\">Cancel1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"far fa-times-circle fa-2x\" onClick={this.addIcon} type = \"icon_cancel2\"></button>\r\n              <p className=\"attribute\">Cancel2</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-arrow-right fa-2x\" onClick={this.addIcon} type = \"icon_arrow_2\"></button>\r\n              <p className=\"attribute\">Arrow1</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-angle-right fa-2x\" onClick={this.addIcon} type = \"icon_arrow_3\"></button>\r\n              <p className=\"attribute\">Arrow2</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-angle-double-right fa-2x\" onClick={this.addIcon} type = \"icon_arrow_4\"></button>\r\n              <p className=\"attribute\">Arrow3</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-star fa-2x\" onClick={this.addIcon} type = \"icon_star\"></button>\r\n              <p className=\"attribute\">Star1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-certificate fa-2x\" onClick={this.addIcon} type = \"icon_star_2\"></button>\r\n              <p className=\"attribute\">Star2</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"noicon\" onClick={this.addIcon} type = \"icon_polygon\">\r\n                <svg className=\"icon_svg\" viewBox=\"-16 -25 100 100\">\r\n                  <path d={iconList.icon_polygon}></path>\r\n                </svg>\r\n              </button>\r\n              <p className=\"attribute\">Polygon</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-map-marker-alt fa-2x\" onClick={this.addIcon} type = \"icon_location\"></button>\r\n              <p className=\"attribute\">Location</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-heart fa-2x\" onClick={this.addIcon} type = \"icon_heart\"></button>\r\n              <p className=\"attribute\">Heart1</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"far fa-heart fa-2x\" onClick={this.addIcon} type = \"icon_heart2\"></button>\r\n              <p className=\"attribute\">Heart2</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-comment-alt fa-2x\" onClick={this.addIcon} type = \"icon_bubble\"></button>\r\n              <p className=\"attribute\">Bubble</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-cloud fa-2x\" onClick={this.addIcon} type = \"icon_cloud\"></button>\r\n              <p className=\"attribute\">Cloud</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-camera fa-2x\" onClick={this.addIcon} type = \"icon_camera\"></button>\r\n              <p className=\"attribute\">Camera</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fab fa-instagram fa-2x\" onClick={this.addIcon} type = \"icon_instagram\"></button>\r\n              <p className=\"attribute\">Instagram</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"far fa-user fa-2x\" onClick={this.addIcon} type = \"icon_man\"></button>\r\n              <p className=\"attribute\">User</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fab fa-facebook fa-2x\" onClick={this.addIcon} type = \"icon_facebook\"></button>\r\n              <p className=\"attribute\">Facebook</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fab fa-apple fa-2x\" onClick={this.addIcon} type = \"icon_apple\"></button>\r\n              <p className=\"attribute\">Apple</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-question fa-2x\" onClick={this.addIcon} type = \"icon_question\"></button>\r\n              <p className=\"attribute\">Question</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-exclamation fa-2x\" onClick={this.addIcon} type = \"icon_exclamation\"></button>\r\n              <p className=\"attribute\">Exclamation</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-thumbs-up fa-2x\" onClick={this.addIcon} type = \"icon_thumbs_up\"></button>\r\n              <p className=\"attribute\">ThumbUp</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-search fa-2x\" onClick={this.addIcon} type = \"icon_magnifier\"></button>\r\n              <p className=\"attribute\">Search</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-undo-alt fa-2x\" onClick={this.addIcon} type = \"icon_undo\"></button>\r\n              <p className=\"attribute\">Undo</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fab fa-twitter fa-2x\" onClick={this.addIcon} type = \"icon_twitter\"></button>\r\n              <p className=\"attribute\">Twitter</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-tree fa-2x\" onClick={this.addIcon} type = \"icon_tree1\"></button>\r\n              <p className=\"attribute\">Tree1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-minus-circle fa-2x\" onClick={this.addIcon} type = \"icon_minus_circle\"></button>\r\n              <p className=\"attribute\">Minus Circle</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-folder fa-2x\" onClick={this.addIcon} type = \"icon_folder1\"></button>\r\n              <p className=\"attribute\">Folder1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"far fa-folder fa-2x\" onClick={this.addIcon} type = \"icon_folder2\"></button>\r\n              <p className=\"attribute\">Folder2</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-wifi fa-2x\" onClick={this.addIcon} type = \"icon_wifi\"></button>\r\n              <p className=\"attribute\">Wifi</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-paper-plane fa-2x\" onClick={this.addIcon} type = \"icon_paper_plane1\"></button>\r\n              <p className=\"attribute\">Paper Plane1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"far fa-paper-plane fa-2x\" onClick={this.addIcon} type = \"icon_paper_plane2\"></button>\r\n              <p className=\"attribute\">Paper Plane2</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-check fa-2x\" onClick={this.addIcon} type = \"icon_check1\"></button>\r\n              <p className=\"attribute\">Check1</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-dollar-sign fa-2x\" onClick={this.addIcon} type = \"icon_dollar_sign\"></button>\r\n              <p className=\"attribute\">Dollar</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-yen-sign fa-2x\" onClick={this.addIcon} type = \"icon_yen_sign\"></button>\r\n              <p className=\"attribute\">Yen</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-umbrella fa-2x\" onClick={this.addIcon} type = \"icon_umbrella\"></button>\r\n              <p className=\"attribute\">Umbrella</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-video fa-2x\" onClick={this.addIcon} type = \"icon_video\"></button>\r\n              <p className=\"attribute\">Video</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fab fa-youtube fa-2x\" onClick={this.addIcon} type = \"icon_youtube\"></button>\r\n              <p className=\"attribute\">Youtube</p>\r\n            </div>\r\n            \r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-mouse-pointer fa-2x\" onClick={this.addIcon} type = \"icon_cursor1\"></button>\r\n              <p className=\"attribute\">Cursor1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fab fa-windows fa-2x\" onClick={this.addIcon} type = \"icon_windows\"></button>\r\n              <p className=\"attribute\">Windows</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"fas fa-paw fa-2x\" onClick={this.addIcon} type = \"icon_paw\"></button>\r\n              <p className=\"attribute\">Paw</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"noicon\" onClick={this.addIcon} type = \"icon_time1\"> \r\n                <svg className=\"icon_svg\" viewBox=\"-3 -3 29 29\" > \r\n                  <path d={iconList.icon_time1}> \r\n                  </path> \r\n                </svg> \r\n              </button>\r\n              <p className=\"attribute\">Time1</p>\r\n            </div>\r\n\r\n            <div className=\"icon_div\">\r\n              <button className=\"noicon\" onClick={this.addIcon} type = \"icon_fish\"> \r\n                <svg className=\"icon_svg\" viewBox=\"-3 -3 29 29\" > \r\n                  <path d={iconList.icon_fish}> \r\n                  </path> \r\n                </svg> \r\n              </button>\r\n              <p className=\"attribute\">Fish</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"option-title\">{i18next.t('ui/icon.Color')}</div>\r\n          \r\n          <div className=\"color-picker\">\r\n            <input type=\"color\" id=\"colorSource\" value={this.state.hexcolor} onChange = { this.handleColorChange}/>\r\n            <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/icon.Color opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" value = {this.state.color.a} min='0' max='1' step='0.01' onChange = {this.handleOpacityChange} />\r\n            </div>            \r\n          </div>\r\n          {/* <div>\r\n            <button onClick = { this.handlePipette }>{i18next.t('ui/icon.Pipette')}</button>\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import switchTools from '../helper/SwitchTools'\r\nimport {convertRGB, HEXtoRGBA, } from '../helper/ConverRGB'\r\nimport React, {Component} from 'react';\r\nimport {fontList, textIcon} from '../const/consts';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../../css/ui/Text.scss';\r\n\r\nexport default withTranslation()(class Text extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = { \r\n      fontSize : 40 ,\r\n      font : 'Arial',\r\n      color: {\r\n        r: '0',\r\n        g: '0',\r\n        b: '0',\r\n        a: '1'\r\n      },\r\n      bgcolor : {\r\n        r: '255',\r\n        g: '255',\r\n        b: '255',\r\n        a: '1'\r\n      },\r\n      hexcolor : '#ffffff',\r\n      hexbgcolor : '#ffffff',\r\n      showfont: false,\r\n    };\r\n    this.isPressed = false;\r\n  }\r\n\r\n  componentDidMount(){\r\n    // console.log('Text UI Mount');\r\n    document.addEventListener('mousedown', this.onFontSizemousedownEvent);\r\n    document.addEventListener('mouseup', this.onFontSizemouseupEvent);\r\n    this.documentUpdate();\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    // console.log('Text UI Update');\r\n    this.documentUpdate();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    // console.log('Text UI Unmount');\r\n    document.removeEventListener('mousedown', this.onShowFontEvent);\r\n    document.removeEventListener('mousedown', this.onFontSizemousedownEvent);\r\n    document.removeEventListener('mouseup', this.onFontSizemouseupEvent);\r\n  }\r\n\r\n  documentUpdate = () => {\r\n    if(this.props.object.type === 'textbox'){\r\n      switchTools('text', false)\r\n      this.textSelection(this.props.object);\r\n    }\r\n    else{\r\n      switchTools('text', true)\r\n    }\r\n  }\r\n\r\n  textSelection = (text) => {\r\n    if(text.fontStyle === \"italic\"){\r\n      document.getElementById('italic_checkbox').checked = true;\r\n    }\r\n    else{\r\n      document.getElementById('italic_checkbox').checked = false;\r\n    }\r\n    if(text.fontWeight === \"bold\"){\r\n      document.getElementById('bold_checkbox').checked = true;\r\n    }\r\n    else{\r\n      document.getElementById('bold_checkbox').checked = false;\r\n    }\r\n    if(text.textBackgroundColor){\r\n      document.getElementById('textbg').checked = true;\r\n    }\r\n    else{\r\n      document.getElementById('textbg').checked = false;\r\n    }\r\n    document.getElementById('fontSize').value = text.fontSize;\r\n  }\r\n\r\n  handlefontSizeChange = (event) => {\r\n    const fontSize = event.target.value;\r\n    let textOption = event.target.getAttribute('text');\r\n    this.setState({fontSize : fontSize});\r\n    this.props.textObject(textOption, true, fontSize);\r\n  }\r\n  \r\n  fontListUp = () => {\r\n    let i = 0;\r\n    return fontList.map(font => (<li key={i++} className=\"font-li\" value={font} style={{'fontFamily':font, 'cursor':'pointer'}} onClick={(e) => this.handlefontlistClicked(font, e)}>{font}</li>));\r\n  }\r\n\r\n  handlefontlistClicked = (value) => {\r\n    this.setState({font: value, showfont: false});\r\n    this.props.textObject('fontfamily', true, value);\r\n  }\r\n\r\n  handlefontSizeButton = (event) => {\r\n    let textOption = event.target.getAttribute('text');\r\n    let level = event.target.getAttribute(\"updown\") === 't' ? 1 : -1;\r\n    new Promise((resolve) => {\r\n      this.props.textObject(textOption, true, this.state.fontSize + level);\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.setState({fontSize : this.state.fontSize + level});\r\n    })\r\n  }\r\n\r\n  onFontSizemousedownEvent = (event) => {\r\n    if(event.target.className === \"fontSizeBtn\") {\r\n      this.isPressed =  true;\r\n      this.handlefontSizeInterval(event);\r\n    }\r\n  }\r\n\r\n  onFontSizemouseupEvent = (event) => {\r\n    if(event.target.className === \"fontSizeBtn\") {\r\n      this.isPressed =  false;\r\n    }\r\n  }\r\n\r\n  handlefontSizeInterval = (event) => {\r\n    if(this.isPressed) {\r\n      this.handlefontSizeButton(event);\r\n      setTimeout(() => {\r\n        this.handlefontSizeInterval(event);\r\n      },100)\r\n    }\r\n  }\r\n\r\n  addText = () => {\r\n    this.props.addText({size : this.state.fontSize, color : convertRGB(this.state.color), font : this.state.font});\r\n  }\r\n\r\n  textAction = (event) => {\r\n    let textOption = event.target.getAttribute('text');\r\n    if(textOption === 'fontfamily') { this.setState({ font : event.target.value }); }\r\n    this.props.textObject(textOption, event.target.checked, event.target.value);\r\n  }\r\n\r\n  textActionColor = (event) => {\r\n    let textOption = event.target.getAttribute('text');\r\n    this.props.textObject(textOption, event.target.checked, convertRGB(this.state.bgcolor));\r\n  }\r\n\r\n  setColor = (color) => {\r\n    this.setState({ color: color })\r\n  }\r\n\r\n  handlePipette = () => {\r\n    this.props.pipette.enablePipette(this.setColor); \r\n  }\r\n\r\n  handleColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let color = HEXtoRGBA(event.target.value, this.state.color.a)\r\n      this.setState({ color : color, hexcolor : event.target.value});\r\n      resolve(color);\r\n    })\r\n    .then((color) => {\r\n      this.props.setColor({rgb : color});\r\n    })\r\n  }\r\n\r\n  handleOpacityChange = (event) => {\r\n    let change = this.state.color;\r\n    change.a = event.target.value;\r\n    this.setState({ color : change });\r\n    this.props.setColor({rgb : this.state.color});\r\n  }\r\n\r\n  handleBGColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      this.setState({ bgcolor: HEXtoRGBA(event.target.value, this.state.bgcolor.a), hexbgcolor : event.target.value })\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      if(document.getElementById('textbg').checked){\r\n        this.props.textObject(\"background-color\", true, convertRGB(this.state.bgcolor));\r\n      } \r\n    })\r\n\r\n  }\r\n\r\n  handleBGOpacityChange = (event) => {\r\n    let change = this.state.bgcolor;\r\n    change.a = event.target.value;\r\n    this.setState({ bgcolor : change });\r\n    if(document.getElementById('textbg').checked){\r\n      this.props.textObject(\"background-color\", true, convertRGB(this.state.bgcolor));\r\n    } \r\n  }\r\n\r\n  handlefontfamilybutton = () => {\r\n    this.setState({showfont: !this.state.showfont});\r\n    document.addEventListener('mousedown', this.onShowFontEvent);\r\n  }\r\n\r\n  onShowFontEvent = (event) => {\r\n    if(event.target.className !== 'font-style' && event.target.className !== 'font-ul' && event.target.className !== 'fontfamily-button' && event.target.className !== 'font-li'){\r\n      this.setState({showfont: false});\r\n    }\r\n    document.removeEventListener('mousedown', this.onShowFontEvent);\r\n  }\r\n\r\n  render(){\r\n    let fontlist = null;\r\n    if(this.state.showfont) {\r\n      fontlist =\r\n      <ul className=\"font-ul\">\r\n        {this.fontListUp()}\r\n      </ul>\r\n    }\r\n    let choose = this.props.object.fontFamily || i18next.t('ui/text.Font family');\r\n\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n            {i18next.t('ui/text.Text')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-textmenu\">\r\n          <label htmlFor=\"add-text\" className=\"option-title\">{i18next.t('ui/text.Add Text')}</label>\r\n          <div className=\"add-text\">\r\n            <button onClick={this.addText}>{i18next.t('ui/text.New Text')}</button>\r\n          </div>\r\n          <label htmlFor='fontfamily' className=\"option-title\">{i18next.t('ui/text.Font')}</label>\r\n          <div className={this.props.object.type ==='textbox' ? \"font-style\" : \"font-style-disabled\" } onClick={this.handlefontfamilybutton}>\r\n            <button className=\"fontfamily-button\" onClick={this.handlefontfamilybutton} style={{'fontFamily': this.props.object.fontFamily}} disabled = {this.props.object.type ==='textbox' ? false : true }>{choose}</button>\r\n            {fontlist}\r\n          </div>\r\n          <div className=\"size-align\">\r\n            <div className={this.props.object.type ==='textbox' ? \"font-size\" : \"font-size-disabled\" } >\r\n            <label htmlFor='fontSize' className=\"option-title\">{i18next.t('ui/text.Font size')}</label>\r\n              <input \r\n                type='number' \r\n                onChange={this.handlefontSizeChange} \r\n                text='fontSize'\r\n                name='fontSize'\r\n                id='fontSize'\r\n                min='1'\r\n                value={this.state.fontSize}\r\n                disabled = {this.props.object.type ==='textbox' ? false : true }\r\n              />\r\n            </div>\r\n            <div className=\"text-align\">\r\n              <label htmlFor=\"align\" className=\"option-title\">{i18next.t('ui/text.Align')}</label>\r\n              <div className={this.props.object.type ==='textbox' ? \"align-button\" : \"align-button-disabled\"}>\r\n                <label>\r\n                  <button type='checkbox' className='align' id=\"left-align\" onClick={this.textAction} text='left-align'></button>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                    <path d={textIcon.alignLeft}/>\r\n                  </svg>\r\n                </label>\r\n                <label>\r\n                  <button type='checkbox' className='align' id=\"center-align\" onClick={this.textAction} text='center-align'></button>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                    <path d={textIcon.alignCenter}/>\r\n                  </svg>\r\n                </label>\r\n                <label>\r\n                  <button type='checkbox' className='align' id=\"right-align\" onClick={this.textAction} text='right-align'></button>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                    <path d={textIcon.alignRight}/>\r\n                  </svg>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <label htmlFor=\"text\" className=\"option-title\">{i18next.t('ui/text.Weight')}</label>\r\n          <div className=\"font-weight\">\r\n            <div className={this.props.object.type ==='textbox' ? \"bold\" : \"bold-disabled\"}>\r\n              <label>\r\n                <input type='checkbox' onClick={this.textAction} text='bold' id='bold_checkbox' disabled = {this.props.object.type ==='textbox' ? false : true } />\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\">\r\n                  <path d={textIcon.bold}/>\r\n                </svg>\r\n              </label>\r\n            </div>\r\n            <div className={this.props.object.type ==='textbox' ? \"italic\" : \"italic-disabled\"}>\r\n              <label>\r\n              <input type='checkbox' onClick={this.textAction} text='italic' id='italic_checkbox' disabled = {this.props.object.type ==='textbox' ? false : true } />\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\">\r\n                  <path d={textIcon.italic}/>\r\n                </svg>\r\n              </label>\r\n            </div>\r\n            <div className={this.props.object.type ==='textbox' ? \"underline\" : \"underline-disabled\"}>\r\n              <label>\r\n              <input type='checkbox' onClick={this.textAction} text='underline' id='underline_checkbox' disabled = {this.props.object.type ==='textbox' ? false : true } />\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\">\r\n                  <path d={textIcon.underline}/>\r\n                </svg>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"option-title\">{i18next.t('ui/text.Text background')}</div>\r\n          <div className=\"text-bg\">\r\n            <input type='checkbox' onClick={this.textActionColor} id=\"textbg\" text=\"background-color\" disabled = {this.props.object.type ==='textbox' ? false : true }/>\r\n            <label htmlFor=\"textbg\">{i18next.t('ui/text.Active')}</label>\r\n          </div>\r\n\r\n          <label className=\"option-title\">{i18next.t('ui/text.Text color')}</label>\r\n          <div className=\"color-picker\">\r\n            <input type=\"color\" id=\"colorSource\" value={this.state.hexcolor} onChange = { this.handleColorChange }/>\r\n            <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/text.Text opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" value = {this.state.color.a} min='0' max='1' step='0.01' onChange = {this.handleOpacityChange} />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <label className=\"option-title\">{i18next.t('ui/text.Text bg color')}</label>\r\n          <div className=\"color-picker\">\r\n            <input type=\"color\" id=\"colorSource\" value={this.state.hexbgcolor} onChange = { this.handleBGColorChange }/>\r\n            <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/text.Text opacity')}: {this.state.bgcolor.a} </div>\r\n                <input type=\"range\" value = {this.state.bgcolor.a} min='0' max='1' step='0.01' onChange = {this.handleBGOpacityChange} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div>\r\n            <button onClick = { this.handlePipette }>{i18next.t('ui/text.Pipette')}</button>\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../../css/ui/Object.scss';\r\nimport { ObjectIcon } from '../const/consts';\r\n\r\nexport default withTranslation()(class Objects extends Component {\r\n  // constructor(props){\r\n  //   super(props);\r\n  // }\r\n\r\n  componentDidMount() {\r\n    // console.log('Object UI Mount');\r\n    this.documentUpdate();\r\n  }\r\n  componentDidUpdate() {\r\n    // console.log('Object UI Update');\r\n    this.documentUpdate();\r\n  }\r\n  componentWillUnmount() {\r\n    // console.log('Object UI Unmount');\r\n  }\r\n\r\n  documentUpdate = () => {\r\n    document.getElementById(\"lockScale\").checked = this.props.getLockScale();\r\n  }\r\n\r\n  handleScaleXChange = (event) => {\r\n    this.props.scaleXChange(event.target.value);\r\n  }\r\n\r\n  handleScaleYChange = (event) => {\r\n    this.props.scaleYChange(event.target.value);\r\n  }\r\n\r\n  flipObject = (event) => {\r\n    let option = event.target.getAttribute('flip');\r\n    this.props.flipObject(option);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/object.Object')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-objmenu\">\r\n          <div className=\"option-title\"> {i18next.t('ui/object.Order')}</div>\r\n          <div className=\"obj-order\">\r\n            <div className =\"order-div\">\r\n              <svg onClick={this.props.bringToFront} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={ObjectIcon.bringToFront}/>\r\n              </svg>\r\n              <p className=\"attribute\">{i18next.t('ui/object.BringToFront')}</p>\r\n            </div>\r\n\r\n            <div className =\"order-div\">\r\n              <svg onClick={this.props.sendToBack} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={ObjectIcon.sendToBack}/>\r\n              </svg>\r\n              <p className=\"attribute\">{i18next.t('ui/object.SendToBack')}</p>\r\n            </div>\r\n\r\n            <div className =\"order-div\">\r\n              <svg onClick={this.props.bringForward} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={ObjectIcon.bringForward}/>\r\n              </svg>\r\n              <p className=\"attribute\">{i18next.t('ui/object.BringForward')}</p>\r\n            </div>\r\n\r\n            <div className =\"order-div\">\r\n              <svg onClick={this.props.sendBackwards} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={ObjectIcon.sendBackwards}/>\r\n              </svg>\r\n              <p className=\"attribute\">{i18next.t('ui/object.SendBackwards')}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flip-delete\">\r\n            <div className=\"obj-flip\">\r\n              <div className=\"option-title\">{i18next.t('ui/object.Flip')}</div>\r\n              <div className=\"flip-button\">\r\n                <div className=\"flip-div\">\r\n                  <svg onClick={this.flipObject} flip=\"X\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50 50\">\r\n                    <path flip=\"X\" d={ObjectIcon.flipX} overflow=\"visible\" fontFamily=\"Bitstream Vera Sans\" />\r\n                  </svg>\r\n                  <p className=\"attribute\">{i18next.t('ui/object.Flip x')}</p>\r\n                </div>\r\n                <div className=\"flip-div\">\r\n                  <svg onClick={this.flipObject} flip=\"Y\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50 50\">\r\n                    <path flip=\"Y\" d={ObjectIcon.flipY} overflow=\"visible\" fontFamily=\"Bitstream Vera Sans\" />\r\n                  </svg>\r\n                  <p className=\"attribute\">{i18next.t('ui/object.Flip y')}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"obj-delete\">\r\n              <div className=\"option-title\">{i18next.t('ui/object.Delete')}</div>\r\n              <div className=\"delete-button\">\r\n                <div className=\"delete-div\">\r\n                  <svg onClick={this.props.deleteObject} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\">\r\n                    <path d={ObjectIcon.deleteObject}/>\r\n                  </svg>\r\n                  <p className=\"attribute\">{i18next.t('ui/object.Delete')}</p>\r\n                </div>\r\n                <div className=\"delete-div\">\r\n                  <svg onClick={this.props.deleteAllObject} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\">\r\n                    <path d={ObjectIcon.deleteAllObject}/>\r\n                  </svg>\r\n                  <p className=\"attribute\">{i18next.t('ui/object.Deleteall')}</p>\r\n                </div>\r\n\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/object.Group')}</div>\r\n          <div className=\"obj-group\">\r\n            <div className=\"group-div\">\r\n              <svg onClick={this.props.makeGroup} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={ObjectIcon.makeGroup}/>\r\n              </svg>\r\n              <p className=\"attribute\">{i18next.t('ui/object.Group')}</p>\r\n            </div>\r\n            <div className=\"group-div\">\r\n              <svg onClick={this.props.unGroup} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={ObjectIcon.unGroup}/>\r\n              </svg>\r\n              <p className=\"attribute\">{i18next.t('ui/object.Ungroup')}</p>\r\n            </div>\r\n\r\n\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/object.Change Scale')}</div>\r\n          <div className=\"obj-zoom\">\r\n            <div className=\"zoom-box\">\r\n              <div className=\"keep-ratio\">\r\n                <label className=\"mycheckbox path\">\r\n                  <input type=\"checkbox\" id=\"lockScale\" onClick={this.props.lockScaleRatio} disabled={this.props.object.type === 'not active' ? true : false} />\r\n                  <svg viewBox=\"0 0 21 21\">\r\n                    <path d={ObjectIcon.checkbox}></path>\r\n                  </svg>\r\n                </label>\r\n                <div>{i18next.t('ui/object.Lock Ratio')}</div>\r\n              </div>\r\n              <input\r\n                type='range'\r\n                name='scaleX'\r\n                min='1'\r\n                max='200'\r\n                step='1'\r\n                disabled={this.props.object.type === 'not active' || this.props.object.type === 'path' ? true : false}\r\n                value={this.props.object.scaleX * 100}\r\n                onChange={this.handleScaleXChange}\r\n              />\r\n              {this.props.object.type === 'not active' || this.props.object.type === 'path' ? \r\n              null : <div><label>X : {this.props.object.scaleX * 100}%</label></div>}\r\n              \r\n              <input\r\n                type='range'\r\n                name='scaleY'\r\n                min='1'\r\n                max='200'\r\n                step='1'\r\n                disabled={this.props.object.type === 'not active' || this.props.object.type === 'path' ? true : false}\r\n                value={this.props.object.scaleY * 100}\r\n                onChange={this.handleScaleYChange}\r\n              />\r\n              {this.props.object.type === 'not active' || this.props.object.type === 'path' ? \r\n              null : <div><label>Y : {this.props.object.scaleY * 100}%</label></div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import React, {Component} from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { RotationIcon } from '../const/consts'\r\nimport '../../css/ui/Rotation.scss';\r\n\r\nexport default withTranslation()(class Rotation extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {angle : 0}\r\n  }\r\n\r\n  componentDidMount(){\r\n    // console.log('Rotation UI Mount');\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Rotation UI Update');\r\n  }\r\n  componentWillUnmount(){\r\n    // console.log('Rotation UI Unmount');\r\n  }\r\n\r\n  handleAngleChange = (event) => {\r\n    this.props.setObjectAngle(event.target.value);\r\n  }\r\n\r\n  rotateObject = (event) => {\r\n    var angle = event.target.getAttribute('angle');\r\n    this.props.rotateObjectAngle(Number(angle));\r\n  }\r\n\r\n  setAngle = (event) => {\r\n    var changeAngle = event.target.getAttribute('angle');\r\n    this.props.setObjectAngle(Number(changeAngle));\r\n  }\r\n\r\n  angleValue = () => {\r\n    if(this.props.object.type !== 'not active'){\r\n      return this.props.object.angle;\r\n    }\r\n    else if(this.props.getBackgroundImage()){\r\n      // console.log(this.props.getBackgroundImage().angle)\r\n      return this.props.getBackgroundImage().angle\r\n    }\r\n    else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/rotation.Rotation')} ( {this.props.object.type} : {this.props.object.angle})\r\n        </div>\r\n        <div className=\"sub-rotatemenu\">\r\n          <div className=\"rotate-degree\">\r\n            <div className=\"option-title\">\r\n              {i18next.t('ui/rotation.Set angle')}\r\n            </div>\r\n            <div className=\"degree-button\">\r\n              <button onClick={this.setAngle} angle='0' >0</button>\r\n              <button onClick={this.setAngle} angle='90' >90</button>\r\n              <button onClick={this.setAngle} angle='180' >180</button>\r\n              <button onClick={this.setAngle} angle='270' >270</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"rotate-clock\">\r\n            <div className=\"option-title\">\r\n              {i18next.t('ui/rotation.Rotate 30')}\r\n            </div>\r\n            <div className=\"clock-button\">\r\n              <div>\r\n                <button id=\"clockwise\" onClick={this.rotateObject} angle='-30'>\r\n                  <svg className=\"rotation-svg\" id=\"left-icon\" version=\"1.1\" viewBox=\"0 0 486.805 486.805\" onClick={this.rotateObject} angle='-30'>\r\n                    <path d = {RotationIcon.left} />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              <div>\r\n                <button id=\"c-clockwise\" onClick={this.rotateObject} angle='30'>\r\n                  <svg className=\"rotation-svg\" version=\"1.1\" viewBox=\"0 0 80 80 \" onClick={this.rotateObject} angle='30'>\r\n                    <path d = {RotationIcon.right} />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"rotate-input\">\r\n            <label htmlFor=\"angle\" className=\"option-title\">{i18next.t('ui/rotation.Direct Input')}</label>\r\n            <input\r\n              type='number'\r\n              name='angle'\r\n              min='-360'\r\n              max='360'\r\n              step='1'\r\n              placeholder='0'\r\n              value={this.angleValue()}\r\n              onChange={this.handleAngleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import React, {Component} from 'react';\r\nimport { HEXtoRGBA } from '../helper/ConverRGB'\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../../css/ui/Shape.scss'\r\n\r\nexport default withTranslation()(class Shape extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      color: {\r\n        r: '0',\r\n        g: '0',\r\n        b: '0',\r\n        a: '1'\r\n      },\r\n      hexcolor : '#000000'\r\n    }\r\n    this.spoid = {r :0, g:0, b:0, a:1};\r\n  }\r\n  componentDidMount(){\r\n    // console.log('Shape UI Mount');\r\n    // this.documentUpdate();\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Shape UI Update');\r\n    // this.documentUpdate();\r\n  }\r\n  componentWillUnmount(){\r\n    // console.log('Shape UI Unmount');\r\n  }\r\n\r\n  documentUpdate = () => {\r\n\r\n  }\r\n\r\n  addShape = (event) => {\r\n    this.props.addShape(event.target.getAttribute('type'), this.state.color);\r\n  }\r\n\r\n  addLine = (event) => {\r\n    this.props.addLine({ color : this.state.color});\r\n  }\r\n\r\n  handleEndAngleChange = (event) => {\r\n    this.props.setEndAngle(event.target.value)\r\n  }\r\n\r\n  handleColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let color = HEXtoRGBA(event.target.value, this.state.color.a)\r\n      this.setState({ color : color, hexcolor : event.target.value});\r\n      resolve(color);\r\n    })\r\n    .then((color) => {\r\n      this.props.setColor({rgb : color});\r\n    })\r\n  }\r\n\r\n  handleOpacityChange = (event) => {\r\n    let change = this.state.color;\r\n    change.a = event.target.value;\r\n    this.setState({ color : change });\r\n    this.props.setColor({rgb : this.state.color});\r\n  }\r\n\r\n  setColor = (color) => {\r\n    this.setState({ color: color })\r\n  }\r\n\r\n  handlePipette = () => {\r\n    this.props.pipette.enablePipette(this.setColor); \r\n  }\r\n\r\n  handleShapeSelect = (shape) => {\r\n    // \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/shape.Shape')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-shape\">\r\n          <div className=\"option-title\">{i18next.t('ui/shape.Shape')}</div>\r\n          <div className=\"shape-list\">\r\n            <button onClick={this.addShape} type=\"triangle\">{i18next.t('ui/shape.Triangle')}</button>\r\n            <button onClick={this.addShape} type=\"rectangle\">{i18next.t('ui/shape.Rectangle')}</button>\r\n            <button onClick={this.addShape} type=\"ellipse\">{i18next.t('ui/shape.Ellipse')}</button>\r\n            <button onClick={this.addShape} type=\"circle\">{i18next.t('ui/shape.Circle')}</button>\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/shape.Adjust degree')}</div>\r\n          <div className={this.props.object.type ==='circle' ? \"circle-degree\" : \"circle-degree-disabled\"}>\r\n            <input \r\n            type=\"number\" \r\n            name=\"endAngle\" \r\n            min='0' \r\n            max='360' \r\n            step = '1' \r\n            value = {this.props.object && this.props.object.type ==='circle' ? (this.props.object.endAngle * 180 / Math.PI).toFixed(0) : 0} \r\n            disabled = {this.props.object.type ==='circle' ? false : true }\r\n            onChange = {this.handleEndAngleChange}/>{i18next.t('ui/shape.Degree')}\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/shape.Line')}</div>\r\n          <div className=\"line-list\">\r\n            <button onClick={this.addLine} type=\"line\">{i18next.t('ui/shape.Line')}</button>\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/shape.Free making')}</div>\r\n          <div className=\"free-making\">\r\n            <button onClick={this.props.makePolygonWithClick} type=\"line\">{i18next.t('ui/shape.Click')}</button>\r\n            <button onClick={this.props.makePolygonWithDrag} type=\"line\">{i18next.t('ui/shape.Drag')}</button>\r\n          </div>\r\n          <div className=\"color-picker\">            \r\n            <input type=\"color\" id=\"colorSource\" value={this.state.hexcolor} onChange = { this.handleColorChange}/>\r\n            <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/shape.Color opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" value = {this.state.color.a} min='0' max='1' step='0.01' onChange = {this.handleOpacityChange} />\r\n            </div>\r\n          </div>\r\n          {/* <div>\r\n            <button onClick = { this.handlePipette }>{i18next.t('ui/shape.Pipette')}</button>\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import React, {Component} from 'react';\r\nimport {convertRGB, HEXtoRGBA } from '../helper/ConverRGB'\r\nimport i18next from \"../../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../../css/ui/Draw.scss';\r\nimport pencilBrush from '../../css/img/brush/pencilBrush.png';\r\nimport circleBrush from '../../css/img/brush/circleBrush.png';\r\nimport patternBrush from '../../css/img/brush/patternBrush.png';\r\nimport sprayPatternBrush from '../../css/img/brush/sprayPatternBrush.png';\r\nimport vLinePatternBrush from '../../css/img/brush/vLinePatternBrush.png';\r\nimport hLinePatternBrush from '../../css/img/brush/hLinePatternBrush.png';\r\nimport squarePatternBrush from '../../css/img/brush/squarePatternBrush.png';\r\nimport diamondPatternBrush from '../../css/img/brush/diamondPatternBrush.png';\r\n\r\nexport default withTranslation()(class Draw extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = { \r\n      color: {\r\n        r: '0',\r\n        g: '0',\r\n        b: '0',\r\n        a: '1',\r\n      },\r\n      mode : false,\r\n      hexcolor : \"#000000\",\r\n      lineWidth : 10,\r\n      showbrush: false,\r\n      brush_now: 'pencilBrush'\r\n    };\r\n    this.brush = ['pencilBrush', 'circleBrush', 'patternBrush', 'sprayBrush', 'vLinePatternBrush', 'hLinePatternBrush', 'squarePatternBrush', 'diamondPatternBrush'];\r\n    this.img = [pencilBrush, circleBrush, patternBrush, sprayPatternBrush, vLinePatternBrush, hLinePatternBrush, squarePatternBrush, diamondPatternBrush];\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log('Draw UI Mount');\r\n  }\r\n  componentDidUpdate(){\r\n    console.log('Draw UI Update');\r\n  }\r\n  componentWillUnmount(){\r\n    console.log('Draw UI Unmount');\r\n    this.props.closeDrawing();\r\n  }\r\n\r\n  handleColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      this.setState({ color : HEXtoRGBA(event.target.value, this.state.color.a), hexcolor : event.target.value});\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      this.props.changeDrawingColor(convertRGB(this.state.color));\r\n    })\r\n  }\r\n\r\n  handleOpacityChange = (event) => {\r\n    let change = this.state.color;\r\n    change.a = event.target.value;\r\n    this.setState({ color : change });\r\n    this.props.changeDrawingColor(convertRGB(this.state.color));\r\n  }\r\n\r\n  handleDrawingWidth = (event) => {\r\n    const value = event.target.value;\r\n    this.setState( {lineWidth: value} );\r\n    this.props.changeDrawingWidth(parseInt(this.state.lineWidth, 10));\r\n  }\r\n\r\n  handleDrawingBrush = (brush) => {\r\n    this.setState({brush_now: brush,showbrush: false});\r\n    this.props.changeDrawingBrush(this.brush.indexOf(brush), convertRGB(this.state.color) , this.state.lineWidth);\r\n  }\r\n\r\n  brushListUp = () => {\r\n    let i = 0;\r\n    return this.brush.map(br => (\r\n      <img className=\"brush_img\" src={this.img[i++]} key = {i} alt={br} onClick={(e) => this.handleDrawingBrush(br, e)}></img>\r\n    ))\r\n  }\r\n\r\n  handlebrushbutton = () => {\r\n    this.setState({showbrush: !this.state.showbrush});\r\n  }\r\n\r\n  openDrawing = () => {\r\n    this.props.openDrawing(this.state.lineWidth)\r\n    this.setState({mode : true});\r\n  }\r\n\r\n  closeDrawing = () => {\r\n    this.setState({mode : false});\r\n    this.props.closeDrawing();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/draw.Draw')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-draw\">\r\n\r\n          <div className=\"option-title\">{i18next.t('ui/draw.Draw Mode')}</div>\r\n          <div className=\"mode-select\">\r\n            <button className={this.state.mode ? \"selected-button\" : \"unselected-button\" } onClick={this.openDrawing}>Draw</button>\r\n            <button className={this.state.mode ? \"unselected-button\" : \"selected-button\" } onClick={this.closeDrawing}>Select</button>\r\n          </div>\r\n\r\n          <div className=\"option-title\">{i18next.t('ui/draw.Brush type')}</div> \r\n          <div className=\"select-brush\">\r\n            <div>\r\n              <button onClick={this.handlebrushbutton}><img src={this.img[this.brush.indexOf(this.state.brush_now)]} alt={this.state.brush_now}></img></button>\r\n              {this.state.showbrush ? \r\n                <ul className=\"brush_ul\">\r\n                  {this.brushListUp()}\r\n                </ul>\r\n                : null\r\n              }\r\n            </div>\r\n            <div className=\"brush-title\">\r\n              {this.state.brush_now}\r\n            </div>\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/draw.Width')}</div>\r\n          <div className=\"select-width\">\r\n            <input type='range' className='drawing' id='width' min='1' max='100' name='width' step='1' value={this.state.lineWidth} onChange={this.handleDrawingWidth}/>\r\n            <div>{this.state.lineWidth}</div>\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/draw.Line Color')}</div>\r\n          <div className=\"color-picker\">\r\n            <input type=\"color\" id=\"colorSource\" value={this.state.hexcolor} onChange = { this.handleColorChange }/>\r\n            <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/draw.Color opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" value = {this.state.color.a} min='0' max='1' step='0.01' onChange = {this.handleOpacityChange} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n})","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAjCAYAAAC5BAWiAAAEBUlEQVR4Xu2bjVEVQQyAkwqUCtQKxArECtQKhAqUCoQKhAqUCoQKhArUCpQOsII4n5Nzbt4c7E/27t1773aGgZm3e7fJl2ST7ENlGTunAd05iReBZYG+g0YwO+hm9lJE3ojIvogcDDC5FhF+LlT19w4yC4s8C+hm9tpBA/txgVQnqnpaMH9jpprZezf8pyLyQ0SuVBVjD4+1QTczhAH2BxHh79rxRVWPahfPbZ2ZEeE+O/DV7Z2p6nF0z5NDd9gfReQwuvne+q0Ab2ZEuW/3AO/EPVbVs4juJoPuAhGyTiIbfmDtxoM3M3SDQzw07lR1L6LDSaCb2TuHHQnjOXJy9r3dxATPI+D3zJzmhaoia9UYFbqfT5/uycKrNpy5qMnZl/mu8DSPgl8L9PQqktSNAn2kc7tUuWS6eP1d6cIp53sU5IwuqVr2InI1h25mZON49xwGwI9U9XIOm+nvocK7u+WUbpS21aMZ9IAQ1ZsvWIgnnUa8o+Bdyal+7JGll3h399xn0ZylCfTMUiOpjN6EW++64aHXwDIzSjzq19qB15Md08lbW8gPJrXsPVzqhqE3Bn4jIiRhg+G4AXgMBuB4/vlU8F1HhGSqmKHWco4h4wj7LfbcAjphqlaQTthzh53spTcC/x/+WG1cT2afexMqdAa7kshNvuRYR2pOCHqDpA3PPiw9o/xMJBo8SQmY8TmGRti/Kd3H0LPNDAegCdUCdPeKcBeuv9dq6G7JvzKUOjTlDz33iOV6yAQWCm41KPMwJjLkZNTpv9Rh002LRr3+Y9ETx13TLmYEek1Y/yeEC9IkmTIzPIqw96gVeX8O++uucel+3Q4Zwog9iZ9Ei1Ljy9FBFfTKsH7h3t0E9oqXUfrgodzFb/oIR8GUAoqhVyRSCIHFNrkLfkigzAuLlE7W+flo3l19pvvFfum1Hq3QyTpiHm7ZI3f1mzRIanGO5pFwVQlZnu6KpDFSmqRQC9OWnXx4hg/8uYd86m++AdSkHMtRdBK6Z8lc+ZVeizZrJuQIct8ch0/2OzfPnxx2p6Mc6HhLTVk0aVhPGYaXVESddcIHNEcdX/iovg9PyZr6PAc6Xs73tkrG2sJ6apMOH8+fKuwDGsfhDmFtoIsSOTOzlCJXPg9f/RW+r2q65yl4PgY9hgFQtXBWlya+VfKULMrxdKyTHnLOoOQ4mCIDzdlM7pzehQiNHpLVaKOHngTAi7p6ufuNzsuBnnumbyTwIQV6FAA+ySu/af6kDJ+Si/P6cq6wsxM5JppZytuv/OJk9BozauXLesn7XzYPf9SRq5kv5xa3ZJM1XxZocQ0kw3v/FV7zdvU6378evbUaF3F5wqoGiqAv6tsODSzQt4NjkRQL9CJ1bcfkv85CYDMUClHzAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAjCAYAAAC5BAWiAAAE50lEQVR4nO2ZXYgbVRTHj91+3rbW4q2Cyh5BWhhEVOZFq0PRgrMVlBrqi530Sa6FWsyq+DF9qnArQkvehFv6oKagIhHrF1NqfdillNJZtWBnXwQn1gdlfPBrRtTuHh9203Zhk0ySmdzUzu/xHzL3f04myX/OASgoKCgoKCjQAeccpJQlpdReRFyl20/BgDBNc6VhGMt1+yjIGcbYdQAAExMTe4nodyL6qVqtbmtqjuNs0euwDaZp3iqE2F6tVl/xPO8NwzDW+b5/2r/MW4jIhBBPIOJ63X6HBc/zXjRNcx0RxXSZ803N87y3dXtcAOd8rZTyEdM01xDRb1eY/to0zbVttMT3/Q9s275Hdw06cRxnKxFNteuV7/tf6PZ5Cdd1H43j+KQQYjMAgFJqJxH9SETT3WrXIpzzlVEUfdqpV/V6fb9ep1ewWOjoV0PEkfwcDxdp+6IdRFwJ0Dp09KvFcXzBdd2tuuobFLVa7Zn5n/O2fSmVSiu0GhVCPBTH8WS70JGVhoirLcu6U2vBOdFFD0YYY0t6PafnNzaxbfsupdTnjLE1ADALABevePmfrDXO+ZKJiYmTUspnm480/weUUjsgZQ8ajcZMkiSzg/R3Cc45RFH0ZS8BLQstiqL3EXG4/ud6wHXdB6+qgNtFGFvBOe/4zewn8F2NcM6Xpq2Xc64/zKYNY67r3mJZ1o2drmfb9vogCI71GPj2VKvVlznnq/OrOHt83/8wTb1BENQZY0u1GVVKPZUidMwQkc8Y6/r6lUplexzHJ3oJfHEc/6KUei6HsjPHcZwHiOhip9rCMPwYEbtvZFa4rlumzlM1IqK/hRBjvZ6DiKsNw1hLRL+2OaOdtqpWq71kmiZmWX+WhGF4slMdiMgQ8QZtJh3H2UxE59KEDinlnozOvC8MwzOLnZFS+yEIgoOIqO+nsQVNf53q0EraQMU5HxovrUJlL387eTDUITVtoJJS3pH383NGU7/vpZQ2AECakJklzfPa+QuC4N1BelqAYRjXzweMP1uFp6aGiMsQMdf0zBgD13V3xnEctvPSpfYHETXq9fqblUrlyTxvWtu27yaisx38zdi2fW9eHjoSBMH+NOEpiqJTg/TFGFtWq9VeJ6JTXYS7NNpX89rPURSdqdVqh1zX3cYYg34HQYh4cxiG0528+L5fz6pPXWMYBhNC3A/QNihdiOP4W8uyNurw2BxYDGgSuCOKoo+UUru7vQE45yNhGHppzrUsa1NW/embVqFIl5/FQMQF+4Q81rx5a1pBxOXVavVhgNahQ0q5U6/LhXDOR5rj3rzWvHlqQ4HnebtbhY56vX5Qt792WJZleJ53hIgiymHNm6E2S0TnBtWXjqtVx3GOwNx67995iWBuvfdXuVx+NU9z/TI5OTk9Njb29IYNG24bHx8fT5JkJkmS7wBgBubrgAGsg1NodODAgUO9VZkjtm1vFELsEkLssixrVLeffiiVSluUUq85jtMppA5EU0o9r6MPBYswiNA2LJPBApj7gKSUZc/zqpVKZRNA9qHNsiz9+/GC1jDGQAjxmJTyBd/3j4Vh+F6voS0Ignd01jJ0m6dhJUkSOHz48CcAAPv27TsEAMAYGymXy48zxm43DOOm0dFRliTJ7NTU1DcA0JxfNOa1041G4/zx48c/O3r06AlddRQUFFwr/AfHxUdFi342YwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAjCAYAAAC5BAWiAAADsUlEQVR4nO2bPYwUNxTHvXe5A+bQnXIyHwXoCYEQVoJAeQVSgotUQ4tJFCSuHoRAyjQpMgmCZgShYCBFElNESTbtFFSsFNEMEqSwKLeeFrl2y1Bwi5bjYz7WszNzN79qX2P/bY399/PzEtLT09PT09MzDwBg8LF4RwAAexBxffP3bkT8AhEPEEIIpbRZcZbhnK8YYx5IKT9/X7wt2djYOC6lvJmm6e9CiF1a65vZa/7/QPyz1vr5aDS6zhhbaFr/rOSNt2l91oii6MswDPcTQgjnfM0Y86+U8nSVGBGXpJRnKKWd3BLzxtdZtm7JnPOFOuO24zjOW3HXx/MOmx4lP+RZdcRhGH7jOE5rV/5wOPSllJ8Rso08HQA+jePYd113uYBH1xIrpf5o45bv+/65gvp/a1prYSilC1rru1U92lI8bKsnFtGvtf6TMba/WaUlqduzy8Zty3vz9G71/FYSBMF3RT2qRHyCEEIAYDFJkiue5+2z0X5TcM73tFlfKeI49rIsezmDB/84Ho//k1JeY4wt5F2+uK57aDgc3jbGPKzSn+/7B+c0NW9AxGPGmFGOvmedycsreu7fURSdIqT6Vjb5OKbaP1W0/yRJLs7zkKeU+qHo/LSWrR5Z1mNtexYizqSnbtqmpzRVPFVrfUcIsVKnrqmVX0ofIjoAsGpbz+TDLqInSZJvbfdvlYIe+jLLsqdCiF1xHH/NGJubjyZJ8n3ZvN4Y8yIIggu2NDDGDiqlfinSf5qmVwFg3VbftVDQs/+ZeOy8cRxnEIbh5Qp5vhW9lNKB1vp+0f7beIFECCnv4V3Li23r33Ee3jYYY8t15vWc85XxeHy/bPthGJ6oY7xWKJEHP+OcLzWt930EQXAxy7LHVfJ6KeVXALA23Z7jOAMhxBFEXKxSG0jT9DkA7GtqPnIp6Il/eZ7HmlX6cQBgkZB37+YL3oX/KoTYS8jrU3mapj/NUBtYBYC98x5/LmXrvV17wtR0LaCVhGF4ftvVe6dgjC17njdZ+bXX940x9yZ3761FKfUoLw83xjxBxE+a1joLlFKitb6Rlasd3Ch5JjiLiIeaHmsuSqkoLw8XQhxvVqUdGGMrSZLcqqu+3xkKeHir8nDbzOrZnZwfRHSiKDpMyPbw8DJQSgfGmDsV8u6jTeq2guu6B1zXXZryqKec827Ue2eEMTZ545fr2UqpS57nuU1rtsrmv01OAkAH3vDYh3O+OhqNbk/q/5zzNaVU5Pv+jtj5enp6enp6etrDK36/5+iDztpPAAAAAElFTkSuQmCC\"","import React, { Component } from 'react';\r\nimport i18next from \"../../locale/i18n\";\r\nimport '../../css/ui/Canvas.scss';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { HEXtoRGBA } from '../helper/ConverRGB';\r\nimport { ObjectIcon } from '../const/consts';\r\n\r\nexport default withTranslation()(class Canvas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log()\r\n    this.state = {\r\n      cropCanvasSize: { width: props.canvas.width/2, height: props.canvas.height/2},\r\n      displayCropCanvas: false,\r\n      color: {\r\n        r: '128',\r\n        g: '128',\r\n        b: '128',\r\n        a: '1',\r\n      },\r\n      hexcolor : '#808080'\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log('Canvas UI Mount');\r\n    this.canvasUpdate();\r\n  }\r\n  componentDidUpdate() {\r\n    // console.log('Canvas UI Update');\r\n    this.canvasUpdate();\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.cropStopCanvas();\r\n    // console.log('Canvas UI Unmount');\r\n  }\r\n\r\n  canvasUpdate = () => {\r\n    document.getElementById(\"grid-show\").checked = this.props.gridOn;\r\n    document.getElementById(\"grid-snap\").checked = this.props.snapOn;\r\n    document.getElementById(\"object-snap\").checked = this.props.objectSnapOn;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    new Promise((resolve) => {\r\n      this.setState({ cropCanvasSize: this.props.setCropCanvasSize(this.state.cropCanvasSize, event.target.name, event.target.value, this.props.object) });\r\n      resolve();\r\n    })\r\n      .then(() => {\r\n        this.props.handleCropCanvasSizeChange(this.state.cropCanvasSize);\r\n      })\r\n  }\r\n\r\n  cropCanvas = () => {\r\n    this.setState({displayCropCanvas: true});\r\n    this.props.cropCanvas(this.offdisplayCropCanvas);\r\n  }\r\n\r\n  cropEndCanvas = () => {\r\n    this.setState({displayCropCanvas: false});\r\n    this.props.cropEndCanvas(document.getElementById(\"cropfit\").checked);\r\n  }\r\n\r\n  cropStopCanvas = () => {\r\n    this.setState({displayCropCanvas: false});\r\n    this.props.cropStopCanvas();\r\n  }\r\n\r\n  offdisplayCropCanvas = () => {\r\n    this.setState({displayCropCanvas: false});\r\n  }\r\n\r\n  handleColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let color = HEXtoRGBA(event.target.value, this.state.color.a)\r\n      this.setState({ color : color, hexcolor : event.target.value});\r\n      resolve(color);\r\n    })\r\n    .then((color) => {\r\n      console.log(color)\r\n      this.props.changeBackgroundColor(color);\r\n    })\r\n  }\r\n\r\n  handleOpacityChange = (event) => {\r\n    let change = this.state.color;\r\n    change.a = event.target.value;\r\n    this.setState({ color : change });\r\n    this.props.changeBackgroundColor(change);\r\n  }\r\n\r\n  openHiddenMenu = () => {\r\n    document.getElementById(\"hidden-menu\").style = null;\r\n\r\n  }\r\n\r\n  closeHiddenMenu = () => {\r\n    document.getElementById(\"hidden-menu\").style.setProperty(\"display\", \"none\");\r\n  }\r\n\r\n  clearBackgroundColor = () => {\r\n    let change = this.state.color;\r\n    change.a = 0;\r\n    this.setState({ color : change });\r\n    this.props.clearBackgroundColor();\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/canvas.Canvas')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"canvas-menu\">\r\n          {/* <div className=\"canvas-reset\">\r\n              <button onClick={this.props.resetCanvas}> {i18next.t('ui/canvas.ResetCanvas')} </button>\r\n          </div> */}\r\n          <div className=\"option-title\">{i18next.t('ui/canvas.CropCanvas')}</div>\r\n          <div className=\"canvas-crop\">\r\n            <button onClick={this.cropCanvas}>{i18next.t('ui/canvas.CropCanvas')}</button>\r\n            {this.state.displayCropCanvas ?\r\n              <div className=\"crop-box\">\r\n                <div className=\"crop-size-input\">\r\n                  <input\r\n                    type='number'\r\n                    onChange={this.handleChange}\r\n                    name='width'\r\n                    min='1'\r\n                    max={this.props.canvas.width}\r\n                    value={this.state.cropCanvasSize.width}\r\n                  />\r\n                  <div>x</div>\r\n                  <input\r\n                    type='number'\r\n                    onChange={this.handleChange}\r\n                    name='height'\r\n                    min='1'\r\n                    max={this.props.canvas.height}\r\n                    value={this.state.cropCanvasSize.height}\r\n                  />\r\n                </div>\r\n                <button onClick={this.cropEndCanvas}>{i18next.t('ui/canvas.CropEndCanvas')}</button>\r\n                <button onClick={this.cropStopCanvas}>{i18next.t('ui/canvas.CropStopCanvas')}</button>\r\n                <input type=\"checkbox\" id=\"cropfit\" /><label htmlFor=\"cropfit\">{i18next.t('ui/canvas.CropBackground')}</label>\r\n              </div>\r\n              : null\r\n            }\r\n          </div>\r\n          <div className=\"option-title\">{i18next.t('ui/canvas.CanvasColor')}</div>\r\n          <div className=\"color-picker\">\r\n            <input type=\"color\" id=\"colorSource\" value={this.state.hexcolor} onChange = { this.handleColorChange }/>\r\n            <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/canvas.Color opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" value = {this.state.color.a} min='0' max='1' step='0.01' onChange = {this.handleOpacityChange} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"canvas-trans\">\r\n            <button className=\"trans-background\" onClick = {this.clearBackgroundColor}>{i18next.t('ui/canvas.Transparent background')}</button>\r\n          </div>\r\n\r\n          <div className=\"option-title\">{i18next.t('ui/canvas.CanvasEtc')}</div>\r\n          <div className=\"canvas-export-import\">\r\n            <button onClick={this.props.exportCanvas}> {i18next.t('ui/canvas.CanvasExport')} </button>\r\n            <div className=\"file-input-group\">\r\n              <label className=\"input-file-button\" htmlFor=\"_file\">{i18next.t('ui/canvas.CanvasImport')}</label>\r\n              <input name=\"file\" type='file' id='_file' onChange={this.props.localImportCanvas} accept=\".json\" style={{ display: 'none' }}></input>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"option-title\">{i18next.t('ui/canvas.Beta')}</div>\r\n          <div className=\"canvas-beta\">\r\n              <div className=\"beta-checkbox\">\r\n                  <label className=\"mycheckbox path\">\r\n                      <input id=\"grid-snap\" type=\"checkbox\" onClick={this.props.onClickSnap}/>\r\n                      <svg viewBox=\"0 0 21 21\"><path d={ObjectIcon.checkbox}></path></svg>\r\n                  </label>\r\n                  {i18next.t('ui/canvas.GridSnap')}\r\n              </div>\r\n              <div className=\"beta-checkbox\">\r\n                  <label className=\"mycheckbox path\">\r\n                    <input id=\"grid-show\" type=\"checkbox\" onClick={this.props.onClickGrid}/>\r\n                    <svg viewBox=\"0 0 21 21\"><path d={ObjectIcon.checkbox}></path></svg>\r\n                  </label>\r\n                  {i18next.t('ui/canvas.GridShow')}\r\n              </div>\r\n              <div className=\"beta-checkbox\">\r\n                <label className=\"mycheckbox path\">\r\n                    <input id=\"object-snap\" type=\"checkbox\" onClick={this.props.onClickObjectSnap}/>\r\n                    <svg viewBox=\"0 0 21 21\"><path d={ObjectIcon.checkbox}></path></svg>\r\n                </label>\r\n                {i18next.t('ui/canvas.ObjectSnap')}\r\n              </div>\r\n              <div className=\"hidden\">\r\n                <button onClick = {this.openHiddenMenu}>{i18next.t('ui/canvas.OpenHidden')}</button>\r\n                <button onClick = {this.closeHiddenMenu}>{i18next.t('ui/canvas.CloseHidden')}</button>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import React, {Component} from 'react';\r\nimport '../../css/ui/History.scss'\r\nimport { withTranslation } from \"react-i18next\";\r\nclass History extends Component {\r\n  // constructor(props){\r\n  //   super(props);\r\n  // }\r\n  componentDidMount(){\r\n    // console.log('History UI Mount');\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('History UI Update');\r\n  }\r\n  componentWillUnmount(){\r\n    // console.log('History UI Unmount');\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"history\">\r\n        {this.props.showUndoStack()}\r\n        <hr/>\r\n        {this.props.showCurrentState()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withTranslation()(History);","import React, {Component} from 'react';\r\nimport {convertRGB, HEXtoRGBA } from '../helper/ConverRGB';\r\nimport i18next from \"../../locale/i18n\";\r\nimport SwitchTools from '../helper/SwitchTools';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { ObjectIcon } from '../const/consts';\r\nimport '../../css/ui/Effect.scss';\r\n\r\nexport default withTranslation()(class Effect extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      blur : 30, //shadow\r\n      offsetX : 10, //shadow\r\n      offsetY: 10, //shadow\r\n      color: {\r\n        r: '0',\r\n        g: '0',\r\n        b: '0',\r\n        a: '1'\r\n      },\r\n      hexcolor : \"#000000\",\r\n      strokeWidth: 5,\r\n      strokeColor:{\r\n        r:'0',\r\n        g:'0',\r\n        b:'0',\r\n        a:'1'\r\n      },\r\n      hexstrokeColor : \"#000000\",\r\n    }\r\n    this.spoid = {r :0, g:0, b:0, a:1};\r\n  }\r\n  componentDidMount(){\r\n    // console.log('Effect UI Mount');\r\n    this.documentUpdate();\r\n  }\r\n  componentDidUpdate(){\r\n    // console.log('Effect UI Update');\r\n    this.documentUpdate();\r\n  }\r\n  componentWillUnmount(){\r\n    // console.log('Effect UI Unmount');\r\n  }\r\n\r\n  documentUpdate = () => {\r\n    if(this.props.object.type !== \"not active\"){\r\n      if(this.props.object.shadow){\r\n        document.getElementById('shadow_toggle').checked = true;\r\n      }\r\n      else{\r\n        document.getElementById('shadow_toggle').checked = false;\r\n      }\r\n      SwitchTools('shadow', false)\r\n      document.getElementById('shadow_toggle').disabled = false;\r\n    }\r\n    else{\r\n      SwitchTools('shadow', true)\r\n      document.getElementById('shadow_toggle').disabled = true;\r\n    }\r\n\r\n  }\r\n\r\n  handleShadowChange = (event) => {\r\n    let change_state = {};\r\n    change_state[event.target.name] = event.target.value\r\n    this.setState(change_state);\r\n    this.props.setShadow({color : convertRGB(this.state.color), blur : this.state.blur, offsetX : this.state.offsetX, offsetY : this.state.offsetY});\r\n  }\r\n\r\n  toggleShadow = (event) => {\r\n    if(event.target.checked){\r\n      this.props.setShadow({color : convertRGB(this.state.color) , blur : this.state.blur, offsetX : this.state.offsetX, offsetY : this.state.offsetY});\r\n    }\r\n    else{\r\n      this.props.removeShadow();\r\n    }\r\n  }\r\n\r\n\r\n  handleColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let color = HEXtoRGBA(event.target.value, this.state.color.a);\r\n      this.setState({ color : color, hexcolor : event.target.value});\r\n      resolve(color);\r\n    })\r\n    .then((color) => {\r\n      if(document.getElementById(\"shadow_toggle\").checked){\r\n        this.props.setShadow({color : convertRGB(color), blur : this.state.blur, offsetX : this.state.offsetX, offsetY : this.state.offsetY});\r\n      }\r\n    })\r\n  }\r\n\r\n  handleOpacityChange = (event) => {\r\n    let change = this.state.color;\r\n    change.a = event.target.value;\r\n    this.setState({ color : change });\r\n    this.props.setShadow({color : convertRGB(change), blur : this.state.blur, offsetX : this.state.offsetX, offsetY : this.state.offsetY});\r\n  }\r\n\r\n  handlePipette = () => {\r\n    this.props.pipette.enablePipette(this.setColor); \r\n  }\r\n\r\n  setColor = (color) => {\r\n    this.setState({ color: color })\r\n  }\r\n\r\n  handleStrokeWidthChange = (event) => {\r\n    this.setState({ strokeWidth : Number(event.target.value)});\r\n    this.props.setStroke({ color : convertRGB(this.state.strokeColor), width : Number(event.target.value)});\r\n  }\r\n\r\n  handleStrokeColorChange = (event) => {\r\n    new Promise((resolve) => {\r\n      let color = HEXtoRGBA(event.target.value, this.state.strokeColor.a);\r\n      this.setState({ strokeColor : color, hexstrokeColor : event.target.value});\r\n      resolve(color);\r\n    })\r\n    .then((color) => {\r\n      this.props.setStrokeColor(color);\r\n    })\r\n  }\r\n\r\n  handleStrokeOpacityChange = (event) => {\r\n    let change = this.state.strokeColor;\r\n    change.a = event.target.value;\r\n    this.setState({ strokeColor : change });\r\n    this.props.setStrokeColor(change);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"sub\">\r\n        <div className=\"sub-title\">\r\n          {i18next.t('ui/effect.Effect')} ( {this.props.object.type} )\r\n        </div>\r\n        <div className=\"sub-effect\">\r\n          <div className=\"shadow-box\">\r\n            <div className=\"option-title\">{i18next.t('ui/effect.Blur')}</div>\r\n            <div className=\"shadow-checkbox\">\r\n              <div>\r\n                <label className=\"mycheckbox path\">\r\n                  <input id = \"shadow_toggle\" type=\"checkbox\" onClick = {this.toggleShadow}></input>\r\n                    <svg viewBox=\"0 0 21 21\">\r\n                      <path d={ObjectIcon.checkbox}></path>\r\n                    </svg>\r\n                </label>\r\n                On/Off\r\n              </div>\r\n              <div className=\"blur-box\">\r\n                <div className=\"blur-box-title\">\r\n                  {i18next.t('ui/effect.Blur strength')}\r\n                </div>\r\n                <div className=\"blur-box-input\">\r\n                  <input\r\n                  type='range'\r\n                  className='shadow'\r\n                  id='shadow'\r\n                  min='0'\r\n                  max='10'\r\n                  name='blur'\r\n                  step='0.1'\r\n                  value={this.state.blur}\r\n                  onChange={this.handleShadowChange}/>\r\n                  <div>\r\n                    {this.state.blur}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"shadow-offset\">\r\n              {i18next.t('ui/effect.OffsetX')}\r\n              <input\r\n                type='range'\r\n                className='shadow'\r\n                id='shadow'\r\n                min='-100'\r\n                max='100'\r\n                name='offsetX'\r\n                step='1'\r\n                value={this.state.offsetX}\r\n                onChange={this.handleShadowChange}/>\r\n              {i18next.t('ui/effect.OffsetY')}\r\n              <input\r\n                type='range'\r\n                className='shadow'\r\n                id='shadow'\r\n                min='-100'\r\n                max='100'\r\n                name='offsetY'\r\n                step='1'\r\n                value={this.state.offsetY}\r\n                onChange={this.handleShadowChange}/>\r\n            </div>\r\n          </div>\r\n          <div className=\"shadow-color\">\r\n            <div className=\"option-title\">{i18next.t('ui/effect.ShadowColor')}</div>\r\n            <div className=\"color-picker\">\r\n                <input type=\"color\" id=\"colorSource\" value={this.state.hexcolor} onChange = { this.handleColorChange }/>\r\n                <div className=\"cp-rangebox\">\r\n                    <div>{i18next.t('ui/effect.Color opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" value = {this.state.color.a} min='0' max='1' step='0.01' onChange = {this.handleOpacityChange} />\r\n            </div>\r\n          </div>\r\n          </div>         \r\n          <div className=\"stroke\">\r\n            <label className=\"option-title\" htmlFor=\"stroke\">{i18next.t('ui/effect.Stroke')} </label>\r\n            <div className=\"stroke-input\">\r\n              <input\r\n                type='range'\r\n                className='stroke'\r\n                name='stroke'\r\n                min='0'\r\n                max='100'\r\n                step='1'\r\n                value={ this.props.object.strokeWidth ? this.props.object.strokeWidth : 0}\r\n                disabled = { (this.props.object.type === 'group' || this.props.object.type === 'activeSelection' || this.props.object.type === 'not active' || this.props.object.type === 'line' ) ? true : false }\r\n                onChange={this.handleStrokeWidthChange}\r\n              />\r\n              <div>\r\n                {this.props.object.strokeWidth ? this.props.object.strokeWidth : 0}\r\n              </div>\r\n            </div>\r\n\r\n          </div>          \r\n          <div className=\"stroke-color\">     \r\n            <div className=\"option-title\">{i18next.t('ui/effect.StrokeColor')}</div>\r\n            <div className=\"color-picker\">\r\n              <input type=\"color\" id=\"colorSource\" value={this.state.hexstrokeColor} onChange = { this.handleStrokeColorChange}/>\r\n              <div className=\"cp-rangebox\">\r\n                <div>{i18next.t('ui/effect.Color opacity')}: {this.state.color.a}</div>\r\n                <input type=\"range\" id=\"stroke-range\" value = {this.state.strokeColor.a} min='0' max='1' step='0.01' onChange = {this.handleStrokeOpacityChange} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* <div>\r\n            <button onClick = { this.handlePipette }>{i18next.t('ui/effect.Pipette')}</button>\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport i18next from \"../locale/i18n\";\r\nimport { debounce } from 'lodash';\r\nimport Draggable from 'react-draggable';\r\nimport { Prompt } from 'react-router-dom';\r\nimport { linkIcon } from './const/consts';\r\n\r\nimport '../css/ImageEditor.scss'\r\nimport Save from './Save';\r\n\r\nimport Rotation from './action/Rotation';\r\nimport Filter from './action/Filter';\r\nimport ObjectAction from './action/ObjectAction';\r\nimport Delete from './action/Delete';\r\nimport Shape from './action/Shape';\r\nimport Image from './action/Image';\r\nimport Crop from './action/Crop';\r\nimport Flip from './action/Flip';\r\nimport Text from './action/Text';\r\nimport Fill from './action/Fill';\r\nimport Icon from './action/Icon';\r\nimport Line from './action/Line';\r\nimport Clip from './action/Clip';\r\nimport Draw from './action/Draw';\r\nimport Grid from './extension/Grid';\r\nimport Util from './extension/Util';\r\nimport Snap from './extension/Snap';\r\nimport Pipette from './extension/Pipette';\r\nimport Layers from './extension/Layers';\r\n\r\nimport SideNav from './ui/SideNav'\r\nimport FilterUI from './ui/Filter';\r\nimport ImageUI from './ui/Image';\r\nimport ToolsUI from './ui/Tools';\r\nimport IconUI from './ui/Icon';\r\nimport TextUI from './ui/Text';\r\nimport ObjectUI from './ui/Object';\r\nimport RotationUI from './ui/Rotation';\r\nimport ShapeUI from './ui/Shape';\r\nimport DrawUI from './ui/Draw';\r\nimport CanvasUI from './ui/Canvas';\r\nimport HistoryUI from './ui/History';\r\nimport EffectUI from './ui/Effect';\r\n\r\nclass ImageEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // console.log('construct')\r\n    this.state = {\r\n      canvasView : { x: 0, y: 0},\r\n      activeObject : { type : 'not active', width : 0, height : 0, scaleX : 0, scaleY : 0, angle : 0},\r\n      zoom : 1,\r\n      scaleZoom : 1,\r\n      openSave : false, // save Modal 여는 용도\r\n      tab : 0, // 사이드 NavBar 탭 번호\r\n      user_name : '', // 로그인 되어있는 유저 id\r\n      isSaved : props.location.save ? true : false, // 서버에 저장되어 있는가?\r\n      prj_idx : props.location.project_idx ? props.location.project_idx : -1, // 현재 열려있는 저장된 프로젝트 idx,\r\n      imgStatus : false, // false : idle 상태. true 로딩 중\r\n      activePopupTab: 0, // 현재 popup 탭 번호\r\n    }\r\n    \r\n    this._canvas = null;\r\n    if(!props.location.state) { props.history.push('/main'); }\r\n    this._canvasImageUrl = props.location.state ? props.location.state.url : '';\r\n    this._canvasSize = {width : props.location.state? props.location.state.width : 500, height : props.location.state? props.location.state.height : 500}\r\n    this._backgroundImageRatio = props.location.state ? props.location.state.ratio/100 : 1;\r\n    \r\n    if(this._canvasSize.width < 10 || this._canvasSize.height < 10 ) {\r\n      alert(\"Too Small Size\")\r\n      this.props.history.push('/main');\r\n    }\r\n    // console.log(props.location)\r\n\r\n    this._openProject = props.location.save ? true : false;\r\n    this._project_data = props.location.project_data ? props.location.project_data : null;\r\n    \r\n    this._clipboard = null;\r\n    this._backgroundImage = null;\r\n    this.action = {};\r\n\r\n    this.isDragging = false;\r\n    this.selection = true;\r\n    \r\n    this.cropImg = null;\r\n\r\n    // redo undo\r\n    this.lock = false;\r\n    this.currentState = { width: null, height: null, action : 'construt', backFilter : [false, false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false] };\r\n    this.stateStack = [];\r\n    this.redoStack = [];\r\n    this.firstState = null;\r\n    this.stackMaxSize = 50;\r\n    this.state_id = 1;\r\n    this.dotoggle = true;\r\n\r\n    // filterList\r\n    this.filterList = ['Grayscale', 'Invert', 'Brownie', 'Technicolor', 'Polaroid', 'BlackWhite', 'Vintage', 'Sepia', 'Kodachrome',\r\n    'Convolute', '', '', '', '', '', 'Brightness', 'Contrast', 'Pixelate', 'Blur', 'Noise', 'Saturation', 'HueRotation','Ink', 'Vignette', 'ZoomBlur', 'Vibrance' ];\r\n\r\n    //add function\r\n    this.startPoint = { x : 0, y : 0 };\r\n\r\n    //grid\r\n    this.grid = null;\r\n    this.gridOn = false;\r\n\r\n    this.snapOn = false;\r\n    this.objectSnapOn = false;\r\n    //keyEvent\r\n    this.shift = false;\r\n\r\n    this.lastPosX = 0;\r\n    this.lastPosY = 0;\r\n\r\n    this.lockScale = false; // true이면 비율 고정.\r\n\r\n    this.stylelang = null; // 언어에 따른 스타일\r\n\r\n    this.kostyle = {\r\n      fontSize : 15,\r\n    }\r\n    this.enstyle = {\r\n      // fontSize : 18,\r\n    }\r\n\r\n    fabric.Object.prototype.originX = fabric.Object.prototype.originY = 'center';\r\n    this._createAction();\r\n    this.scrollBot = React.createRef()\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this._openProject){\r\n      new Promise((resolve) => {\r\n        // this.importCanvas(JSON.parse(this._project_d ata), resolve);\r\n        this.makeImportCanvas();\r\n        this.importCanvas(this._project_data  , resolve);\r\n      })\r\n      .then(() => {\r\n        this._createDomEvent();\r\n          this._createCanvasEvent();\r\n          this.currentState = this._canvas.toDatalessJSON();\r\n          this.currentState.width = this._canvas.width;\r\n          this.currentState.height = this._canvas.height;\r\n          this.currentState.backFilter = [false, false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]\r\n          this.currentState.action = \"initilize\";\r\n          this.currentState.id = 0;\r\n          this.firstState = this.currentState;\r\n          this.action['Grid'].makeGrid();\r\n          this.forceUpdate(); // for showUndo/Redo Stack\r\n          this.action['Draw'].setBrush(); // Canvas Required\r\n          this.resizeScale();\r\n      })\r\n    }\r\n    else{\r\n      if(this._canvasImageUrl){\r\n        this.loadImage(\r\n          this._canvasImageUrl,\r\n          {x : this._canvasSize.width / 2, y : this._canvasSize.height / 2}, \r\n          {originX : \"center\", originY : \"center\", scaleX : this._backgroundImageRatio, scaleY : this._backgroundImageRatio}\r\n        )\r\n        .then((img) => {\r\n          this._backgroundImage = img;\r\n          // console.log(this._backgroundImageRatio)\r\n          // this._backgroundImage.width *= this._backgroundImageRatio\r\n          // this._backgroundImage.height *= this._backgroundImageRatio\r\n          // this._backgroundImage.scaleX = 1;\r\n          // this._backgroundImage.scaleY = 1;\r\n        })\r\n        .then(() => {\r\n          this._canvas = new fabric.Canvas('canvas', {\r\n            preserveObjectStacking: true,\r\n            height: this._canvasSize.height,\r\n            width: this._canvasSize.width,\r\n            // backgroundColor: 'grey',\r\n            backgroundImage : this._backgroundImage,\r\n            uniformScaling: false, // When true, objects can be transformed by one side\r\n            imageSmoothingEnabled : false,\r\n            fireRightClick: true,\r\n          });\r\n        })\r\n        .then(() => {\r\n          this._createDomEvent();\r\n          this._createCanvasEvent();\r\n          this.currentState = this._canvas.toDatalessJSON();\r\n          this.currentState.width = this._canvas.width;\r\n          this.currentState.height = this._canvas.height;\r\n          this.currentState.backFilter = [false, false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]\r\n          this.currentState.action = \"initilize\";\r\n          this.currentState.id = 0;\r\n          this.firstState = this.currentState;\r\n          this.action['Grid'].makeGrid(); // canvas size error\r\n          this.forceUpdate(); // for showUndo/Redo Stack\r\n          this.action['Draw'].setBrush(); // Canvas Required\r\n          this.resizeScale();\r\n        })\r\n        .catch(() => {\r\n          this.props.history.push('/main');\r\n        })\r\n      }\r\n      else{\r\n        this._canvas = new fabric.Canvas('canvas', {\r\n          preserveObjectStacking: true,\r\n          height: this._canvasSize.height,\r\n          width: this._canvasSize.width,\r\n          backgroundColor: '#EEEEEE',\r\n          backgroundImage : this._backgroundImage,\r\n          uniformScaling: false,\r\n          imageSmoothingEnabled : false,\r\n          fireRightClick: true,\r\n        });\r\n        this._createDomEvent();\r\n        this._createCanvasEvent();\r\n        this.currentState = this._canvas.toDatalessJSON();\r\n        this.currentState.width = this._canvas.width;\r\n        this.currentState.height = this._canvas.height;\r\n        this.currentState.backFilter = [false, false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]\r\n        this.currentState.action = \"initilize\";\r\n        this.currentState.id = 0;\r\n        this.firstState = this.currentState;\r\n        this.action['Grid'].makeGrid();\r\n        this.forceUpdate(); // for showUndo/Redo Stack\r\n        this.action['Draw'].setBrush(); // Canvas Required\r\n        this.resizeScale();\r\n      }\r\n    }\r\n    this.getCheck();\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    this._deleteCanvasEvent();\r\n    this._deleteDomevent();  \r\n    this.lock = false;\r\n    this.lockScale = false;\r\n    this.currentState = null;\r\n    this.stateStack.length = 0;\r\n    this.redoStack.length = 0;\r\n    this.cropImg = null;\r\n    this._clipboard = null;\r\n    this._backgroundImage = null;\r\n    this._canvas = null;\r\n    this.grid = null;\r\n    this.firstState = null;\r\n  }\r\n\t\r\n\t_onKeydownEvent = (event) => {\r\n    // metakey is a Command key or Windows key\r\n    const {ctrlKey, keyCode, metaKey} = event;\r\n    // if(event.repeat) { \r\n    //   return; \r\n    // }\r\n    if(keyCode === 8 || keyCode === 46){\r\n      this.deleteObject();\r\n    }\r\n    // ctrl + c\r\n    if((metaKey || ctrlKey) && keyCode === 67) {\r\n      this.copyObject();\r\n    }\r\n    // ctrl + v\r\n    if((metaKey || ctrlKey) && keyCode === 86) {\r\n      if(this._clipboard){\r\n        this.pasteObject();\r\n      }\r\n    }\r\n    // ctrl + z\r\n    if((metaKey || ctrlKey) && keyCode === 90) {\r\n      this.undo();\r\n    }\r\n\r\n    if(keyCode === 37) { // handle Left key\r\n      event.preventDefault();\r\n      this.moveSelected('left');\r\n    } \r\n    else if (keyCode === 38) { // handle Up key\r\n      event.preventDefault();\r\n      this.moveSelected('up');\r\n    } \r\n    else if (keyCode === 39) { // handle Right key\r\n      event.preventDefault();\r\n      this.moveSelected('right');\r\n    } \r\n    else if (keyCode === 40) { // handle Down key\r\n      event.preventDefault();\r\n      this.moveSelected('down');\r\n    }\r\n  }\r\n\r\n  _onShiftKeydownEvent = (event) => {\r\n    const {keyCode} = event;\r\n    if(keyCode === 16){ \r\n      this.shift = true; \r\n      if(this.getActiveObject()){\r\n        this.getActiveObject().isRegular = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  _onShiftKeyUpEvent = (event) => {\r\n    const {keyCode} = event;\r\n    if(keyCode === 16) { \r\n      this.shift = false;\r\n      if(this.getActiveObject()){\r\n        this.getActiveObject().isRegular = false;\r\n      }\r\n    }\r\n  }\r\n  \r\n  _onMouseDownEvent = (event) => {\r\n    if(event.target.tagName === 'CANVAS' || event.target.getAttribute('name') === 'layer'){\r\n      document.addEventListener('keydown',this._onKeydownEvent);\r\n    }\r\n    else{\r\n      // if(event.target.type === 'range') {\r\n      //   this.dotoggle = false;\r\n      // }\r\n      document.removeEventListener('keydown',this._onKeydownEvent);\r\n    }\r\n  }\r\n\r\n  _onMouseUpEvent = (event) => {\r\n    // if(event.target.type === 'range') {\r\n    //   this.dotoggle = true;\r\n    //   this.saveState(event.target.name + ' change');\r\n    // }\r\n  }\r\n\r\n  /**\r\n  * create a DomEvent\r\n  * @mouseup used on input[range]\r\n  * @mousedown used on input[range] and keyDownEvent\r\n  * @keydown shiftKey\r\n  * @keyup shkfyKey\r\n  * @private\r\n  */\r\n\t_createDomEvent = () => {\r\n    // document.getElementById('canvas').addEventListener('keydown',this._onKeydownEvent)\r\n    document.addEventListener('mouseup',this._onMouseUpEvent);\r\n    document.addEventListener('mousedown',this._onMouseDownEvent)\r\n    document.addEventListener('keydown',this._onShiftKeydownEvent)\r\n    document.addEventListener('keyup',this._onShiftKeyUpEvent)\r\n    \r\n    window.addEventListener('resize', this.checkCanvasSize , true);\r\n  }\r\n\r\n\r\n  /**\r\n  * 'canvasMoveStartEvent' event handler\r\n  * @onMousedown\r\n  * @private\r\n  */\r\n  _canvasMoveStartEvent = (event) => {\r\n    if (event.e.altKey === true) {\r\n      this.isDragging = true;\r\n      this.selection = false;\r\n      this.lastPosX = event.e.clientX;\r\n      this.lastPosY = event.e.clientY;\r\n      this._canvas.selection = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n  * 'canvasMovingEvent' event handler\r\n  * @onMousemove\r\n  * @private\r\n  */\r\n  _canvasMovingEvent = (event) => {\r\n    if (this.isDragging) {\r\n      let e = event.e;\r\n      let vpt = this._canvas.viewportTransform;\r\n      vpt[4] += e.clientX - this.lastPosX;\r\n      vpt[5] += e.clientY - this.lastPosY;\r\n      var zoom = this._canvas.getZoom (); \r\n\r\n      if (zoom < 400 / 1000) {\r\n        vpt[4] = 200 - 1000 * zoom / 2;\r\n        vpt[5] = 200 - 1000 * zoom / 2;\r\n      } \r\n      else {\r\n        if (vpt[4] >= 0) {\r\n          vpt[4] = 0;\r\n        } \r\n        // else if(vpt[4] < -this._canvas.getWidth()){\r\n        //   vpt[4] =  -this._canvas.getWidth();\r\n        // }\r\n        else if (vpt[4] < this._canvas.getWidth() - this._canvas.width * zoom) {\r\n          vpt[4] = this._canvas.getWidth() - this._canvas.width * zoom;\r\n        }\r\n        if (vpt[5] >= 0) {\r\n          vpt[5] = 0;\r\n        }\r\n        // else if(vpt[5] < -this._canvas.getHeight()){\r\n        //   vpt[5] =  -this._canvas.getHeight();\r\n        // }\r\n        else if (vpt[5] < this._canvas.getHeight() - this._canvas.height * zoom) {\r\n          vpt[5] = this._canvas.getHeight() - this._canvas.height * zoom;\r\n        }\r\n      }\r\n      this.setState({ canvasView : { x : vpt[4], y : vpt[5] }})\r\n      this._canvas.renderAll();\r\n      this.lastPosX = e.clientX;\r\n      this.lastPosY = e.clientY;\r\n    }\r\n  } \r\n\r\n  /**\r\n  * 'canvasMovieEndEvent' event handler\r\n  * @onMouseup\r\n  * @private\r\n  */\r\n  _canvasMoveEndEvent = (event) => {\r\n    this._canvas.setViewportTransform(this._canvas.viewportTransform);\r\n    this.isDragging = false;\r\n    this.selection = true;\r\n    this._canvas.selection = true;\r\n  }\r\n\r\n  /**\r\n  * 'canvasZoomEvent' event handler\r\n  * @onMousewheel\r\n  * @private\r\n  */\r\n  _canvasZoomEvent = (event) => {\r\n    if(true){\r\n      var delta = event.e.deltaY; \r\n      var zoom = this._canvas.getZoom (); \r\n      zoom *= 0.999 ** delta; \r\n      if (zoom> 4) zoom = 4 ; \r\n      if (zoom < 1) zoom = 1; \r\n      this._canvas.zoomToPoint({ x: event.e.offsetX, y: event.e.offsetY }, zoom);\r\n      let vpt = this._canvas.viewportTransform;\r\n      event.e.preventDefault (); \r\n      event.e.stopPropagation (); \r\n      if (zoom < 400 / 1000) {\r\n        vpt[4] = 200 - 1000 * zoom / 2;\r\n        vpt[5] = 200 - 1000 * zoom / 2;\r\n      } \r\n      else {\r\n        if (vpt[4] >= 0) {\r\n          vpt[4] = 0;\r\n        } \r\n        else if (vpt[4] < this._canvas.getWidth() - this._canvas.width  * zoom) {\r\n          vpt[4] = this._canvas.getWidth() - this._canvas.width * zoom;\r\n        }\r\n        if (vpt[5] >= 0) {\r\n          vpt[5] = 0;\r\n        } \r\n        else if (vpt[5] < this._canvas.getHeight() - this._canvas.height * zoom) {\r\n          vpt[5] = this._canvas.getHeight() - this._canvas.height * zoom;\r\n        }\r\n      }\r\n      if(vpt[4]>0){\r\n        console.log(vpt[4], vpt[5])\r\n      }\r\n      this.setState({zoom : zoom , canvasView : { x : vpt[4], y : vpt[5] }});\r\n    }\r\n  }\r\n\r\n  _onCanvasMove = () => {\r\n    this._canvas.on('mouse:down', this._canvasMoveStartEvent);\r\n    this._canvas.on('mouse:move', this._canvasMovingEvent);\r\n    this._canvas.on('mouse:up', this._canvasMoveEndEvent);\r\n\r\n  }\r\n\r\n  _offCanvasMove = () => {\r\n    this._canvas.off('mouse:down', this._canvasMoveStartEvent);\r\n    this._canvas.off('mouse:move', this._canvasMovingEvent);\r\n    this._canvas.off('mouse:up', this._canvasMoveEndEvent);\r\n  }\r\n\r\n  _onCanvasZoom = () => {\r\n    // this._canvas.on('mouse:wheel', this._canvasZoomEvent);    \r\n    this._canvas.on('mouse:wheel', this.canvasZoom);       \r\n  }\r\n\r\n  _offCanvasZoom = () => {\r\n    // this._canvas.off('mouse:wheel', this._canvasZoomEvent);   \r\n    this._canvas.off('mouse:wheel', this.canvasZoomIn);       \r\n  }\r\n\r\n\r\n  /**\r\n   * Attach canvas events\r\n   * @private\r\n   */\r\n  _createCanvasEvent = () => {\r\n    this._onCanvasMove();\r\n    this._onCanvasZoom();\r\n    \r\n\t\tthis._canvas.on('selection:created', (event) => {\r\n      this.setState({activeObject : this.getActiveObject() });\r\n\t\t});\r\n\r\n\t\tthis._canvas.on('selection:updated', (event) => {\r\n      this.setState({ activeObject : this.getActiveObject() });\r\n\t\t});\r\n\r\n\t\tthis._canvas.on('selection:cleared', (event) => {\r\n      this.setState({activeObject : { type : 'not active', width : 0, height : 0, scaleX : 0, scaleY : 0, angle : 0} });\r\n\t\t});\r\n    \r\n    this._canvas.on('object:added', (event) => {\r\n      if(this._canvas.isDrawingMode && !this.lock) {\r\n        this.saveState('drawing add');\r\n      }\r\n    })\r\n    this._canvas.on('object:modified', (event) => {\r\n      if(event.target.type === 'textbox') {\r\n        this.saveState('text modified');\r\n      }\r\n    })\r\n\r\n    this._canvas.on('object:rotated', (event) => {\r\n      this.updateObject();\r\n    });\r\n\r\n    this._canvas.on('object:removed', (event) => {\r\n\r\n    })\r\n    this._canvas.on('object:skewing', (event) => {\r\n\r\n    })\r\n    this._canvas.on('object:selected', (event) => {\r\n\r\n    })\r\n\r\n    this._canvas.on('object:scaling', (event) => {\r\n      if(event.target.type !== 'Cropzone') {\r\n        this.saveState(event.target.type + ' : scale change');\r\n      }\r\n    })\r\n\r\n    this._canvas.on('object:moved', this._movedObjectSave);\r\n  }\r\n\r\n  /**\r\n  * 'fabric.object moved Event' event handler : if object is moved, save a state\r\n  * @objectMoved\r\n  * @private\r\n  */\r\n  _movedObjectSave = (event) => {\r\n    if(event.target.type !== 'Cropzone'){\r\n      let obj = event.target;\r\n      if(obj.type === \"path\") {\r\n        if(obj.fill === null) this.saveState('drawing moved');\r\n        else this.saveState('path moved')\r\n      }\r\n      else if(obj.type === \"group\") this.saveState('drawing moved');\r\n      else this.saveState(obj.type + \" moved\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Detach canvas events\r\n   * @private\r\n   */\r\n  _deleteCanvasEvent = () =>{\r\n    this._canvas.off('object:added');\r\n    this._canvas.off('object:modified');\r\n    this._canvas.off('object:rotated');\r\n    this._canvas.off('object:scaling');\r\n    this._canvas.off('object:moving');\r\n    this._canvas.off('selection:cleared');\r\n    this._canvas.off('selection:updated');\r\n    this._canvas.off('selection:created');\r\n    this._canvas.off('mouse:move');\r\n    this._canvas.off('mouse:wheel');\r\n    this._canvas.off('mouse:up');\r\n    this._canvas.off('mouse:down');\r\n  }\r\n\r\n  _deleteDomevent = () =>{\r\n    document.removeEventListener('keydown',this._onKeydownEvent)\r\n    document.removeEventListener('mousedown',this._onMouseDownEvent)\r\n    document.removeEventListener('keyup',this._onShiftKeyUpEvent)\r\n    document.removeEventListener('mouseup',this._onMouseUpEvent)\r\n    window.removeEventListener('resize', this.checkCanvasSize , true);\r\n  }\r\n\r\n  addKeyDownEvent = () => {\r\n    document.addEventListener('keydown',this._onKeydownEvent);\r\n  }\r\n\r\n  removeKeyDownEvent = () => {\r\n    document.removeEventListener('keydown',this._onKeydownEvent);\r\n  }\r\n\r\n  resetCanvas = () => {\r\n    this._canvas.setZoom (1); \r\n    this.setState({zoom : 1, canvasView : { x: 0, y: 0} });\r\n    let vpt = this._canvas.viewportTransform;\r\n    vpt[4] = 0;\r\n    vpt[5] = 0;\r\n    this.lastPosX = 0;\r\n    this.lastPosY = 0;\r\n    this._canvas.renderAll();\r\n  }\r\n\r\n  onClickGrid = (event) => {\r\n    if(event.target.checked){\r\n      this.gridOn = true;\r\n      this.action['Grid'].showGrid();\r\n    }\r\n    else{\r\n      this.gridOn = false;\r\n      this.action['Grid'].hideGrid();\r\n    }\r\n  }\r\n\r\n  saveState = debounce((action) => {\r\n    if(!this._canvas) { return ;}\r\n\r\n    if(this.dotoggle && !this.lock) {\r\n      if(this.stateStack.length === this.stackMaxSize) {\r\n        this.stateStack.shift();\r\n      }\r\n      this.stateStack.push(this.currentState);\r\n      this.currentState = this._canvas.toDatalessJSON();\r\n      // this.currentState.objects.forEach(object => {\r\n      //   if(object.type === 'image') {\r\n      //     let change_filters = Array.from({length: this.filterList.length}, () => false);\r\n      //     object.filters.forEach(filter => {\r\n      //       change_filters[this.filterList.indexOf(filter.type)] = filter;\r\n      //     });\r\n      //     console.log(change_filters);\r\n      //     object.filters = change_filters;\r\n      //   }\r\n      // });\r\n      this.currentState.width = this._canvas.width;\r\n      this.currentState.height = this._canvas.height;\r\n      this.currentState.action = action;\r\n      if(this._canvas.backgroundImage){\r\n        this.currentState.backFilter = this._canvas.backgroundImage.filters;\r\n        this._backgroundImage = this._canvas.backgroundImage;\r\n      }\r\n      // console.log(\"save \", this.currentState)\r\n      this.currentState.id = this.stateStack.length > 0 ? this.stateStack[this.stateStack.length -1].id + 1 : 1;\r\n      this.redoStack.length = 0;\r\n      this.forceUpdate(); // for showUndo/Redo Stack\r\n      this.scrollBot.current.scrollTop = this.scrollBot.current.scrollHeight\r\n    }\r\n  }, 270);\r\n\r\n  undo = () => {\r\n    if(this.stateStack.length > 0) {\r\n      this.applyState(this.redoStack, this.stateStack.pop());\r\n    }\r\n  }\r\n\r\n  redo = () => {\r\n    if(this.redoStack.length > 0) {\r\n      this.applyState(this.stateStack, this.redoStack.pop());\r\n    }\r\n  }\r\n\r\n  applyState = (stack, newState) => {\r\n    stack.push(this.currentState);\r\n    this.currentState = newState;\r\n    this.lock = true;\r\n    this._canvas.loadFromJSON(this.currentState, () => {\r\n      this._canvas.setWidth(newState.width);\r\n      this._canvas.setHeight(newState.height);\r\n      this._canvas.calcOffset();\r\n      this.lock = false;\r\n      if(this.currentState.backgroundImage){\r\n        this._canvas.backgroundImage.filters = this.currentState.backFilter || [];\r\n      }\r\n      this.forceUpdate(); // for showUndo/Redo Stack\r\n    });\r\n    // this._canvas._objects.forEach(object => {\r\n    //   if(object.type === 'image') {\r\n    //     let change_filters = [];\r\n    //     // let change_filters = Array.from({length: this.filterList.length}, () => false);\r\n    //     for (let index = 0; index < this.filterList.length; index++) {\r\n    //       change_filters.push();\r\n    //     }\r\n    //     object.filters.forEach(filter => {\r\n    //       change_filters[this.filterList.indexOf(filter.type)] = filter;\r\n    //     });\r\n    //     object.filters = change_filters;\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  resetState = () => {\r\n    this.stateStack.length = 0;\r\n    this.redoStack.length = 0;\r\n    this.state_id = 1;\r\n    this.currentState = this.firstState;\r\n    this._canvas.loadFromJSON(this.firstState, () => {\r\n      this._canvas.setWidth(this.firstState.width);\r\n      this._canvas.setHeight(this.firstState.height);\r\n      this._canvas.calcOffset();\r\n      this.lock = false;\r\n    });\r\n    this.forceUpdate(); // for showUndo/Redo Stack\r\n  }\r\n\r\n\t/**\r\n   * action on selected image\r\n\t * @param {Object} image : selectedImage or backgroundImage\r\n   * @private\r\n   */\r\n\t_imageSelection = (image) => {\r\n\r\n\t}\r\n\r\n\r\n\t/**\r\n   * action on textbox\r\n\t * @param {Object} text : selectedTextbox\r\n   * @private\r\n   */\r\n\t_textboxSelection = (text) => {\r\n\r\n  }\r\n  \r\n  /**\r\n   * create Action List\r\n   * @private\r\n   */\r\n  _createAction = () => {\r\n    this._register(this.action, new Rotation(this));\r\n    this._register(this.action, new ObjectAction(this));\r\n    this._register(this.action, new Draw(this));\r\n    this._register(this.action, new Filter(this));\r\n    this._register(this.action, new Delete(this));\r\n    this._register(this.action, new Crop(this));\r\n    this._register(this.action, new Text(this));\r\n    this._register(this.action, new Clip(this));\r\n    this._register(this.action, new Flip(this));\r\n    this._register(this.action, new Fill(this));\r\n    this._register(this.action, new Icon(this));\r\n    this._register(this.action, new Shape(this));\r\n    this._register(this.action, new Image(this));\r\n    this._register(this.action, new Grid(this));\r\n    this._register(this.action, new Line(this));\r\n    this._register(this.action, new Util(this));\r\n    this._register(this.action, new Snap(this));\r\n    this._register(this.action, new Layers(this));\r\n    this._register(this.action, new Pipette(this));\r\n  }\r\n\r\n  /**\r\n   * register Action\r\n   * @param {Object} map : map \r\n   * @param {Object} module : action module\r\n   * @private\r\n   */\r\n  _register = (map, action) => {\r\n    map[action.getName()] = action;\r\n  }\r\n\r\n  /**\r\n   * Get ActiveObject instance\r\n   * @returns {fabric.Canvas._activeObject} \r\n   */\r\n  getActiveObject = () => {\r\n    return this._canvas ? this._canvas._activeObject : null;\r\n  }\r\n\r\n  /**\r\n   * Get canvas instance\r\n   * @returns {fabric.Canvas}\r\n   */\r\n  getCanvas = () => {\r\n    return this._canvas;\r\n  }\r\n\r\n  /**\r\n   * Get ImageEditor instance\r\n   * @returns {ImageEditor} this\r\n   */\r\n  getImageEditor = () => {\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get grid instance\r\n   * @returns {Object} this.grid\r\n   */\r\n  getGrid = () => {\r\n    return this.grid;\r\n  }\r\n\r\n  /**\r\n   * Get grid On/Off\r\n   * @returns {this.gridOn}\r\n   */\r\n  getGridOn = () => {\r\n    return this.gridOn;\r\n  }\r\n\r\n  /**\r\n   * Get Canvas size\r\n   * @returns {{x:width, y:height}} \r\n   */\r\n  getCanvasSize = () => {\r\n    return this._canvas ? {x : this._canvas.width, y: this._canvas.height} : {x : 0, y: 0}\r\n  }\r\n\r\n  /**\r\n   * Get grid instance\r\n   * @returns {this._clipboard}\r\n   */\r\n  getClipboard = () => {\r\n    return this._clipboard;\r\n  }\r\n\r\n  /**\r\n   * Get BackgroundImage instance\r\n   * @returns {this._backgroundImage}\r\n   */\r\n  getBackgroundImage = () => {\r\n    return this._canvas.backgroundImage;\r\n  }\r\n\r\n  /**\r\n   * Get LockScale instance\r\n   * @returns {this.lockScale}\r\n   */\r\n  getLockScale = () => {\r\n    return this.lockScale;\r\n  }\r\n\r\n  /**\r\n   * Set Clipboard\r\n   * @param {Object} clip: cloned objects\r\n   */\r\n  setClipboard = (clip) => {\r\n    this._clipboard = clip;\r\n  }\r\n\r\n  /**\r\n   * Set Grid\r\n   * @param {fabric.Object} grid : Array of Lines\r\n   */\r\n  setGrid = (grid) => {\r\n    this.grid = grid;\r\n  }\r\n\r\n  updateLockScale = () => {\r\n    this.lockScale = !this.lockScale;\r\n  }\r\n  \r\n\r\n  openSaveModal = () => {\r\n    fetch('/auth/check', {\r\n      method: 'GET',\r\n      headers : { 'Cache-control' : 'no-cache' }\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.msg === \"not login\") this.setState({openSave : true, user_name: ''});\r\n      else this.setState({openSave : true});\r\n    })\r\n    .catch(() => {\r\n      alert(i18next.t('Project.Error'));\r\n    })\r\n  }\r\n\r\n  closeSaveModal = () => {\r\n    this.setState({openSave : false})\r\n  }\r\n\r\n  /**\r\n   * Copy Selected Objects\r\n   */\r\n  copyObject = () => {\r\n    this.action['Clip'].copyObject(this.getActiveObject());\r\n  }\r\n\r\n  /**\r\n   * Paste Clipboard\r\n   */\r\n  pasteObject = () => {\r\n    this.action['Clip'].pasteObject();\r\n  }\r\n\r\n  /**\r\n   * Delete actived Object\r\n   */\r\n  deleteObject = () => {\r\n    this.action['Delete'].deleteObject();\r\n  }\r\n\r\n  /**\r\n   * Delete All Objects on Canvas\r\n   */\r\n  deleteAllObject = () => {\r\n    this.action['Delete'].deleteAllObject();\r\n  }\r\n\r\n  makePolygonWithDrag = () => {\r\n    this.action['Draw'].drawPolygonWithDrag();\r\n  }\r\n\r\n  makePolygonWithClick = () => {\r\n    this.action['Draw'].drawPolygonWithClick();\r\n  }\r\n\r\n  openDrawing = (linewidth) => {\r\n    this.action['Draw'].openDrawing(linewidth);\r\n  }\r\n\r\n  closeDrawing = () => {\r\n    this.action['Draw'].closeDrawing();\r\n  }\r\n\r\n  changeDrawingWidth = (width) => {\r\n    this.action['Draw'].changeDrawingWidth(width);\r\n  }\r\n\r\n  changeDrawingColor = (rgb) => {\r\n    this.action['Draw'].changeDrawingColor(rgb);\r\n  }\r\n\r\n  changeDrawingBrush = (type, color, width) => {\r\n    this.action['Draw'].changeDrawingBrush(type, color, width);\r\n  }\r\n\r\n  filterObject = (event) => {\r\n    this.action['Filter'].applyFilter(this.getActiveObject() || this._canvas.backgroundImage , event.target.getAttribute('filter'), event.target.checked, event.target.value);\r\n  }\r\n\r\n  filterValueObject = (option, checked, value) => {\r\n    this.action['Filter'].applyFilter(this.getActiveObject() || this._canvas.backgroundImage , option, checked, value);\r\n  }\r\n\r\n  rangeFilterObject = (filterOption, checked, value) => {\r\n    this.action['Filter'].applyFilter(this.getActiveObject() || this._canvas.backgroundImage , filterOption, checked, value);\r\n  }\r\n\r\n  previewFilter = (option) => {\r\n    this.action['Filter'].previewFilter(this.getActiveObject() || this._canvas.backgroundImage, option);\r\n  }\r\n\r\n  setColor = (color) => {\r\n    this.action['Fill'].fill(color);\r\n  }\r\n  \r\n  flipObject = (option) => {\r\n    this.action['Flip'].flip(option);\r\n  }\r\n\r\n  addIcon = (options) => {\r\n    this.action['Icon'].addIcon(options);\r\n  }\r\n\r\n  saveImage = (title) => {\r\n    this.action['Image'].saveImage(title);\r\n  }\r\n\r\n  downloadImage = () => {\r\n    this.action['Image'].saveImage(\"image\");\r\n  }\r\n\r\n  addImage = (url) => {\r\n    this.action['Image'].addImage(url);\r\n  }\r\n\r\n  addLine = (options) => {\r\n    this.action['Line'].addLine(options);\r\n  }\r\n\r\n  setShadow = (option) => {\r\n    this.action['Object'].setShadow(option);\r\n  }\r\n\r\n  removeShadow = () => {\r\n    this.action['Object'].removeShadow();\r\n  }\r\n\r\n  /**\r\n   * Set ScaleX\r\n   * @param {float} value : scaleX \r\n   */\r\n  scaleXChange = (value) => {\r\n    this.action['Object'].scaleXChange(value);\r\n  }\r\n\r\n  /**\r\n   * Set ScaleY\r\n   * @param {float} value : scaleY\r\n   */\r\n  scaleYChange = (value) => {\r\n    this.action['Object'].scaleYChange(value);\r\n  }\r\n  \r\n  lockScaleRatio = () => {\r\n    this.action['Object'].lockScaleRatio();\r\n  }\r\n\r\n  makeGroup = () => {\r\n    this.action['Object'].makeGroup();\r\n  }\r\n\r\n  unGroup = () => {\r\n    this.action['Object'].unGroup();\r\n  }\r\n\r\n  sendBackwards = () => {\r\n    this.action['Object'].sendBackwards();\r\n  }\r\n\r\n  sendToBack = () => {\r\n    this.action['Object'].sendToBack();\r\n  }\r\n\r\n  bringForward = () => {\r\n    this.action['Object'].bringForward();\r\n  }\r\n\r\n  bringToFront = () => {\r\n    this.action['Object'].bringToFront();\r\n  }\r\n\r\n  moveSelected = (direction) => {\r\n    this.action['Object'].moveSelected(direction);\r\n  }\r\n\r\n  setObjectAngle = (changeAngle) => {\r\n    this.action['Rotation'].setAngle(Number(changeAngle));\r\n  }\r\n\r\n  rotateObjectAngle = (angle) => {\r\n    this.action['Rotation'].changeAngle(angle);\r\n  }\r\n\r\n  addShape = (type, color) => {\r\n    this.action['Shape'].addShape(type, color);\r\n  }\r\n\r\n  setEndAngle = (value) => {\r\n    this.action['Shape'].setEndAngle(value);\r\n  }\r\n\r\n  setStroke = (option) => {\r\n    this.action['Shape'].setStroke(option);\r\n  }\r\n\r\n  setStrokeColor = (color) => {\r\n    this.action['Shape'].setStrokeColor(color);\r\n  }\r\n\r\n  addText = (option) => {\r\n    this.action['Text'].addText(option);\r\n  }\r\n\r\n  textObject = (textOption, checked, value) => {\r\n    this.action['Text'].textObj(this.getActiveObject(), textOption, checked, value);\r\n  }\r\n\r\n  onClickSnap = (event) => {\r\n    this.action['Snap'].onClickSnap(event);\r\n    this.snapOn = event.target.checked;\r\n  }\r\n\r\n  onClickObjectSnap = (event) => {\r\n    this.action['Snap'].onClickObjectSnap(event);\r\n    this.objectSnapOn = event.target.checked;\r\n  }\r\n\r\n  cropCanvas = (off) => {\r\n    this.action['Crop'].cropCanvas(off);\r\n  }\r\n\r\n  cropEndCanvas = (img) => {\r\n    this.action['Crop'].cropEndCanvas(img);\r\n  }\r\n\r\n  cropStopCanvas = () => {\r\n    this.action['Crop'].cropStopCanvas();\r\n  }\r\n\r\n  handleCropCanvasSizeChange = (value) => {\r\n    this.action['Crop'].resizeCropzone(value);\r\n  }\r\n\r\n  setCropCanvasSize = (cropCanvasSize, option, value, obj) => {\r\n    return this.action['Crop'].setCropCanvasSize(cropCanvasSize, option, value, obj);\r\n  }\r\n\r\n  changeBackgroundColor = (color) => {\r\n    this.action['Util'].changeBackgroundColor(color);\r\n  }\r\n\r\n  cropObjMouseDown = (event) => {\r\n    if(event.target == null || !(event.target === this.cropImg || event.target.type === \"Cropzone\")){\r\n      this._canvas.off('mouse:down', this.cropObjMouseDown);\r\n      this.action['Crop'].cropObjend(this.cropImg);\r\n      this.cropImg = null;\r\n    }\r\n  }\r\n\r\n  cropObject = (cropOption) => {\r\n    let activeObject = this.getActiveObject();\r\n    if(activeObject && activeObject.type === 'image'){\r\n      this.cropImg = activeObject;\r\n      this.action['Crop'].cropObj(activeObject, cropOption);\r\n      this._canvas.on('mouse:down', this.cropObjMouseDown);\r\n    }\r\n  }\r\n\r\n  cropEndObject = () => {\r\n    if(this.cropImg){\r\n      this._canvas.off('mouse:down', this.cropObjMouseDown);\r\n      this.action['Crop'].cropObjend(this.cropImg);\r\n      this.cropImg = null;\r\n    }\r\n  }\r\n\r\n  cropStopObject = () => {\r\n    if(this.cropImg){\r\n      this._canvas.off('mouse:down', this.cropObjMouseDown);\r\n      this.action['Crop'].cropObjstop();\r\n      this.cropImg = null;\r\n    }\r\n  }\r\n\r\n  objectInfo = () => {\r\n    if(this.getActiveObject()){\r\n      let obj = this.getActiveObject();\r\n      console.log(obj);\r\n      \r\n    }\r\n  }\r\n\r\n  loadImage = (url, pointer, option) => {\r\n    return this.action['Image'].loadImage(url, pointer, option);\r\n  }\r\n\r\n  exportCanvas = () => {\r\n    let c = this._canvas.toJSON();\r\n    c.width = this._canvas.width;\r\n    c.height = this._canvas.height;\r\n    // let data = JSON.stringify(c);\r\n    let data = JSON.stringify(this.currentState);\r\n    let file = new Blob([data], {type : 'octet/stream'});\r\n    var a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(file);\r\n    a.setAttribute(\"download\", 'canvas.json');\r\n    a.click();\r\n  }\r\n\r\n  makeImportCanvas = () => {\r\n    this._canvas = new fabric.Canvas('canvas', {\r\n      preserveObjectStacking: true,\r\n      height: 100,\r\n      width: 100,\r\n      backgroundColor: 'grey',\r\n      uniformScaling: false, // When true, objects can be transformed by one side\r\n      imageSmoothingEnabled : false,\r\n      fireRightClick: true,\r\n    });\r\n  }\r\n\r\n  importCanvas = (data, resolve) => {\r\n    // let file = event.target.files[0];\r\n    const file = new Blob([data], {type:\"application/json\"});\r\n    let json;\r\n    var reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      json = JSON.parse(event.target.result);\r\n\r\n      this._canvas.loadFromJSON(json, () => {\r\n        this.isDragging = false;\r\n        this.selection = true;\r\n        this.cropImg = null;\r\n\r\n        // redo undo\r\n        this.lock = false;\r\n        this.stateStack = [];\r\n        this.redoStack = [];\r\n        this.firstState = null;\r\n        this.stackMaxSize = 50;\r\n        this.state_id = 1;\r\n        this.dotoggle = true;\r\n\r\n        this.lastPosX = 0;\r\n        this.lastPosY = 0;\r\n        this.shift = false;\r\n\r\n        //add function\r\n    \r\n        this.grid = null;\r\n        this.gridOn = false;\r\n\r\n        this.lockScale = false;\r\n\r\n        this.currentState = this._canvas.toDatalessJSON();\r\n        this.currentState.action = \"initilize\";\r\n        this.currentState.width = json.width ? json.width : 800;\r\n        this.currentState.height = json.height ? json.height : 600;\r\n        this.currentState.id = 0;\r\n        this.firstState = this.currentState;\r\n\r\n        this._canvas.setWidth( json.width ? json.width : 800 );\r\n        this._canvas.setHeight( json.height ? json.height : 600 );\r\n        this._canvas.calcOffset();\r\n        this._canvas.renderAll();\r\n        this.getCheck();\r\n        resolve();\r\n      })\r\n    }\r\n    reader.readAsText(file);\r\n  }\r\n\r\n  localImportCanvas = (event) => {\r\n    new Promise((resolve) => {\r\n      this._canvas.clear();\r\n      this.importCanvas(event.target.files[0], resolve);\r\n    })\r\n    .then(() => {\r\n      //reset state\r\n      this.setState({\r\n        canvasView : { x: 0, y: 0},\r\n        activeObject : { type : 'not active', width : 0, height : 0, scaleX : 0, scaleY : 0, angle : 0},\r\n        zoom : 1,\r\n        openSave : false,\r\n        tab : 0,\r\n        user_name : '',\r\n        isSaved : false,\r\n        prj_idx : -1, \r\n        imgStatus : false, \r\n        activePopupTab: 0,\r\n      })\r\n      \r\n      this._createDomEvent();\r\n      this._createCanvasEvent();\r\n      this.currentState = this._canvas.toDatalessJSON();\r\n      this.currentState.width = this._canvas.width;\r\n      this.currentState.height = this._canvas.height;\r\n      this.currentState.backFilter = [false, false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]\r\n      this.currentState.action = \"initilize\";\r\n      this.currentState.id = 0;\r\n      this.firstState = this.currentState;\r\n      this.action['Grid'].makeGrid();\r\n      this.forceUpdate(); // for showUndo/Redo Stack\r\n      this.action['Draw'].setBrush(); // Canvas Required\r\n      this.resizeScale();\r\n    })\r\n  }\r\n\r\n  clearBackgroundColor = () => {\r\n    if(this._canvas){\r\n      this._canvas.backgroundColor = null;\r\n      this._canvas.renderAll();\r\n    }\r\n  }\r\n\r\n  changeToKorean = () => {\r\n    i18next.changeLanguage('ko')\r\n  }\r\n\r\n  changeToEnglish = () => {\r\n    i18next.changeLanguage('en')\r\n  }\r\n\r\n  getCanvasInfo = () => {\r\n    console.log(this._canvas);\r\n  }\r\n\r\n  getCanvasBackinfo = () => {\r\n    if(this._canvas.backgroundImage){\r\n      alert(this._canvas.backgroundImage.width +' '+ this._canvas.backgroundImage.height +' '+ this._canvas.backgroundImage.scaleX + ' ' + this._canvas.backgroundImage.scaleY)\r\n    }\r\n  }\r\n\r\n  getCanvasBackgroundInfo = () => {\r\n    console.log(this._canvas.backgroundImage)\r\n  }\r\n\r\n  getMousePointInfo = (event) => {\r\n    if(event.target.checked){\r\n      this._canvas.on('mouse:down', this.showPointer);\r\n    }\r\n    else{\r\n      this._canvas.off('mouse:down', this.showPointer);\r\n    }\r\n  }\r\n\r\n  showPointer = (event) => {\r\n    console.log(event, this._canvas.getPointer(event, false));\r\n  }\r\n\r\n  getCanvasEventInfo = () => {\r\n    for (const key in this._canvas.__eventListeners){\r\n      console.log(key);\r\n      for ( const i of this._canvas.__eventListeners[key]){\r\n        console.log(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  onclickUndoStack = (event) => {\r\n    let origin = this.currentState.id;\r\n    let dest = parseInt(event.target.getAttribute('number'), 10);\r\n\r\n    if(this.stateStack.length > 0){\r\n      this.redoStack.push(this.currentState);\r\n      for(let i = dest; i < origin - 1 ; i++ ){\r\n        this.redoStack.push( this.stateStack.pop() );\r\n      }\r\n\r\n      this.currentState = this.stateStack.pop();\r\n  \r\n      this._canvas.loadFromJSON(this.currentState, () => {\r\n        this._canvas.setWidth(this.currentState.width);\r\n        this._canvas.setHeight(this.currentState.height);\r\n        this._canvas.calcOffset();\r\n\r\n        if(this._canvas.backgroundImage){\r\n          this._canvas.backgroundImage.filters = this.currentState.backFilter;\r\n        }\r\n        this.forceUpdate();\r\n      });\r\n    }\r\n  \r\n  }\r\n  \r\n  onclickRedoStack = (event) => {\r\n    let origin = this.currentState.id;\r\n    let dest = parseInt(event.target.getAttribute('number'), 10);\r\n    // console.log(dest, origin - 1);\r\n    if(this.redoStack.length > 0){\r\n      this.stateStack.push(this.currentState);\r\n      for(let i = origin; i < dest - 1 ; i++ ){\r\n        this.stateStack.push(this.redoStack.pop());\r\n      }\r\n      this.currentState = this.redoStack.pop();\r\n\r\n      this._canvas.loadFromJSON(this.currentState, () => {\r\n        this._canvas.setWidth(this.currentState.width);\r\n        this._canvas.setHeight(this.currentState.height);\r\n        this._canvas.calcOffset();\r\n        this.forceUpdate();\r\n      });\r\n    }\r\n  }\r\n\r\n  showUndoStack = () => {\r\n    const listitem = this.stateStack.map((state) =>\r\n    <div className=\"stack-box\" key= {state.id} number = {state.id} onClick = {this.onclickUndoStack}>\r\n        <div style = {{color : 'black'}} className=\"undo-stack\" >\r\n            {state.id + 1} : {i18next.t(state.action)}\r\n        </div>\r\n        <div className=\"link-image\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\r\n                <path d={linkIcon.link} />\r\n            </svg>\r\n        </div>\r\n    </div>\r\n    );\r\n    return(\r\n      <div>\r\n          {listitem}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  showRedoStack = () => {\r\n    const listitem = this.redoStack.map((state) =>\r\n      <p style = {{color : '#820000'}} key = {state.id} className=\"redo-stack\" number = {state.id} onClick = {this.onclickRedoStack}>{state.id} : {i18next.t(state.action)}</p>\r\n    );\r\n    return(\r\n      <div>\r\n        {listitem}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  showCurrentState = () => {\r\n    if(this._canvas){\r\n      return(\r\n        <div className=\"current-state\">\r\n          Current state : {i18next.t(this.currentState.action)}\r\n        </div>\r\n      )\r\n    }\r\n    else{\r\n      return null;\r\n    }\r\n  }\r\n\r\n  updateObject = () => {\r\n    this.setState({activeObject : this.getActiveObject() ? this.getActiveObject() : {type : 'not active', width : 0, height : 0, scaleX : 0, scaleY : 0, angle : 0}})\r\n  }\r\n\r\n  loadingStart = () => {\r\n    this.setState({imgStatus : true})\r\n  }\r\n\r\n  loadingFinish = () => {\r\n    console.log('loading finish')\r\n    this.setState({imgStatus : false});\r\n  }\r\n\r\n  changeTab = (event) => {\r\n    this.setState({tab : parseInt(event.target.getAttribute('tab'), 10)});\r\n  }\r\n\r\n  getCheck = () => {\r\n    fetch('/auth/check', {\r\n      method: 'GET',\r\n      headers : { 'Cache-Control' : 'no-cache' }\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.success) {\r\n        this.setState({user_name: data.info.user_id});\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('no login');\r\n      // alert('error');\r\n    });\r\n  }\r\n\r\n  getCheckSave = (idx) => {\r\n    if(!idx){ idx = -1 }\r\n    this.setState({isSaved : idx === -1 ? false : true, prj_idx : idx});\r\n  }\r\n\r\n  buttonLayer = () => {\r\n    return this.action['Layers'].buttonLayer();\r\n  }\r\n\r\n  clickHandler = (id) => {\r\n    this.setState({activePopupTab : id});\r\n  }\r\n\r\n  returnToHome = () => {\r\n    if(window.confirm(i18next.t('ImageEditor.LeavePage'))) window.location.replace('/main');\r\n  }\r\n\r\n  canvasZoom = (event) => {\r\n    if(event.e.wheelDelta > 0){ // wheel up\r\n      this.canvasZoomIn(event)\r\n    }\r\n    else{\r\n      this.canvasZoomOut(event);\r\n    }\r\n  }\r\n\r\n  buttonCanvasZoom = (event) => {\r\n    const option = event.target.getAttribute('option');\r\n    if(option === \"in\"){\r\n      this.canvasZoomIn(event);\r\n    }\r\n    else{\r\n      this.canvasZoomOut(event);\r\n    }\r\n  }\r\n\r\n  canvasZoomIn = (event) => {\r\n    // event.preventDefault();\r\n    const zoomScale = this.state.scaleZoom + 0.05;\r\n    const maxHeight = document.getElementsByClassName('editor-main')[0].clientHeight\r\n    const maxWidth = document.getElementsByClassName('editor-main')[0].clientWidth\r\n\r\n    //캔버스 확대 기능 안 쓰고 그냥 확대함. 문제는 마우스로 이동 불가능. 스크롤바로만 이동 가능. 스크롤바 때문에 어려워짐...\r\n    // 초반에 만들어지는 real크기만 어떻게 좀 하면.... 그러면 scale 영향 받을거 같은디.\r\n    // document.getElementById('canvas').style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n    // document.getElementsByClassName('upper-canvas')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n    // if(zoomScale < 2.5){\r\n    //   document.getElementsByClassName('canvas-container')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n    //   this.setState({ scaleZoom: this.state.scaleZoom + 0.05 })\r\n    // }\r\n\r\n\r\n    //캔버스 기능 씀. 문제는.. 스크롤바가 없다는 것.\r\n    if(this._canvas.width * zoomScale < maxWidth && this._canvas.height * zoomScale < maxHeight){\r\n      // document.getElementById('canvas').style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      // document.getElementsByClassName('upper-canvas')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      document.getElementsByClassName('canvas-container')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      this.setState({ scaleZoom: this.state.scaleZoom + 0.05 })\r\n    }\r\n    else{\r\n      // console.log('pointer bug')\r\n      // this._canvasZoomEvent(event);\r\n    }\r\n\r\n  }\r\n\r\n  canvasZoomOut = (event) => {\r\n    const zoomScale = this.state.scaleZoom - 0.05;\r\n    // const maxHeight = document.getElementsByClassName('editor-main')[0].clientHeight\r\n    // const maxWidth = document.getElementsByClassName('editor-main')[0].clientWidth\r\n    // if(zoomScale > 0.1){\r\n    //   document.getElementsByClassName('canvas-container')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n    //   this.setState({ scaleZoom: this.state.scaleZoom - 0.05 })\r\n    // }\r\n\r\n\r\n    // canvas와 upper-canvas를 scale 할건가, 아님 canvas-container만 scale 할건가. scale은 부모 기준으로 되기 때문에 둘 중 하나만 가능\r\n    if(this.state.zoom > 1){\r\n      this._canvasZoomEvent(event);\r\n    }\r\n    else if(this._canvas.width * zoomScale > 100 && this._canvas.height * zoomScale > 100 && zoomScale > 0.1){\r\n      // document.getElementById('canvas').style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      // document.getElementsByClassName('upper-canvas')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      document.getElementsByClassName('canvas-container')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      this.setState({ scaleZoom: this.state.scaleZoom - 0.05 })\r\n    }\r\n\r\n  }\r\n\r\n  resizeScale = () => {\r\n    // 일단은 캔버스가 클 때만 작동.\r\n    const maxHeight = document.getElementsByClassName('editor-main')[0].clientHeight\r\n    const maxWidth = document.getElementsByClassName('editor-main')[0].clientWidth\r\n    let zoomScale = 1;\r\n    // console.log(this._canvas.width, maxWidth, maxHeight)\r\n    while(this._canvas.height * zoomScale > maxHeight){\r\n      zoomScale -= 0.05;\r\n    }\r\n    if(this._canvas.height * zoomScale <= maxHeight){\r\n      // document.getElementById('canvas').style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      // document.getElementsByClassName('upper-canvas')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      console.log('height resize')\r\n      document.getElementsByClassName('canvas-container')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      this.setState({ scaleZoom: zoomScale })\r\n    }\r\n\r\n    while(this._canvas.width * zoomScale > maxWidth){\r\n      zoomScale -= 0.05;\r\n    }\r\n    if(this._canvas.width * zoomScale <= maxWidth){\r\n      // document.getElementById('canvas').style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      // document.getElementsByClassName('upper-canvas')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      console.log('width resize')\r\n      document.getElementsByClassName('canvas-container')[0].style.setProperty(\"transform\", \"scale(\"+zoomScale+\",\"+zoomScale+\")\");\r\n      this.setState({ scaleZoom: zoomScale })\r\n    }\r\n\r\n    document.getElementById(\"canvas\").style[\"position\"] = \"static\"\r\n  }\r\n\r\n\r\n  checkCanvasSize = () => {\r\n    // const maxHeight = document.getElementsByClassName('real')[0].clientHeight\r\n    // const maxWidth = document.getElementsByClassName('real')[0].clientWidth\r\n    this.resizeScale();\r\n    // console.log(maxHeight, maxWidth)\r\n  }\r\n\r\n  render() {\r\n    if(i18next.language === 'ko'){\r\n      this.stylelang = this.kostyle;\r\n    }\r\n    else {\r\n      this.stylelang = this.enstyle;\r\n    }\r\n\r\n    let historyBorder, layerBorder, infoBorder;\r\n    if(this.state.activePopupTab === 0){\r\n      historyBorder = \"history-tab-border\";\r\n      layerBorder = \"layer-tab\";\r\n      infoBorder = \"info-tab\";\r\n    }\r\n    else if(this.state.activePopupTab === 1){\r\n      historyBorder = \"history-tab\";\r\n      layerBorder = \"layer-tab-border\";\r\n      infoBorder = \"info-tab\";\r\n    }\r\n    else if(this.state.activePopupTab === 2){\r\n      historyBorder = \"history-tab\";\r\n      layerBorder = \"layer-tab\";\r\n      infoBorder = \"info-tab-border\";\r\n    }\r\n\r\n    const popupTab = {\r\n      0: <HistoryUI showUndoStack = {this.showUndoStack} showCurrentState={this.showCurrentState}/>,\r\n      1: <div className=\"layers-detail\">{this.buttonLayer()}</div>,\r\n      2: <div className=\"canvas-info\">\r\n          {/* <div className=\"canvas-zoom-info\">{i18next.t('ImageEditor.Zoom')} : {this.state.zoom}</div> */}\r\n          <div className=\"canvas-size-info\">\r\n            <p className=\"canvas-info-title\">Size</p>\r\n            <p>{this._canvas ? this._canvas.width : 0} X {this._canvas ? this._canvas.height : 0}</p>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"canvas-zoom-info\">\r\n            <p className=\"canvas-info-title\">Zoom {((this.state.scaleZoom + this.state.zoom - 1) * 100).toFixed(1)}%</p>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"canvas-color-info\">\r\n            <p className=\"canvas-info-title\">Background Color</p>\r\n            <p>{this._canvas ? this._canvas.backgroundColor : \"Null\"}</p>\r\n          </div>\r\n        </div>,\r\n    }\r\n    const tab = {\r\n      0: <TextUI \r\n          object={this.state.activeObject} \r\n          textObject={this.textObject} \r\n          addText = {this.addText} \r\n          setColor={this.setColor} \r\n          pipette = {this.action['Pipette']}\r\n          />,\r\n      1: <ImageUI \r\n          object={this.state.activeObject} \r\n          cropObject={this.cropObject} \r\n          cropStopObject={this.cropStopObject}\r\n          cropEndObject={this.cropEndObject}\r\n          addImage = {this.addImage}\r\n          imgStatus = {this.state.imgStatus}\r\n          />,\r\n      2: <FilterUI \r\n          object={this.state.activeObject} \r\n          filterObject={this.filterObject} \r\n          getBackgroundImage = {this.getBackgroundImage} \r\n          rangeFilterObject={this.rangeFilterObject}\r\n          filterValueObject = {this.filterValueObject}\r\n          />,\r\n      3: <IconUI \r\n          object={this.state.activeObject} \r\n          addIcon = {this.addIcon} \r\n          setColor={this.setColor}\r\n          pipette = {this.action['Pipette']}\r\n          />,\r\n      4: <ObjectUI \r\n          object={this.state.activeObject} \r\n          lockScaleRatio = {this.lockScaleRatio}\r\n          getLockScale = {this.getLockScale}\r\n          sendToBack = {this.sendToBack}\r\n          sendBackwards = {this.sendBackwards}\r\n          bringToFront = {this.bringToFront}\r\n          bringForward = {this.bringForward}\r\n          deleteObject = {this.deleteObject}\r\n          deleteAllObject = {this.deleteAllObject}\r\n          makeGroup = {this.makeGroup}\r\n          unGroup = {this.unGroup}\r\n          flipObject = {this.flipObject}\r\n          scaleXChange = {this.scaleXChange}\r\n          scaleYChange = {this.scaleYChange}\r\n          />,\r\n      5: <RotationUI object={this.state.activeObject} getBackgroundImage = {this.getBackgroundImage} setObjectAngle = {this.setObjectAngle} rotateObjectAngle = {this.rotateObjectAngle}/>,\r\n      6: <ShapeUI \r\n          object={this.state.activeObject} \r\n          addShape={this.addShape} \r\n          addLine={this.addLine} \r\n          setEndAngle = {this.setEndAngle}\r\n          makePolygonWithDrag={this.makePolygonWithDrag} \r\n          makePolygonWithClick={this.makePolygonWithClick}\r\n          setColor={this.setColor}\r\n          pipette = {this.action['Pipette']}\r\n          />,\r\n      7: <DrawUI \r\n          object={this.state.activeObject} \r\n          openDrawing={this.openDrawing} \r\n          closeDrawing={this.closeDrawing} \r\n          changeDrawingColor={this.changeDrawingColor} \r\n          changeDrawingWidth={this.changeDrawingWidth} \r\n          changeDrawingBrush={this.changeDrawingBrush} \r\n          />,\r\n      8: <ToolsUI \r\n          addImage={this.addImage} \r\n          objectInfo = {this.objectInfo} \r\n          openSaveModal = {this.openSaveModal} \r\n          getCanvasInfo = {this.getCanvasInfo}\r\n          getCanvasBackinfo = {this.getCanvasBackinfo}\r\n          isSaved = {this.state.isSaved}\r\n          prj_idx = {this.state.prj_idx}\r\n          user_name = {this.state.user_name} \r\n          canvas = {this._canvas}\r\n          object = {this.state.activeObject}\r\n          canvasView = {this.state.canvasView}\r\n          zoom = {this.state.zoom}\r\n        />,\r\n      9: <CanvasUI \r\n          object={this.state.activeObject} \r\n          canvas={this._canvas}\r\n          resetCanvas = {this.resetCanvas}\r\n          cropCanvas = {this.cropCanvas}\r\n          cropEndCanvas = {this.cropEndCanvas}\r\n          cropStopCanvas = {this.cropStopCanvas}\r\n          handleCropCanvasSizeChange = {this.handleCropCanvasSizeChange}\r\n          changeBackgroundColor = {this.changeBackgroundColor}\r\n          setCropCanvasSize = {this.setCropCanvasSize}\r\n          exportCanvas = {this.exportCanvas}\r\n          localImportCanvas = {this.localImportCanvas}\r\n          onClickSnap={this.onClickSnap}\r\n          onClickGrid={this.onClickGrid}\r\n          onClickObjectSnap={this.onClickObjectSnap}\r\n          gridOn = {this.gridOn}\r\n          snapOn = {this.snapOn}\r\n          objectSnapOn = {this.objectSnapOn}\r\n          clearBackgroundColor = {this.clearBackgroundColor}\r\n        />,\r\n      10: <EffectUI \r\n          object={this.state.activeObject} \r\n          setShadow = {this.setShadow} \r\n          removeShadow = {this.removeShadow}\r\n          setStroke={this.setStroke}\r\n          setStrokeColor={this.setStrokeColor} \r\n          pipette = {this.action['Pipette']}\r\n        />\r\n    };\r\n    return (\r\n      <div className='App'>\r\n        <SideNav \r\n          changeTab = {this.changeTab} \r\n          tab = {this.state.tab} \r\n          UI = { tab }\r\n          stylelang = {this.stylelang}\r\n        >\r\n        </SideNav>\r\n\r\n        <div className={this.state.tab === 99 ? \"closed-editor\" : \"opened-editor\"} id='editor'>\r\n          <Draggable\r\n            boutnds=\"editor\">\r\n            <div className=\"popup\" ref={this.scrollBot}>\r\n              <div className=\"popup-tab\">\r\n                <div className={historyBorder} onClick={()=>this.clickHandler(0)}>{i18next.t('ImageEditor.History')}</div>\r\n                <div className={layerBorder} onClick={()=>this.clickHandler(1)}>{i18next.t('ImageEditor.Layer')}</div>\r\n                <div className={infoBorder} onClick={()=>this.clickHandler(2)}>{i18next.t('ImageEditor.Info')}</div>\r\n              </div>\r\n              <div className=\"popup-content\">\r\n                {popupTab[this.state.activePopupTab]}\r\n              </div>\r\n            </div>\r\n          </Draggable>\r\n          <div  className={this.state.tab === 99 ? \"closed-editor-nav\" : \"editor-nav\"}>\r\n            <div className=\"do\">\r\n                <button onClick = {this.undo}>{i18next.t('ImageEditor.Undo')}</button>\r\n                <button onClick = {this.redo}>{i18next.t('ImageEditor.Redo')}</button>\r\n                <button className=\"topnav-zoom\" onClick = {this.buttonCanvasZoom} option = \"in\">+</button>\r\n                <button className=\"topnav-zoom\" onClick = {this.buttonCanvasZoom} option = \"out\">-</button>\r\n\r\n            </div>\r\n            <div className=\"save\">\r\n            </div>\r\n            <div className=\"save-more\">\r\n                <button id=\"save\" onClick={this.downloadImage} >{i18next.t('ImageEditor.Download')}</button>\r\n                <button id=\"save\" onClick={this.openSaveModal} >{i18next.t('ImageEditor.Save')}</button>\r\n                <button id=\"more\" onClick = { this.returnToHome }>{i18next.t('ImageEditor.Home')}</button>\r\n                {/* <input type=\"checkbox\" onClick={this.getMousePointInfo} /> */}\r\n            </div>\r\n          </div>\r\n          <div className=\"editor-main\">\r\n            <div className=\"real\" >\r\n              <canvas id='canvas' tabIndex='0'></canvas>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <Save \r\n          open = {this.state.openSave} \r\n          close = {this.closeSaveModal} \r\n          save = {this.saveImage} \r\n          size = {this.getCanvasSize} \r\n          user_name = {this.state.user_name} \r\n          getCanvas = {this.getCanvas} \r\n          canvas={this.currentState} \r\n          isSaved = {this.state.isSaved}\r\n          prj_idx = {this.state.prj_idx}\r\n          getCheckSave = {this.getCheckSave}\r\n        />\r\n        <Prompt \r\n        \twhen={true}\r\n          message={i18next.t('ImageEditor.LeavePage')}\r\n        />       \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(ImageEditor);","import i18next from \"../locale/i18n\";\r\nimport React, { Component } from 'react';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { generate3dPhoto } from './helper/generate3dPhoto';\r\n\r\nclass ImageFilter extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sourceImg : null,\r\n      mapImg : null,\r\n      source : false,\r\n      map : false,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n  }\r\n\r\n  imgSubmit = (event) => {\r\n    this.setState({source : false, sourceImg : null});\r\n    let file = event.target.files[0];\r\n    event.target.value = null;\r\n\r\n    let imgObj = new Image();\r\n\r\n    imgObj.crossOrigin = \"anonymous\";\r\n\r\n    imgObj.onload  = () => {\r\n      var tempCanvas = document.createElement('CANVAS');\r\n      var tempCtx = tempCanvas.getContext('2d');\r\n      tempCanvas.height = imgObj.naturalHeight;\r\n      tempCanvas.width = imgObj.naturalWidth;\r\n      tempCtx.drawImage(imgObj, 0, 0);\r\n      var dataURL = tempCanvas.toDataURL();\r\n      this.setState({sourceImg : dataURL, source : true})\r\n    }\r\n\r\n    imgObj.onerror = () => {\r\n      alert(i18next.t(\"ImageFilter.Load Error\"));\r\n      console.log('fail');\r\n    }\r\n\r\n    imgObj.src = URL.createObjectURL(file);\r\n  }\r\n\r\n  mapSubmit = (event) => {\r\n    this.setState({map : false, mapImg : null});\r\n    let file = event.target.files[0];\r\n    event.target.value = null;\r\n\r\n    let imgObj = new Image();\r\n\r\n    imgObj.crossOrigin = \"anonymous\";\r\n\r\n    imgObj.onload  = () => {\r\n      var tempCanvas = document.createElement('CANVAS');\r\n      var tempCtx = tempCanvas.getContext('2d');\r\n      tempCanvas.height = imgObj.naturalHeight;\r\n      tempCanvas.width = imgObj.naturalWidth;\r\n      tempCtx.drawImage(imgObj, 0, 0);\r\n      var dataURL = tempCanvas.toDataURL();\r\n      this.setState({mapImg : dataURL, map : true})\r\n    }\r\n\r\n    imgObj.onerror = () => {\r\n      alert(i18next.t(\"ImageFilter.Load Error\"));\r\n      console.log('fail');\r\n    }\r\n\r\n    imgObj.src = URL.createObjectURL(file);\r\n  }\r\n\r\n  generate = () => {\r\n\r\n    if(this.state.source && this.state.map){\r\n      let ph = document.getElementById('photo');\r\n      this.deleteChild(ph);\r\n      generate3dPhoto({\r\n        el: '#photo', // Required!\r\n        src: this.state.sourceImg, // Required!\r\n        map: this.state.mapImg, // Required!\r\n        scale: 0.7 // Optional, default: 1 \r\n      })\r\n    }\r\n  }\r\n\r\n  deleteChild = (el) => {\r\n    while( el.hasChildNodes() ){\r\n      el.removeChild(el.firstChild)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h1>{i18next.t(\"ImageFilter.Make\")}</h1>\r\n          <input type='file' onChange={this.imgSubmit} accept='image/*' />{i18next.t(\"ImageFilter.Image\")}\r\n          <input type='file' onChange={this.mapSubmit} accept='image/*' />{i18next.t(\"ImageFilter.MapFile\")}\r\n          <button onClick={this.generate}>{i18next.t(\"ImageFilter.Generate\")}</button>\r\n        \r\n        </div>\r\n\r\n        <div id = \"photo\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withTranslation()(ImageFilter);\r\n\r\n","// const PIXI = require('pixi.js');\r\nimport * as PIXI from 'pixi.js'\r\nexport function generate3dPhoto(options) {\r\n  let width;\r\n  let height;\r\n  const {\r\n    el, src, map, scale = 1\r\n  } = options;\r\n  const $target = document.querySelector(el);\r\n\r\n  const image = new Image()\r\n  image.src = src\r\n  image.onload = function () {\r\n    width = image.width * scale;\r\n    height = image.height * scale;\r\n    $target.style.width = `${width}px`;\r\n    $target.style.height = `${height}px`;\r\n\r\n    // Generate PIXI app.\r\n    let app = new PIXI.Application({\r\n      width,\r\n      height\r\n    });\r\n    app.stage.width = width;\r\n    app.stage.height = height;\r\n    $target.appendChild(app.view);\r\n\r\n    // Generate Sprite object for original image.\r\n    let img = new PIXI.Sprite.from(src);\r\n    img.width = width;\r\n    img.height = height;\r\n\r\n    // Generate Sprite object for depth map.\r\n    let depthMap = new PIXI.Sprite.from(map);\r\n    depthMap.width = width;\r\n    depthMap.height = height;\r\n\r\n    // Generate displacement filter by depth map.\r\n    let displacementFilter = new PIXI.filters.DisplacementFilter(depthMap);\r\n\r\n    // Put on the stage.\r\n    app.stage.addChild(img);\r\n    app.stage.addChild(depthMap);\r\n    app.stage.filters = [displacementFilter];\r\n\r\n    $target.onmousemove = function(e) {\r\n      displacementFilter.scale.x = (width / 2 - e.clientX) / 10;\r\n      displacementFilter.scale.y = (height / 2 - e.clientY) / 10;\r\n    };\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport '../css/Home.scss';\r\n\r\nclass Home extends Component {\r\n  render(){\r\n    return(\r\n      <div className=\"home-div\">\r\n        <div className=\"home-top-div\">\r\n          <div className=\"home-top-div-name\">\r\n            <h1>FRACT</h1>\r\n          </div>\r\n          <div className=\"home-top-div-start\">\r\n            <a className=\"start-button\" href=\"/main\">Start →</a>\r\n\r\n            \r\n          </div>\r\n        </div>\r\n        <div className=\"home-container\">\r\n          <section className = \"container\" id = \"first-section\">\r\n            <div className=\"section-maindiv\">\r\n              <div className=\"section-title\">\r\n                <h1>Image Edit</h1>\r\n              </div>\r\n\r\n              <div className=\"section-main\">\r\n                <div className = \"section-text\">\r\n                  <h1>Simple and Powerful</h1>\r\n                  If you need or want a Simple image editing, A big, heavy editor is unnecessary.\r\n                  Our Editor is Simple and Fast. Try Cropping Images, Adding a Letter, etc.\r\n                </div>\r\n                <div className = \"section-image\">\r\n                  <img id=\"first-img\" src=\"/image/home1.png\" alt=\"none\"></img>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <section className = \"container\" id = \"second-section\">\r\n            <div className=\"section-maindiv\">\r\n              <div className=\"section-title\">\r\n                <h1>Make Your Image More Beautiful</h1>\r\n              </div>\r\n              <div className=\"section-main\">\r\n                <div className = \"section-image\">\r\n                  <img id=\"first-img\" src=\"/image/home2.png\" alt=\"none\"></img>\r\n                </div>\r\n                <div className = \"section-text\">\r\n                  <h1>Image Filter</h1>\r\n                  Apply the effect to the Image with a simple button click.\r\n                  Brightness, Contrast, Blur, etc.\r\n                  <br/>\r\n                  FRACT provides 20+ filters.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <section className = \"container\" id = \"third-section\">\r\n            <div className=\"section-maindiv\">\r\n              <div className=\"section-title\">\r\n                <h1>Save and Load</h1>\r\n              </div>\r\n              <div className=\"section-main-col\">\r\n                <div className = \"section-image\">\r\n                  <img id=\"first-img\" src=\"/image/home3.png\" alt=\"none\"></img>\r\n                </div>\r\n                <div className = \"section-text\">\r\n                  <h1>Save a Image or Your Work</h1>\r\n                  Save the image or your work at any time you want. \r\n                  If you don't want to sign up, You can export your work to a file.\r\n                  Once you sign up, You can save your work on a server.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <section className = \"container\" id = \"fourth-section\">\r\n            <div className=\"section-maindiv\">\r\n              <div className=\"section-title\">\r\n                <h1>No SignUp, No Signin </h1>\r\n              </div>\r\n\r\n              <div className=\"section-main\">\r\n                <div className = \"section-text\">\r\n                  <h1>Without Login, You can use all features</h1>\r\n                  The Only thing that needs to be sign in is to be saved on our Server.\r\n                </div>\r\n                <div className = \"section-image\">\r\n                  <img id=\"first-img\" src=\"/image/home4.png\" alt=\"none\"></img>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n        </div>\r\n        <footer>\r\n          <ul>\r\n            <li><a href=\"https://github.com/hbseo/image_editor\">Github</a></li>\r\n            <li><a href=\"https://trello.com/b/INAP59Dv/image-editor\">Trello</a></li>\r\n            <li><a href=\"/helper\">Helper</a></li>\r\n            <li><a href=\"https://www.hanyang.ac.kr/web/eng/erica-campus1\">Hanyang Erica</a></li>\r\n          </ul>\r\n          <p>Hanyang</p>\r\n        </footer>        \r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withTranslation()(Home);","export function FilterHelp() {\r\n  return (\r\n    <div>\r\n      <div className=\"help-title\">\r\n        <h1>필터 적용 하는 법</h1>\r\n      </div>\r\n      <section className=\"help-container\">\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <ul>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n          <li>1</li>\r\n        </ul>\r\n      </section>\r\n      <div className=\"help-footer\">\r\n        밑바닥\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ImageCutHelp() {\r\n  return (\r\n    <div>\r\n      <div className=\"help-title\">\r\n        <h1>이미지 자르는 법</h1>\r\n      </div>\r\n      <section className=\"help-container\">\r\n        <p>글 많은 척 하기 글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <ul>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n          <li>22222222</li>\r\n        </ul>\r\n      </section>\r\n      <div className=\"help-footer\">\r\n        밑바닥\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function DrawPolygon(){\r\n  return (\r\n    <div>\r\n      <div className=\"help-title\">\r\n        <h1>도형 그리기</h1>\r\n      </div>\r\n      <section className=\"help-container\">\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <p>글 쓰는 척</p>\r\n        <ul>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n          <li>4444444</li>\r\n        </ul>\r\n      </section>\r\n      <div className=\"help-footer\">\r\n        밑바닥\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function GetStarted() {\r\n  return (\r\n    <div>\r\n      <div className=\"help-title\">\r\n        <h1>시작하기!</h1>\r\n      </div>\r\n      <section className=\"help-container\">\r\n        <p>NO</p>\r\n      </section>\r\n      <div className=\"help-footer\">\r\n        footer\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { Component } from 'react';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link, Route } from 'react-router-dom';\r\nimport {FilterHelp, ImageCutHelp, GetStarted, DrawPolygon} from './HelperPages';\r\nimport '../css/Helper.scss';\r\n\r\nclass Home extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      tab : 0\r\n    }\r\n\r\n  }\r\n\r\n  render(){\r\n    const { match } = this.props;\r\n    return(\r\n      <div className=\"helper-div\">\r\n        <div className=\"top-div\">\r\n          How to Use\r\n        </div>\r\n        <div className=\"container\">\r\n          <div className=\"side-nav\">\r\n            <ul className=\"subject\">\r\n              <a className=\"return-home\" href=\"/\">←</a>\r\n            </ul>\r\n            <ul className=\"subject\">\r\n              <li className=\"topic\"><Link to= {`${match.url}`}>Home</Link></li>\r\n            </ul>\r\n            <ul className=\"subject\">\r\n              <li className=\"topic\">Text</li>\r\n              <li className=\"sub-topic\">텍스트 할거 있나?</li>\r\n            </ul>\r\n            <ul className=\"subject\">\r\n              <li className=\"topic\">Filter</li>\r\n              <li><Link to= {`${match.url}/filterhelp`}>필터 적용</Link></li>\r\n            </ul>\r\n            <ul className=\"subject\">\r\n              <li className=\"topic\">Image</li>\r\n              <li><Link to= {`${match.url}/imagecut`}>Cut</Link></li>\r\n            </ul>\r\n            <ul className=\"subject\">\r\n              <li className=\"topic\">Polygon</li>\r\n              <li><Link to= {`${match.url}/drawpolygon`}>Drawing a Polygon</Link></li>\r\n            </ul>\r\n            \r\n          </div>\r\n          <div className=\"main\">\r\n            <Route path={`${match.url}/:sub`} component={GoHelper}/>\r\n            <Route exact path={match.url} render={GetStarted}/>  \r\n          </div>\r\n        </div>\r\n        \r\n        <footer>\r\n          <ul>\r\n            <li><a href=\"https://github.com/hbseo/image_editor\">Github</a></li>\r\n            <li><a href=\"https://trello.com/b/INAP59Dv/image-editor\">Trello</a></li>\r\n            <li><a href=\"/helper\">Helper</a></li>\r\n            <li><a href=\"https://www.hanyang.ac.kr/web/eng/erica-campus1\">Hanyang Erica</a></li>\r\n          </ul>\r\n          <p>Hanyang</p>\r\n        </footer>        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction GoHelper({match}) {\r\n  const sub = match.params.sub\r\n\r\n  switch(sub){\r\n    case 'filterhelp':\r\n      return FilterHelp();\r\n    case 'imagecut':\r\n      return ImageCutHelp();\r\n    case 'drawpolygon':\r\n      return DrawPolygon();\r\n    default:\r\n      return <h2>존재하지 않는 페이지입니다</h2>\r\n\r\n  }\r\n}\r\nexport default withTranslation()(Home);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\n// import FindPassword from './Find_password';\r\nimport '../css/Login/font-awesome.min.scss';\r\nimport '../css/Login/main.scss';\r\nimport '../css/Login/util.scss';\r\n\r\nclass SignIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: '',\r\n      password: ''\r\n    }\r\n  }\r\n  loginHandler = (e) => {\r\n    const {name, value} = e.target;\r\n    this.setState({[name]: value});\r\n  }\r\n  loginClickHandler = (e) => {\r\n    e.preventDefault();\r\n    const {id, password} = this.state;\r\n    fetch('/auth/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({id, password})\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.msg === 'login success') {\r\n        alert(i18next.t('SignIn.Signin') + ' ' + i18next.t('SignIn.Success'));\r\n        try {\r\n          window.location.replace('/main'); \r\n        } catch (error) {\r\n          console.log('d');\r\n          console.log(error);\r\n        }\r\n      }\r\n      else {\r\n        alert(i18next.t('SignIn.Wrong'));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      alert(i18next.t('SignIn.Error'));\r\n    })\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='SignIn'>\r\n        <div className=\"limiter\">\r\n          <div className=\"container-login100\">\r\n            <div className=\"wrap-login100\">\r\n              <form className=\"login100-form validate-form\" onSubmit={this.loginClickHandler}>\r\n                <span className=\"login100-form-title\">\r\n                  {i18next.t('SignIn.Member Login')}\r\n              </span>\r\n                <div className=\"wrap-input100 validate-input\">\r\n                  <input className=\"input100\" type=\"text\" name=\"id\" placeholder=\"ID\" value={this.state.id} onChange={this.loginHandler} />\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-envelope\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                  <input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.loginHandler}/>\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <button className=\"login100-form-btn\" type='submit'>\r\n                  {i18next.t('SignIn.Signin')}\r\n                  </button>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <Link to={{\r\n                    pathname: '/register'\r\n                  }}><div className=\"register-button\">\r\n                      {i18next.t('SignIn.Create your Account')}\r\n                    {/* <i className=\"fa fa-long-arrow-right m-l-5\" aria-hidden=\"true\" /> */}\r\n                    </div></Link>\r\n                </div>\r\n                <div className=\"text-center p-t-12\">\r\n                  <span className=\"txt1\">\r\n                  {/* {i18next.t('SignIn.Forgot')} */}\r\n                </span>\r\n                  <Link to={{\r\n                    pathname: `/find`,\r\n                  }}><p className=\"txt2\">{i18next.t('SignIn.Username / Password?')}</p></Link>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(SignIn);","import React, { Component } from 'react';\r\nimport debounce from 'lodash/debounce';\r\nimport i18next from \"../locale/i18n\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from 'react-router-dom';\r\nimport '../css/Login/font-awesome.min.scss';\r\nimport '../css/Login/main.scss';\r\nimport '../css/Login/util.scss';\r\n\r\nclass SignUp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: '',\r\n      password: '',\r\n      passwordConfirm: '',\r\n      answer: '',\r\n      idDupCheck: null,\r\n      id_highlight: false,\r\n      password_hightlight: false\r\n    }\r\n    this.id_style = null;\r\n    this.choose = null;\r\n  }\r\n  componentDidMount() {\r\n    document.addEventListener(\"mouseup\", this.findHighlightTag);\r\n    document.addEventListener(\"keyup\", this.findHighlightTag);\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mouseup\", this.findHighlightTag);\r\n    document.removeEventListener(\"keyup\", this.findHighlightTag);\r\n  }\r\n  swtichSubmit = () => {\r\n    let pattern_id = /(?=.*\\d)(?=.*[a-z]).{8,20}/;\r\n    let pattern_pass = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}/;\r\n    if(this.state.id.match(pattern_id) && this.state.password.match(pattern_pass)\r\n    && this.state.passwordConfirm.match(pattern_pass) && this.choose !== null && this.state.answer !== '') {\r\n      document.getElementById(\"register-btn\").disabled = false;\r\n    }\r\n    else {\r\n      document.getElementById(\"register-btn\").disabled = true;\r\n    }\r\n  }\r\n  findHighlightTag = () => {\r\n    const id = document.activeElement.id;\r\n    if(id === \"id\" || id === \"password\") {\r\n      if(id === \"id\") {\r\n        this.setState({id_highlight: true, password_hightlight: false});\r\n        this.validateInput('id')\r\n\r\n      }\r\n      else {\r\n        this.setState({id_highlight: false, password_hightlight: true});\r\n        this.validateInput('password')\r\n      }\r\n    }\r\n    else this.setState({id_highlight: false, password_hightlight: false});\r\n  }\r\n  registerHandler = (e) => {\r\n    let { name, value } = e.target;\r\n    new Promise((resolve) => {\r\n      if(name === 'choose') {\r\n        this.choose = value;\r\n        document.getElementById(\"options-view-button\").checked = false;\r\n      }\r\n      else {\r\n        if(name === \"id\" || name === \"password\") {\r\n          let pattern = /[^a-zA-Z-_0-9]/g;\r\n          if(value.length > 0 && value.match(pattern)) value = value.replace(pattern, \"\");\r\n        }\r\n        this.setState({ [name]: value });\r\n      }\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      if(this.state.id || this.state.password) this.validateInput(name);\r\n      if(name === 'id') {\r\n        this.registerDupHandler(value);\r\n      }\r\n      this.swtichSubmit();\r\n    })\r\n  }\r\n  validatePassword = () => {\r\n    if(this.state.password === '' || this.state.passwordConfirm === '') {\r\n      return false;\r\n    }\r\n    return this.state.password === this.state.passwordConfirm;\r\n  }\r\n\r\n  validateInput = (name) => {\r\n    let lowerCaseLetters = /[a-z]/g;\r\n    let upperCaseLetters = /[A-Z]/g;\r\n    let numbers = /[0-9]/g;\r\n    let length = /.{8,20}/g;\r\n    if(name === \"id\" && this.state.id_highlight) {\r\n      if(this.state.id.match(lowerCaseLetters)) {\r\n        document.getElementById(\"letter_id\").classList.remove(\"invalid\");\r\n        document.getElementById(\"letter_id\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"letter_id\").classList.remove(\"valid\");\r\n        document.getElementById(\"letter_id\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.id.match(numbers)) {\r\n        document.getElementById(\"number_id\").classList.remove(\"invalid\");\r\n        document.getElementById(\"number_id\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"number_id\").classList.remove(\"valid\");\r\n        document.getElementById(\"number_id\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.id.match(length)) {\r\n        document.getElementById(\"length_id\").classList.remove(\"invalid\");\r\n        document.getElementById(\"length_id\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"length_id\").classList.remove(\"valid\");\r\n        document.getElementById(\"length_id\").classList.add(\"invalid\");\r\n      }\r\n    }\r\n    if(name === \"password\" && this.state.password_hightlight) {\r\n      if(this.state.password.match(lowerCaseLetters)) {\r\n        document.getElementById(\"letter_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"letter_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"letter_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"letter_pass\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.password.match(upperCaseLetters)) {\r\n        document.getElementById(\"capital_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"capital_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"capital_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"capital_pass\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.password.match(numbers)) {\r\n        document.getElementById(\"number_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"number_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"number_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"number_pass\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.password.match(length)) {\r\n        document.getElementById(\"length_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"length_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"length_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"length_pass\").classList.add(\"invalid\");\r\n      }\r\n    }\r\n  }\r\n\r\n  registerClickHandler = (e) => {\r\n    e.preventDefault();\r\n    if(!this.validatePassword()) {\r\n      alert(i18next.t(\"SignUp.Dup\"));\r\n      return;\r\n    }\r\n    if(this.choose === null) {\r\n      alert(i18next.t(\"SignUp.Select\"));\r\n      return;\r\n    }\r\n    if(this.state.answer === '') {\r\n      alert(i18next.t(\"SignUp.Answer\"));\r\n      return;\r\n    }\r\n    if (this.state.idDupCheck) {\r\n      const { id, password, answer } = this.state;\r\n      const question = this.choose;\r\n      fetch('/auth/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ id, password, answer, question })\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.msg === 'success') {\r\n            alert(i18next.t(\"SignUp.Success\"));\r\n            window.location.replace('/login'); \r\n          }\r\n          else {\r\n            alert(i18next.t(\"SignUp.Fail\"));\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          alert(i18next.t(\"SignUp.Error\"));\r\n        })\r\n    }\r\n    else {\r\n      alert(i18next.t(\"SignUp.Dup\"));\r\n    }\r\n  }\r\n  registerDupHandler = debounce(async(id) => {\r\n    fetch('/auth/dupCheck', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ id })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.msg === 'exist') {\r\n          this.setState({ idDupCheck: false});\r\n        }\r\n        else {\r\n          this.setState({ idDupCheck: true });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        alert('error');\r\n      })\r\n  }, 300)\r\n\r\n  render() {\r\n    let duptag = null;\r\n    this.id_style = {border: '1px solid white'};\r\n    if(this.state.id !== '') {\r\n      if(this.state.idDupCheck !== null && !this.state.idDupCheck) {\r\n        duptag = <div className = 'duptag' >{i18next.t(\"SignUp.DupID\")}</div>\r\n        this.id_style = {border: '5px solid #ff4c4c'}\r\n      }\r\n    }\r\n    return (\r\n      <div className='SignUp'>\r\n        <div className=\"limiter\">\r\n          <div className=\"container-login100\">\r\n            <div className=\"wrap-login100\">\r\n              <form className=\"login100-form validate-form\" onSubmit={this.registerClickHandler}>\r\n                <span className=\"login100-form-title\">\r\n                  {i18next.t(\"SignUp.Member Register\")}\r\n              </span>\r\n                <div className=\"wrap-input100 validate-input\" data-validate='ID is required'>\r\n                  {duptag}\r\n                  <input className=\"input100\" type=\"text\" id=\"id\" name=\"id\" placeholder=\"ID\" value={this.state.id} onChange={this.registerHandler} style={this.id_style} maxLength=\"20\" />\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-envelope\" aria-hidden=\"true\" />\r\n                  </span>\r\n\r\n                  <CSSTransition in = {this.state.id_highlight} timeout={200} classNames=\"validCheck\" unmountOnExit >\r\n                    <div className=\"validateId\">\r\n                      <p className=\"invalid\" id=\"letter_id\"><b>{i18next.t(\"SignUp.Lower Case\")}</b></p>\r\n                      <p className=\"invalid\" id=\"number_id\"><b>{i18next.t(\"SignUp.Number\")}</b></p>\r\n                      <p className=\"invalid\" id=\"length_id\"><b>{i18next.t(\"SignUp.Minimum Length\")}</b></p>\r\n                    </div>\r\n                  </CSSTransition>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                  <input className=\"input100\" type=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.registerHandler} maxLength=\"20\"/>\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                  <CSSTransition in = {this.state.password_hightlight} timeout={200} classNames=\"validCheck\" unmountOnExit >\r\n                    <div className=\"validatePass\">\r\n                      <p className=\"invalid\" id=\"letter_pass\"><b>{i18next.t(\"SignUp.Lower Case\")}</b></p>\r\n                      <p className=\"invalid\" id=\"capital_pass\"><b>{i18next.t(\"SignUp.Upper Case\")}</b></p>\r\n                      <p className=\"invalid\" id=\"number_pass\"><b>{i18next.t(\"SignUp.Number\")}</b></p>\r\n                      <p className=\"invalid\" id=\"length_pass\"><b>{i18next.t(\"SignUp.Minimum Length\")}</b></p>\r\n                    </div>\r\n                  </CSSTransition>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                  <input className=\"input100\" type=\"password\" name=\"passwordConfirm\" placeholder=\"Password Confirm\" vlaue={this.state.passwordConfirm} onChange={this.registerHandler} maxLength=\"20\"/>\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div id=\"app-cover\">\r\n                  <div id=\"select-box\">\r\n                    <input type=\"checkbox\" id=\"options-view-button\" />\r\n                    <div id=\"select-button\" className=\"brd\">\r\n                      <div id=\"selected-value\">\r\n                        <span>{i18next.t(\"SignUp.Select\")}</span>\r\n                      </div>\r\n                      <div id=\"chevrons\">\r\n                        <i className=\"fa fa-chevron-up\" />\r\n                        <i className=\"fa fa-chevron-down\" />\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"options\">\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"choose\" defaultValue=\"1\" onChange={this.registerHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"choose\" defaultValue=\"1\"  onChange={this.registerHandler}/>\r\n                        <span className=\"label\">{i18next.t(\"SignUp.Place\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"SignUp.Place\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"choose\" defaultValue=\"2\"  onChange={this.registerHandler}/>\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"choose\" defaultValue=\"2\"  onChange={this.registerHandler}/>\r\n                        <span className=\"label\">{i18next.t(\"SignUp.To be\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"SignUp.To be\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"choose\" defaultValue=\"3\" onChange={this.registerHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"choose\" defaultValue=\"3\"  onChange={this.registerHandler}/>\r\n                        <span className=\"label\">{i18next.t(\"SignUp.Treasure\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"SignUp.Treasure\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"choose\" defaultValue=\"4\"  onChange={this.registerHandler}/>\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"choose\" defaultValue=\"4\"  onChange={this.registerHandler}/>\r\n                        <span className=\"label\">{i18next.t(\"SignUp.Motto\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"SignUp.Motto\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"choose\" defaultValue=\"5\" onChange={this.registerHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"choose\" defaultValue=\"5\"  onChange={this.registerHandler}/>\r\n                        <span className=\"label\">{i18next.t(\"SignUp.Respect\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"SignUp.Respect\")}</span>\r\n                      </div>\r\n                      <div id=\"option-bg\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\">\r\n                  <input className=\"input100\" type=\"text\" name=\"answer\" placeholder=\"Answer\" value={this.state.answer} onChange={this.registerHandler}></input>\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-sticky-note\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <button className=\"login100-form-btn\" id=\"register-btn\" type='submit' disabled={true}>\r\n                    {i18next.t(\"SignUp.Register\")}\r\n                </button>\r\n                </div>\r\n                <div className=\"text-center p-t-136\">\r\n                  <Link to={{\r\n                    pathname: '/login',\r\n                  }}><div className=\"txt2 was-a\">\r\n                      {i18next.t(\"SignUp.Login your Account\")}\r\n                    <i className=\"fa fa-long-arrow-right m-l-5\" aria-hidden=\"true\" />\r\n                    </div></Link>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(SignUp);","import React, { Component } from 'react';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport '../css/Login/main.scss';\r\nclass Change_password extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      current_password: '',\r\n      new_password: '',\r\n      confirm_password: '',\r\n      password_highlight: false\r\n    }\r\n    this.id = props.match.params.id;\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mouseup\", this.findHighlightTag);\r\n    document.addEventListener(\"keyup\", this.findHighlightTag);\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mouseup\", this.findHighlightTag);\r\n    document.removeEventListener(\"keyup\", this.findHighlightTag);\r\n  }\r\n\r\n  validatePassword = () => {\r\n    if(this.state.new_password === '' || this.state.confirm_password === '') {\r\n      return false;\r\n    }\r\n    return this.state.new_password === this.state.confirm_password;\r\n  }\r\n\r\n  findHighlightTag = () => {\r\n    const id = document.activeElement.id;\r\n    if(id === \"password\") this.setState({password_highlight: true})\r\n    else this.setState({password_highlight: false});\r\n  }\r\n\r\n  swtichSubmit = () => {\r\n    let pattern_pass = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}/;\r\n    if(this.state.current_password.match(pattern_pass) && this.state.new_password.match(pattern_pass)\r\n    && this.state.confirm_password.match(pattern_pass)) {\r\n      document.getElementById(\"confirm\").disabled = false;\r\n    }\r\n    else {\r\n      document.getElementById(\"confirm\").disabled = true;\r\n    }\r\n  }\r\n\r\n  change_passwordHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    new Promise((resolve) => {\r\n      this.setState({ [name] : value});\r\n      resolve();\r\n    })\r\n    .then(() => {\r\n      if(name === \"new_password\") this.validateInput();\r\n      this.swtichSubmit();\r\n    })\r\n  }\r\n  validateInput = () => {\r\n    let lowerCaseLetters = /[a-z]/g;\r\n    let upperCaseLetters = /[A-Z]/g;\r\n    let numbers = /[0-9]/g;\r\n    let length = /.{8,20}/g;\r\n    if(this.state.password_highlight) {\r\n      if(this.state.new_password.match(lowerCaseLetters)) {\r\n        document.getElementById(\"letter_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"letter_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"letter_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"letter_pass\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.new_password.match(upperCaseLetters)) {\r\n        document.getElementById(\"capital_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"capital_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"capital_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"capital_pass\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.new_password.match(numbers)) {\r\n        document.getElementById(\"number_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"number_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"number_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"number_pass\").classList.add(\"invalid\");\r\n      }\r\n      if(this.state.new_password.match(length)) {\r\n        document.getElementById(\"length_pass\").classList.remove(\"invalid\");\r\n        document.getElementById(\"length_pass\").classList.add(\"valid\");\r\n      } else {\r\n        document.getElementById(\"length_pass\").classList.remove(\"valid\");\r\n        document.getElementById(\"length_pass\").classList.add(\"invalid\");\r\n      }\r\n    }\r\n  }\r\n\r\n  change_passwordClickHandler = (e) => {\r\n    e.preventDefault();\r\n    let pattern_pass = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}/;\r\n    if(!this.state.new_password.match(pattern_pass)) return;\r\n    if(!this.state.confirm_password.match(pattern_pass)) return;\r\n    const {current_password, new_password} = this.state;\r\n    const id = this.id;\r\n    if(!this.validatePassword()) {\r\n      alert(i18next.t('Change_Password.notMatchPW'));\r\n      return;\r\n    }\r\n    if(this.id) {\r\n      fetch('/auth/changeUserPassword', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({id, current_password, new_password})\r\n      })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if(data.msg === 'success') {\r\n          alert(i18next.t('Change_Password.PWsuccess'));\r\n          window.location.replace('/main');\r\n        }\r\n        else {\r\n          if(data.msg === \"not login\") {\r\n            alert(i18next.t(\"login_expired\"));\r\n            window.location.replace('/main');\r\n            return;\r\n          }\r\n          alert(i18next.t('Change_Password.PWfail'));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        alert(error);\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div className=\"Change_password\">\r\n        <div className=\"limiter\">\r\n          <div className=\"container-login100\">\r\n            <div className=\"wrap-login100\">\r\n              <form className=\"login100-form validate-form\" onSubmit={this.change_passwordClickHandler}>\r\n                <span className=\"login100-form-title\">\r\n                  {i18next.t('Change_Password.Change Password')}\r\n              </span>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                  <input className=\"input100\" type=\"password\" name=\"current_password\" placeholder=\"Current password\" value={this.state.current_password} onChange={this.change_passwordHandler}/>\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                  <input className=\"input100\" type=\"password\" id=\"password\" name=\"new_password\" placeholder=\"New password\" value={this.state.new_password} onChange={this.change_passwordHandler} />\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                  <CSSTransition in ={this.state.password_highlight} timeout={200} classNames=\"validCheck\" unmountOnExit>\r\n                  <div className=\"validatePass\">\r\n                    <p className=\"invalid\" id=\"letter_pass\"><b>{i18next.t(\"Change_Password.Lower Case\")}</b></p>\r\n                    <p className=\"invalid\" id=\"capital_pass\"><b>{i18next.t(\"Change_Password.Upper Case\")}</b></p>\r\n                    <p className=\"invalid\" id=\"number_pass\"><b>{i18next.t(\"Change_Password.Number\")}</b></p>\r\n                    <p className=\"invalid\" id=\"length_pass\"><b>{i18next.t(\"Change_Password.Minimum Length\")}</b></p>\r\n                  </div>\r\n                  </CSSTransition>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                  <input className=\"input100\" type=\"password\" name=\"confirm_password\" placeholder=\"Confirm password\" value={this.state.confirm_password} onChange={this.change_passwordHandler} />\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <button className=\"login100-form-btn\" id=\"confirm\" disabled={true} type=\"submit\">\r\n                    {i18next.t('Change_Password.Confirm')}\r\n                </button>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <button className=\"login100-form-btn\" id=\"cancel\" onClick={() => this.props.history.push('/')}>\r\n                    {i18next.t('Change_Password.Cancel')}\r\n                </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Change_password);","import React, { Component } from 'react';\r\nimport i18next from \"../locale/i18n\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nclass Find_password extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: '',\r\n      answer: ''\r\n    }\r\n    this.question = null;\r\n  }\r\n  findHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === 'question') {\r\n      this.question = value;\r\n      document.getElementById(\"options-view-button\").checked = false;\r\n    }\r\n    else {\r\n      this.setState({ [name]: value });\r\n    }\r\n  }\r\n  findClickHandler = (e) => {\r\n    e.preventDefault();\r\n    if(this.state.id === '') {\r\n      alert(i18next.t(\"Find_Password.Input Id\"));\r\n      return;\r\n    }\r\n    if(this.state.answer === '') {\r\n      alert(i18next.t(\"Find_Password.Answer\"));\r\n      return;\r\n    }\r\n    if(this.question === null) {\r\n      alert(i18next.t(\"Find_Password.Choose\"));\r\n      return;\r\n    }\r\n    const {id, answer} = this.state;\r\n    const question = this.question;\r\n    fetch('/auth/findPassword', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({id, question, answer})\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if(data.msg === 'success') {\r\n        alert(`${i18next.t(\"Find_Password.Temp\")}: `+data.password);\r\n        window.location.replace('/');\r\n      }\r\n      else{\r\n        alert(i18next.t(\"Find_Password.Wrong\"));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      alert('error: '+error);\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Find_password\">\r\n        <div className=\"limiter\">\r\n          <div className=\"container-login100\">\r\n            <div className=\"wrap-login100\">\r\n              <form className=\"login100-form validate-form\">\r\n                <span className=\"login100-form-title\">\r\n                  {i18next.t(\"Find_Password.Find\")}\r\n              </span>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"ID is required\">\r\n                  <input className=\"input100\" type=\"text\" name=\"id\" placeholder=\"ID\" value={this.state.id} onChange={this.findHandler} />\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div id=\"app-cover\">\r\n                  <div id=\"select-box\">\r\n                    <input type=\"checkbox\" id=\"options-view-button\" />\r\n                    <div id=\"select-button\" className=\"brd\">\r\n                      <div id=\"selected-value\">\r\n                        <span>{i18next.t(\"Find_Password.Choose\")}</span>\r\n                      </div>\r\n                      <div id=\"chevrons\">\r\n                        <i className=\"fa fa-chevron-up\" />\r\n                        <i className=\"fa fa-chevron-down\" />\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"options\">\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"question\" defaultValue=\"1\" onChange={this.findHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"question\" defaultValue=\"1\" onChange={this.findHandler} />\r\n                        <span className=\"label\">{i18next.t(\"Find_Password.Place\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"Find_Password.Place\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"question\" defaultValue=\"2\" onChange={this.findHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"question\" defaultValue=\"2\" onChange={this.findHandler} />\r\n                        <span className=\"label\">{i18next.t(\"Find_Password.To be\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"Find_Password.To be\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"question\" defaultValue=\"3\" onChange={this.findHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"question\" defaultValue=\"3\" onChange={this.findHandler} />\r\n                        <span className=\"label\">{i18next.t(\"Find_Password.Treasure\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"Find_Password.Treasure\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"question\" defaultValue=\"4\" onChange={this.findHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"question\" defaultValue=\"4\" onChange={this.findHandler} />\r\n                        <span className=\"label\">{i18next.t(\"Find_Password.Motto\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"Find_Password.Motto\")}</span>\r\n                      </div>\r\n                      <div className=\"option\">\r\n                        <input className=\"s-c top\" type=\"radio\" name=\"question\" defaultValue=\"5\" onChange={this.findHandler} />\r\n                        <input className=\"s-c bottom\" type=\"radio\" name=\"question\" defaultValue=\"5\" onChange={this.findHandler} />\r\n                        <span className=\"label\">{i18next.t(\"Find_Password.Respect\")}</span>\r\n                        <span className=\"opt-val\">{i18next.t(\"Find_Password.Respect\")}</span>\r\n                      </div>\r\n                      <div id=\"option-bg\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Asnwer is required\">\r\n                  <input className=\"input100\" type=\"text\" name=\"answer\" placeholder=\"Answer\" value={this.state.answer} onChange={this.findHandler} />\r\n                  <span className=\"focus-input100\" />\r\n                  <span className=\"symbol-input100\">\r\n                    <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                  </span>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <button className=\"login100-form-btn\" id=\"confirm\" onClick={this.findClickHandler}>\r\n                    {i18next.t(\"Find_Password.Confirm\")}\r\n                </button>\r\n                </div>\r\n                <div className=\"container-login100-form-btn\">\r\n                  <button className=\"login100-form-btn\" id=\"cancel\" onClick={() => this.props.history.push('/main')}>\r\n                    {i18next.t(\"Find_Password.Cancel\")}\r\n                </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Find_password);","import React from  'react';\r\nimport {Redirect, Route} from 'react-router';\r\nimport { useAsync } from 'react-async';\r\n\r\nconst isLogin = async() => {\r\n  const response = await fetch('/auth/check', { method: 'GET', headers : { 'Cache-Control' : 'no-cache' }});\r\n  return response.json();\r\n}\r\n\r\n// 접근 권한이 없을 때 메인 페이지로 Redirect\r\nexport const PublicRoute = ({ component: Component, restricted, ...rest }) => {\r\n  const { data, error, isLoading } = useAsync({ promiseFn: isLogin })\r\n  if(isLoading) return \"Loading...\"\r\n  if(error) return error\r\n  if(data)\r\n    return(\r\n      <Route\r\n        {...rest}\r\n        render={(props) => (data.success && restricted ? <Redirect to=\"/\" /> : <Component {...props} />)}\r\n      />\r\n    )\r\n}\r\n\r\n// 접근 권한이 없을 때 로그인 페이지로 Redirect\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { data, error, isLoading } = useAsync({ promiseFn: isLogin })\r\n  if(isLoading) return \"Loading...\"\r\n  if(error) return error\r\n  if(data)\r\n    return(\r\n      <Route\r\n        {...rest}\r\n        render={(props) => (data.success ? <Component {...props} /> : <Redirect to=\"/login\" />)}\r\n      />\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport Error from './components/Error';\r\nimport Main from './components/Main';\r\nimport ImageEditor from './components/ImageEditor';\r\nimport ImageFilter from './components/ImageFilter';\r\nimport Home from './components/Home';\r\nimport Helper from './components/Helper';\r\nimport SignIn from './components/SignIn';\r\nimport SignUp from './components/SignUp';\r\nimport ChangePassword from './components/Change_password';\r\nimport FindPassword from './components/Find_password';\r\nimport { Route, Switch } from 'react-router';\r\nimport { PublicRoute, PrivateRoute } from './Route';\r\n\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Switch>\r\n      <Route exact path=\"/Main\" component={Main} />\r\n\t\t\t<Route exact path=\"/edit\" component={ImageEditor} />\r\n\t\t\t<Route exact path=\"/filter\" component={ImageFilter} />\r\n\t\t\t<Route exact path=\"/\" component={Home} />\r\n      <Route path=\"/helper\" component={Helper} />\r\n      {/* <Route exact path=\"/login\" component={SignIn} /> */}\r\n      {/* <Route exact path=\"/register\" component={SignUp} /> */}\r\n      {/* <Route exact path=\"/ChangePassword/:id\" component={ChangePassword} /> */}\r\n      {/* <Route exact path=\"/find\" component={FindPassword} /> */}\r\n      <PublicRoute exact path=\"/login\" restricted component={SignIn}/>\r\n      <PublicRoute exact path=\"/register\" restricted component={SignUp}/>\r\n      <PublicRoute exact path=\"/find\" restricted component={FindPassword} />\r\n      <PrivateRoute exact path=\"/ChangePassword/:id\" component={ChangePassword} />\r\n      <Route component={Error} />\r\n    </Switch>\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n","function shapeScalingResizeEvent(canvas, pointer, obj){\r\n  let width = Math.abs(obj.left - pointer.x);\r\n  let height = Math.abs(obj.top - pointer.y);\r\n\r\n  obj.set({\r\n    width : width,\r\n    height : height,\r\n    scaleX : 1,\r\n    scaleY : 1,\r\n  })\r\n  obj.setCoords();\r\n  canvas.renderAll();\r\n}\r\n\r\n/**\r\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\r\n */\r\n\r\n/**\r\n * Get the positions of ratated origin by the pointer value\r\n * @param {{x: number, y: number}} origin - Origin value\r\n * @param {{x: number, y: number}} pointer - Pointer value\r\n * @param {number} angle - Rotating angle\r\n * @returns {Object} Postions of origin\r\n * @ignore\r\n */\r\nfunction getPositionsOfRotatedOrigin(origin, pointer, angle) {\r\n  const sx = origin.x;\r\n  const sy = origin.y;\r\n  const px = pointer.x;\r\n  const py = pointer.y;\r\n  const r = angle * Math.PI / 180;\r\n  const rx = ((px - sx) * Math.cos(r)) - ((py - sy) * Math.sin(r)) + sx;\r\n  const ry = ((px - sx) * Math.sin(r)) + ((py - sy) * Math.cos(r)) + sy;\r\n\r\n  return {\r\n      originX: (sx > rx) ? 'right' : 'left',\r\n      originY: (sy > ry) ? 'bottom' : 'top'\r\n  };\r\n}\r\n\r\n/**\r\n * Adjust the origin of shape by the start point\r\n * @param {{x: number, y: number}} pointer - Pointer value\r\n * @param {fabric.Object} shape - Shape object\r\n * @ignore\r\n */\r\nfunction adjustOriginByStartPoint(pointer, shape) {\r\n  const centerPoint = shape.getPointByOrigin('center', 'center');\r\n  const angle = -shape.angle;\r\n  const originPositions = getPositionsOfRotatedOrigin(centerPoint, pointer, angle);\r\n  const {originX, originY} = originPositions;\r\n  const origin = shape.getPointByOrigin(originX, originY);\r\n  const left = shape.left - (centerPoint.x - origin.x);\r\n  const top = shape.top - (centerPoint.y - origin.y);\r\n\r\n  shape.set({\r\n      originX,\r\n      originY,\r\n      left,\r\n      top\r\n  });\r\n\r\n  shape.setCoords();\r\n}\r\n\r\n/**\r\n * Adjust the origin position of shape to center\r\n * @param {fabric.Object} shape - Shape object\r\n */\r\nfunction adjustOriginToCenter  (shape) {\r\n  const centerPoint = shape.getPointByOrigin('center', 'center');\r\n  const {originX, originY} = shape;\r\n  const origin = shape.getPointByOrigin(originX, originY);\r\n  const left = shape.left + (centerPoint.x - origin.x);\r\n  const top = shape.top + (centerPoint.y - origin.y);\r\n\r\n  shape.set({\r\n      hasControls: true,\r\n      hasBorders: true,\r\n      originX: 'center',\r\n      originY: 'center',\r\n      left,\r\n      top,\r\n  });\r\n  shape.setCoords(); // For left, top properties\r\n}\r\n\r\n\r\nfunction adjustBackgroundImage (img) {\r\n  // console.log(img.width)\r\n  // const width = img.width\r\n  // const height = img.height\r\n  // let ratio = img.height / img.width\r\n  // console.log(ratio)\r\n  // const rotatedWidth = 800\r\n  // const rotatedHeight = ratio * rotatedWidth\r\n  // console.log(img.getBoundingRect())\r\n  // img.set({\r\n  //   width : rotatedWidth,\r\n  //   height : rotatedHeight\r\n  // })\r\n}\r\n\r\nfunction exchangeBackgroundSize(canvas, angle) {\r\n  if(angle === 90 || angle === 270){\r\n    // console.log(angle)\r\n    // const originWidth = canvas.width\r\n    // const originHeight = canvas.height\r\n  \r\n    // canvas.setWidth(originHeight)\r\n    // canvas.setHeight(originWidth)\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  resize(canvas, event, obj){\r\n    const pointer = canvas.getPointer(event, false);\r\n    adjustOriginByStartPoint(pointer, obj)\r\n    shapeScalingResizeEvent(canvas, pointer, obj);\r\n    adjustOriginToCenter(obj)\r\n  },\r\n  adjustOriginToCenter(shape){\r\n    adjustOriginToCenter(shape)\r\n  },\r\n  adjustBackgroundImage(img){\r\n    adjustBackgroundImage(img)\r\n  },\r\n  exchangeBackgroundSize(canvas,angle){\r\n    exchangeBackgroundSize(canvas, angle)\r\n  }\r\n}\r\n"],"sourceRoot":""}